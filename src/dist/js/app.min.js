function Trade(t,e,a){this.img=null,this.imgSrc=t,this.savedPos=e,this.actualPos=null,this.traders=a,this.percentage=0;for(var r=0;r<this.traders.length;r++)this.percentage+=this.traders[r].totalPercentage*this.traders[r].percentage;this.rad=50+100*this.percentage;var s=this,o=new Image;o.src=this.imgSrc,o.onload=function(){s.img=o}}function Trader(t,e,a,r,s){this.name=t,this.img=null,this.imgSrc=e,this.totalPercentage=a,this.percentage=0,this.difference=r,this.actualPos=null,this.comment=s;var o=this,i=new Image;i.src=this.imgSrc,i.onload=function(){o.img=i}}Trade.prototype.reverse=function(t){var e=this.actualPos;e=e.subVector(t.offset),e=e.subVector(t.center),e=e.div(t.scale),this.savedPos=e;for(var a=180/(this.traders.length+1),r=0;r<this.traders.length;r++){var s=a*(r+1-(this.traders.length+1)/2);this.traders[r].calculate(t.scale,this.rad,s,this.actualPos)}},Trade.prototype.calculate=function(t){var e=this.savedPos;e=e.mul(t.scale),e=e.addVector(t.center),e=e.addVector(t.offset),this.actualPos=e;for(var a=180/(this.traders.length+1),r=0;r<this.traders.length;r++){var s=a*(r+1-(this.traders.length+1)/2);this.traders[r].calculate(t.scale,this.rad,s,e)}},Trade.prototype.preDraw=function(t){if(null!==this.img){t.ctx.strokeStyle="#2c3e50",t.ctx.lineWidth=.5*t.scale,t.ctx.beginPath();var e=t.center.addVector(t.offset);t.ctx.moveTo(e.x,e.y),t.ctx.lineTo(this.actualPos.x,this.actualPos.y),t.ctx.stroke(),t.ctx.closePath()}},Trade.prototype.draw=function(t){if(null!==this.img){t.cirLogo(this.actualPos.x,this.actualPos.y,this.rad,this.img);for(var e=0,a=0;a<this.traders.length;a++){var r=this.traders[a];e+=r.totalPercentage*r.percentage*r.difference,r.draw(t)}var s=Math.floor(e*t.startingBudget*100)/100,o=t.startingBudget/1e3;o>s?t.ctx.fillStyle="#E74C3C":s>o?t.ctx.fillStyle="#36B5DB":t.ctx.fillStyle="#2C3E50";var i=12*t.scale;t.ctx.font=i+"pt SourceSansPro";var l=t.ctx.measureText(s).width;t.rect(this.actualPos.x,this.actualPos.y+this.rad*t.scale/2,l+20*t.scale,i+20*t.scale),t.ctx.fillStyle="#ffffff",t.ctx.fillText(s,this.actualPos.x-l/2,this.actualPos.y+this.rad*t.scale/2+10*t.scale)}},Trader.prototype.calculate=function(t,e,a,r){var s=new Vector2D(0,30);s=s.addVector(new Vector2D(0,e)),s=s.mul(t),s=s.rotate(a-90),s=s.addVector(r),this.actualPos=s},Trader.prototype.draw=function(t){null!==this.img&&(t.cirImg(this.actualPos.x,this.actualPos.y,25,this.img),this.difference<-.1?t.ctx.fillStyle="#E74C3C":this.difference>.1?t.ctx.fillStyle="#36B5DB":t.ctx.fillStyle="#2C3E50",t.cir(this.actualPos.x,this.actualPos.y,20*Math.abs(this.difference)+5))},Trader.prototype.postDraw=function(t,e){var a=12*e;t.ctx.font="bold "+a+"pt SourceSansPro";var r=0,s=this.comment.split("\n");s.unshift(this.name);for(var o=0;o<s.length;o++){var i=t.ctx.measureText(s[o]).width;i>r&&(r=i)}t.ctx.fillStyle="#ffffff",t.ctx.beginPath(),t.ctx.rect(this.actualPos.x+25*t.scale,this.actualPos.y-a*s.length-a*(s.length-1)*1.2-25*t.scale-20,r+20,a*s.length+a*(s.length-1)*1.2+20),t.ctx.closePath(),t.ctx.fill(),t.ctx.fillStyle="#2C3E50";for(var l=0;l<s.length;l++)l>0&&(t.ctx.font=a+"pt SourceSansPro"),t.ctx.fillText(s[l],this.actualPos.x+25*t.scale+10,this.actualPos.y-a*(s.length-l)-a*(s.length-1)*1.2+1.2*l*a-25*t.scale)};var trades=[],traders=[],logos=["logo0.svg","logo1.svg","logo2.svg","logo3.svg","logo4.svg"],people=[["Crazy Heffe","trader0.jpg"],["Marino Hostino","trader1.jpg"],["Nicolsh Lavanda","trader2.jpg"],["xXrobke69Xx","trader3.jpg"]];!function(){for(var t=0;4>t;t++){var e=.15*Math.random()+.1,a=Math.random()-.5;traders.push(new Trader(people[t][0],"dist/images/"+people[t][1],e,a,"This just looks good!\nI can even put a second line here\n\nMultiline spaces are supported"))}for(var r=0;5>r;r++){for(var s=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),o=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2),i=Math.ceil(4*Math.random()),l=[],n=0;i>n;n++){var c=new Trader(traders[n].name,traders[n].imgSrc,traders[n].totalPercentage,traders[n].difference,traders[n].comment);c.percentage=.4*Math.random()+.1,l.push(c)}trades.push(new Trade("dist/images/"+logos[r],new Vector2D(s,o),l))}for(var h=new Canvas(window.innerWidth,window.innerHeight-50,"trades","#eeeeee",trades),d=0;d<h.objs.length;d++)h.objs[d].calculate(h);h.drawCanvas()}(),function(){"use strict";var t=angular.module("app",["ngRoute"]);t.config(function(t){t.when("/home",{templateUrl:"pages/home.html",controller:"mainController"}).when("/profile/:id",{templateUrl:"pages/profile.html",controller:"profileController"}).otherwise({redirectTo:"/home"})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWRlLmpzIiwidHJhZGVyLmpzIiwidHJhZGVDYW52YXMuanMiLCJhcHAuanMiXSwibmFtZXMiOlsiVHJhZGUiLCJpbWdTcmMiLCJ2ZWN0b3IiLCJ0cmFkZXJzIiwidGhpcyIsImltZyIsInNhdmVkUG9zIiwiYWN0dWFsUG9zIiwicGVyY2VudGFnZSIsImkiLCJsZW5ndGgiLCJ0b3RhbFBlcmNlbnRhZ2UiLCJyYWQiLCJtZSIsInRodW1iSW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJUcmFkZXIiLCJuYW1lIiwiZGlmZmVyZW5jZSIsImNvbW1lbnQiLCJwcm90b3R5cGUiLCJyZXZlcnNlIiwiYyIsInBvcyIsInN1YlZlY3RvciIsIm9mZnNldCIsImNlbnRlciIsImRpdiIsInNjYWxlIiwiYW5nbGUiLCJhbHBoYSIsImNhbGN1bGF0ZSIsIm11bCIsImFkZFZlY3RvciIsInByZURyYXciLCJjdHgiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsIngiLCJ5IiwibGluZVRvIiwic3Ryb2tlIiwiY2xvc2VQYXRoIiwiZHJhdyIsImNpckxvZ28iLCJvdmVyYWxsIiwidCIsInRleHQiLCJNYXRoIiwiZmxvb3IiLCJzdGFydGluZ0J1ZGdldCIsIm9uZVByb21pbGxlIiwiZmlsbFN0eWxlIiwic2l6ZSIsImZvbnQiLCJ0eHRTaXplIiwibWVhc3VyZVRleHQiLCJ3aWR0aCIsInJlY3QiLCJmaWxsVGV4dCIsImZyb20iLCJWZWN0b3IyRCIsInJvdGF0ZSIsImNpckltZyIsImNpciIsImFicyIsInBvc3REcmF3IiwidGljayIsInNwbGl0IiwidW5zaGlmdCIsInMiLCJmaWxsIiwiaiIsInRyYWRlcyIsImxvZ29zIiwicGVvcGxlIiwicmFuZG9tIiwiZCIsInB1c2giLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJyIiwiY2VpbCIsInBwbCIsImsiLCJjYW52YXMiLCJDYW52YXMiLCJsIiwib2JqcyIsImRyYXdDYW52YXMiLCJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsT0FBQUMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQUMsSUFBQSxLQUNBRCxLQUFBSCxPQUFBQSxFQUNBRyxLQUFBRSxTQUFBSixFQUNBRSxLQUFBRyxVQUFBLEtBQ0FILEtBQUFELFFBQUFBLEVBQ0FDLEtBQUFJLFdBQUEsQ0FDQSxLQUFBLEdBQUFDLEdBQUEsRUFBQUEsRUFBQUwsS0FBQUQsUUFBQU8sT0FBQUQsSUFDQUwsS0FBQUksWUFBQUosS0FBQUQsUUFBQU0sR0FBQUUsZ0JBQUFQLEtBQUFELFFBQUFNLEdBQUFELFVBRUFKLE1BQUFRLElBQUEsR0FBQSxJQUFBUixLQUFBSSxVQUNBLElBQUFLLEdBQUFULEtBQ0FVLEVBQUEsR0FBQUMsTUFDQUQsR0FBQUUsSUFBQVosS0FBQUgsT0FDQWEsRUFBQUcsT0FBQSxXQUNBSixFQUFBUixJQUFBUyxHQ2ZBLFFBQUFJLFFBQUFDLEVBQUFsQixFQUFBVSxFQUFBUyxFQUFBQyxHQUNBakIsS0FBQWUsS0FBQUEsRUFDQWYsS0FBQUMsSUFBQSxLQUNBRCxLQUFBSCxPQUFBQSxFQUNBRyxLQUFBTyxnQkFBQUEsRUFDQVAsS0FBQUksV0FBQSxFQUNBSixLQUFBZ0IsV0FBQUEsRUFDQWhCLEtBQUFHLFVBQUEsS0FDQUgsS0FBQWlCLFFBQUFBLENBQ0EsSUFBQVIsR0FBQVQsS0FDQVUsRUFBQSxHQUFBQyxNQUNBRCxHQUFBRSxJQUFBWixLQUFBSCxPQUNBYSxFQUFBRyxPQUFBLFdBQ0FKLEVBQUFSLElBQUFTLEdETUFkLE1BQUFzQixVQUFBQyxRQUFBLFNBQUFDLEdBQ0EsR0FBQUMsR0FBQXJCLEtBQUFHLFNBQ0FrQixHQUFBQSxFQUFBQyxVQUFBRixFQUFBRyxRQUNBRixFQUFBQSxFQUFBQyxVQUFBRixFQUFB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Y3RvciwgdHJhZGVycykge1xuICAgIHRoaXMuaW1nID0gbnVsbDtcbiAgICB0aGlzLmltZ1NyYyA9IGltZ1NyYztcbiAgICB0aGlzLnNhdmVkUG9zID0gdmVjdG9yO1xuICAgIHRoaXMuYWN0dWFsUG9zID0gbnVsbDtcbiAgICB0aGlzLnRyYWRlcnMgPSB0cmFkZXJzO1xuICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMudHJhZGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICB0aGlzLnBlcmNlbnRhZ2UgKz0gdGhpcy50cmFkZXJzW2ldLnRvdGFsUGVyY2VudGFnZSAqIHRoaXMudHJhZGVyc1tpXS5wZXJjZW50YWdlO1xuICAgIH1cbiAgICB0aGlzLnJhZCA9IDUwICsgKHRoaXMucGVyY2VudGFnZSAqIDEwMCk7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB2YXIgdGh1bWJJbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aHVtYkltZy5zcmMgPSB0aGlzLmltZ1NyYztcbiAgICB0aHVtYkltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbWUuaW1nID0gdGh1bWJJbWc7XG4gICAgfTtcbn1cblxuVHJhZGUucHJvdG90eXBlLnJldmVyc2UgPSBmdW5jdGlvbihjKSB7XG4gICAgdmFyIHBvcyA9IHRoaXMuYWN0dWFsUG9zO1xuICAgIHBvcyA9IHBvcy5zdWJWZWN0b3IoYy5vZmZzZXQpO1xuICAgIHBvcyA9IHBvcy5zdWJWZWN0b3IoYy5jZW50ZXIpO1xuICAgIHBvcyA9IHBvcy5kaXYoYy5zY2FsZSk7XG4gICAgdGhpcy5zYXZlZFBvcyA9IHBvcztcbiAgICB2YXIgYW5nbGUgPSAxODAgLyAodGhpcy50cmFkZXJzLmxlbmd0aCArIDEpO1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGFscGhhID0gYW5nbGUgKiAoaSArIDEgLSAoKHRoaXMudHJhZGVycy5sZW5ndGggKyAxKSAvIDIpKTtcbiAgICAgICAgdGhpcy50cmFkZXJzW2ldLmNhbGN1bGF0ZShjLnNjYWxlLCB0aGlzLnJhZCwgYWxwaGEsIHRoaXMuYWN0dWFsUG9zKTtcbiAgICB9XG59O1xuXG5UcmFkZS5wcm90b3R5cGUuY2FsY3VsYXRlID0gZnVuY3Rpb24oYykge1xuICAgIHZhciBwb3MgPSB0aGlzLnNhdmVkUG9zO1xuICAgIHBvcyA9IHBvcy5tdWwoYy5zY2FsZSk7XG4gICAgcG9zID0gcG9zLmFkZFZlY3RvcihjLmNlbnRlcik7XG4gICAgcG9zID0gcG9zLmFkZFZlY3RvcihjLm9mZnNldCk7XG4gICAgdGhpcy5hY3R1YWxQb3MgPSBwb3M7XG4gICAgdmFyIGFuZ2xlID0gMTgwIC8gKHRoaXMudHJhZGVycy5sZW5ndGggKyAxKTtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy50cmFkZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBhbHBoYSA9IGFuZ2xlICogKGkgKyAxIC0gKCh0aGlzLnRyYWRlcnMubGVuZ3RoICsgMSkgLyAyKSk7XG4gICAgICAgIHRoaXMudHJhZGVyc1tpXS5jYWxjdWxhdGUoYy5zY2FsZSwgdGhpcy5yYWQsIGFscGhhLCBwb3MpO1xuICAgIH1cbn07XG5cblRyYWRlLnByb3RvdHlwZS5wcmVEcmF3ID0gZnVuY3Rpb24oYykge1xuICAgIGlmKHRoaXMuaW1nICE9PSBudWxsKSB7XG4gICAgICAgIGMuY3R4LnN0cm9rZVN0eWxlID0gXCIjMmMzZTUwXCI7XG4gICAgICAgIGMuY3R4LmxpbmVXaWR0aCA9IDAuNSAqIGMuc2NhbGU7XG4gICAgICAgIGMuY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICB2YXIgY2VudGVyID0gYy5jZW50ZXIuYWRkVmVjdG9yKGMub2Zmc2V0KTtcbiAgICAgICAgYy5jdHgubW92ZVRvKGNlbnRlci54LCBjZW50ZXIueSk7XG4gICAgICAgIGMuY3R4LmxpbmVUbyh0aGlzLmFjdHVhbFBvcy54LCB0aGlzLmFjdHVhbFBvcy55KTtcbiAgICAgICAgYy5jdHguc3Ryb2tlKCk7XG4gICAgICAgIGMuY3R4LmNsb3NlUGF0aCgpO1xuICAgIH1cbn07XG5cblRyYWRlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oYykge1xuICAgIGlmKHRoaXMuaW1nICE9PSBudWxsKSB7XG4gICAgICAgIGMuY2lyTG9nbyh0aGlzLmFjdHVhbFBvcy54LCB0aGlzLmFjdHVhbFBvcy55LCB0aGlzLnJhZCwgdGhpcy5pbWcpO1xuICAgICAgICB2YXIgb3ZlcmFsbCA9IDA7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB0ID0gdGhpcy50cmFkZXJzW2ldO1xuICAgICAgICAgICAgb3ZlcmFsbCArPSB0LnRvdGFsUGVyY2VudGFnZSAqIHQucGVyY2VudGFnZSAqIHQuZGlmZmVyZW5jZTtcbiAgICAgICAgICAgIHQuZHJhdyhjKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdGV4dCA9IE1hdGguZmxvb3Iob3ZlcmFsbCAqIGMuc3RhcnRpbmdCdWRnZXQgKiAxMDApIC8gMTAwO1xuICAgICAgICB2YXIgb25lUHJvbWlsbGUgPSBjLnN0YXJ0aW5nQnVkZ2V0IC8gMTAwMDtcbiAgICAgICAgaWYodGV4dCA8IG9uZVByb21pbGxlKSB7XG4gICAgICAgICAgICBjLmN0eC5maWxsU3R5bGUgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgfSBlbHNlIGlmKHRleHQgPiBvbmVQcm9taWxsZSkge1xuICAgICAgICAgICAgYy5jdHguZmlsbFN0eWxlID0gXCIjMzZCNURCXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLmN0eC5maWxsU3R5bGUgPSBcIiMyQzNFNTBcIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2l6ZSA9IDEyICogYy5zY2FsZTtcbiAgICAgICAgYy5jdHguZm9udCA9IHNpemUgKyBcInB0IFNvdXJjZVNhbnNQcm9cIjtcbiAgICAgICAgdmFyIHR4dFNpemUgPSBjLmN0eC5tZWFzdXJlVGV4dCh0ZXh0KS53aWR0aDtcbiAgICAgICAgYy5yZWN0KHRoaXMuYWN0dWFsUG9zLngsIHRoaXMuYWN0dWFsUG9zLnkgKyAoKHRoaXMucmFkICogYy5zY2FsZSkgLyAyKSwgdHh0U2l6ZSArICgyMCAqIGMuc2NhbGUpLCBzaXplICsgKDIwICogYy5zY2FsZSkpO1xuICAgICAgICBjLmN0eC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgYy5jdHguZmlsbFRleHQodGV4dCwgdGhpcy5hY3R1YWxQb3MueCAtICh0eHRTaXplIC8gMiksIHRoaXMuYWN0dWFsUG9zLnkgKyAoKHRoaXMucmFkICogYy5zY2FsZSkgLyAyKSArICgxMCAqIGMuc2NhbGUpKTtcbiAgICB9XG59OyIsImZ1bmN0aW9uIFRyYWRlcihuYW1lLCBpbWdTcmMsIHRvdGFsUGVyY2VudGFnZSwgZGlmZmVyZW5jZSwgY29tbWVudCkge1xuICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgdGhpcy5pbWcgPSBudWxsO1xuICAgIHRoaXMuaW1nU3JjID0gaW1nU3JjO1xuICAgIHRoaXMudG90YWxQZXJjZW50YWdlID0gdG90YWxQZXJjZW50YWdlO1xuICAgIHRoaXMucGVyY2VudGFnZSA9IDA7XG4gICAgdGhpcy5kaWZmZXJlbmNlID0gZGlmZmVyZW5jZTtcbiAgICB0aGlzLmFjdHVhbFBvcyA9IG51bGw7XG4gICAgdGhpcy5jb21tZW50ID0gY29tbWVudDtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciB0aHVtYkltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHRodW1iSW1nLnNyYyA9IHRoaXMuaW1nU3JjO1xuICAgIHRodW1iSW1nLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBtZS5pbWcgPSB0aHVtYkltZztcbiAgICB9O1xufVxuXG5UcmFkZXIucHJvdG90eXBlLmNhbGN1bGF0ZSA9IGZ1bmN0aW9uKHNjYWxlLCByYWQsIGFscGhhLCBmcm9tKSB7XG4gICAgdmFyIHBvcyA9IG5ldyBWZWN0b3IyRCgwLCAzMCk7XG4gICAgcG9zID0gcG9zLmFkZFZlY3RvcihuZXcgVmVjdG9yMkQoMCwgcmFkKSk7XG4gICAgcG9zID0gcG9zLm11bChzY2FsZSk7XG4gICAgcG9zID0gcG9zLnJvdGF0ZShhbHBoYSAtIDkwKTtcbiAgICBwb3MgPSBwb3MuYWRkVmVjdG9yKGZyb20pO1xuICAgIHRoaXMuYWN0dWFsUG9zID0gcG9zO1xufTtcblxuVHJhZGVyLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oYykge1xuICAgIGlmKHRoaXMuaW1nICE9PSBudWxsKSB7XG4gICAgICAgIGMuY2lySW1nKHRoaXMuYWN0dWFsUG9zLngsIHRoaXMuYWN0dWFsUG9zLnksIDI1LCB0aGlzLmltZyk7XG4gICAgICAgIGlmKHRoaXMuZGlmZmVyZW5jZSA8IC0wLjEpIHtcbiAgICAgICAgICAgIGMuY3R4LmZpbGxTdHlsZSA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICB9IGVsc2UgaWYodGhpcy5kaWZmZXJlbmNlID4gMC4xKSB7XG4gICAgICAgICAgICBjLmN0eC5maWxsU3R5bGUgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuY3R4LmZpbGxTdHlsZSA9IFwiIzJDM0U1MFwiO1xuICAgICAgICB9XG4gICAgICAgIGMuY2lyKHRoaXMuYWN0dWFsUG9zLngsIHRoaXMuYWN0dWFsUG9zLnksIChNYXRoLmFicyh0aGlzLmRpZmZlcmVuY2UpICogMjApICsgNSk7XG4gICAgfVxufTtcblxuVHJhZGVyLnByb3RvdHlwZS5wb3N0RHJhdyA9IGZ1bmN0aW9uKGMsIHRpY2spIHtcbiAgICB2YXIgc2l6ZSA9IDEyICogdGljaztcbiAgICBjLmN0eC5mb250ID0gXCJib2xkIFwiICsgc2l6ZSArIFwicHQgU291cmNlU2Fuc1Byb1wiO1xuICAgIHZhciB0eHRTaXplID0gMDtcbiAgICB2YXIgdGV4dCA9IHRoaXMuY29tbWVudC5zcGxpdCgnXFxuJyk7XG4gICAgdGV4dC51bnNoaWZ0KHRoaXMubmFtZSk7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHMgPSBjLmN0eC5tZWFzdXJlVGV4dCh0ZXh0W2ldKS53aWR0aDtcbiAgICAgICAgaWYodHh0U2l6ZSA8IHMpIHtcbiAgICAgICAgICAgIHR4dFNpemUgPSBzO1xuICAgICAgICB9XG4gICAgfVxuICAgIGMuY3R4LmZpbGxTdHlsZSA9IFwiI2ZmZmZmZlwiO1xuICAgIGMuY3R4LmJlZ2luUGF0aCgpO1xuICAgIGMuY3R4LnJlY3QodGhpcy5hY3R1YWxQb3MueCArICgyNSAqIGMuc2NhbGUpLCB0aGlzLmFjdHVhbFBvcy55IC0gKHNpemUgKiB0ZXh0Lmxlbmd0aCkgLSAoc2l6ZSAqICh0ZXh0Lmxlbmd0aCAtIDEpICogMS4yKSAtICgyNSAqIGMuc2NhbGUpIC0gMjAsIHR4dFNpemUgKyAyMCwgKHNpemUgKiB0ZXh0Lmxlbmd0aCkgKyAoc2l6ZSAqICh0ZXh0Lmxlbmd0aCAtIDEpICogMS4yKSArIDIwKTtcbiAgICBjLmN0eC5jbG9zZVBhdGgoKTtcbiAgICBjLmN0eC5maWxsKCk7XG4gICAgYy5jdHguZmlsbFN0eWxlID0gXCIjMkMzRTUwXCI7XG4gICAgZm9yKHZhciBqID0gMDsgaiA8IHRleHQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYoaiA+IDApIHtcbiAgICAgICAgICAgIGMuY3R4LmZvbnQgPSBzaXplICsgXCJwdCBTb3VyY2VTYW5zUHJvXCI7XG4gICAgICAgIH1cbiAgICAgICAgYy5jdHguZmlsbFRleHQodGV4dFtqXSwgdGhpcy5hY3R1YWxQb3MueCArICgyNSAqIGMuc2NhbGUpICsgMTAsIHRoaXMuYWN0dWFsUG9zLnkgLSAoc2l6ZSAqICh0ZXh0Lmxlbmd0aCAtIGopKSAtIChzaXplICogKHRleHQubGVuZ3RoIC0gMSkgKiAxLjIpKyAoaiAqIDEuMiAqIHNpemUpIC0gKDI1ICogYy5zY2FsZSkpO1xuICAgIH1cbn07IiwidmFyIHRyYWRlcyA9IFtdO1xudmFyIHRyYWRlcnMgPSBbXTtcbnZhciBsb2dvcyA9IFtcImxvZ28wLnN2Z1wiLCBcImxvZ28xLnN2Z1wiLCBcImxvZ28yLnN2Z1wiLCBcImxvZ28zLnN2Z1wiLCBcImxvZ280LnN2Z1wiXTtcbnZhciBwZW9wbGUgPSBbW1wiQ3JhenkgSGVmZmVcIiwgXCJ0cmFkZXIwLmpwZ1wiXSwgW1wiTWFyaW5vIEhvc3Rpbm9cIiwgXCJ0cmFkZXIxLmpwZ1wiXSwgW1wiTmljb2xzaCBMYXZhbmRhXCIsIFwidHJhZGVyMi5qcGdcIl0sIFtcInhYcm9ia2U2OVh4XCIsIFwidHJhZGVyMy5qcGdcIl1dO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgZm9yKHZhciBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICB2YXIgdG90YWxQZXJjZW50YWdlID0gKE1hdGgucmFuZG9tKCkgKiAwLjE1KSArIDAuMTtcbiAgICAgICAgdmFyIGQgPSBNYXRoLnJhbmRvbSgpIC0gMC41O1xuICAgICAgICB0cmFkZXJzLnB1c2gobmV3IFRyYWRlcihwZW9wbGVbal1bMF0sIFwiZGlzdC9pbWFnZXMvXCIgKyBwZW9wbGVbal1bMV0sIHRvdGFsUGVyY2VudGFnZSwgZCwgXCJUaGlzIGp1c3QgbG9va3MgZ29vZCFcXG5JIGNhbiBldmVuIHB1dCBhIHNlY29uZCBsaW5lIGhlcmVcXG5cXG5NdWx0aWxpbmUgc3BhY2VzIGFyZSBzdXBwb3J0ZWRcIikpO1xuICAgIH1cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVyV2lkdGggLSAod2luZG93LmlubmVyV2lkdGggLyAyKSk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKSAtICgod2luZG93LmlubmVySGVpZ2h0IC0gNTApIC8gMikpO1xuICAgICAgICB2YXIgciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogNCk7XG4gICAgICAgIHZhciBwcGwgPSBbXTtcbiAgICAgICAgZm9yKHZhciBrID0gMDsgayA8IHI7IGsrKykge1xuICAgICAgICAgICAgdmFyIHQgPSBuZXcgVHJhZGVyKHRyYWRlcnNba10ubmFtZSwgdHJhZGVyc1trXS5pbWdTcmMsIHRyYWRlcnNba10udG90YWxQZXJjZW50YWdlLCB0cmFkZXJzW2tdLmRpZmZlcmVuY2UsIHRyYWRlcnNba10uY29tbWVudCk7XG4gICAgICAgICAgICB0LnBlcmNlbnRhZ2UgPSAoTWF0aC5yYW5kb20oKSAqIDAuNCkgKyAwLjE7XG4gICAgICAgICAgICBwcGwucHVzaCh0KTtcbiAgICAgICAgfVxuICAgICAgICB0cmFkZXMucHVzaChuZXcgVHJhZGUoXCJkaXN0L2ltYWdlcy9cIiArIGxvZ29zW2ldLCBuZXcgVmVjdG9yMkQoeCwgeSksIHBwbCkpO1xuICAgIH1cbiAgICB2YXIgY2FudmFzID0gbmV3IENhbnZhcyh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC0gNTAsIFwidHJhZGVzXCIsIFwiI2VlZWVlZVwiLCB0cmFkZXMpO1xuICAgIGZvcih2YXIgbCA9IDA7IGwgPCBjYW52YXMub2Jqcy5sZW5ndGg7IGwrKykge1xuICAgICAgICBjYW52YXMub2Jqc1tsXS5jYWxjdWxhdGUoY2FudmFzKTtcbiAgICB9XG4gICAgY2FudmFzLmRyYXdDYW52YXMoKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcIm5nUm91dGVcIl0pO1xuXG4gICAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKFwiL2hvbWVcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInBhZ2VzL2hvbWUuaHRtbFwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWFpbkNvbnRyb2xsZXJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKFwiL3Byb2ZpbGUvOmlkXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJwYWdlcy9wcm9maWxlLmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInByb2ZpbGVDb250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub3RoZXJ3aXNlKHtcbiAgICAgICAgICAgICAgICByZWRpcmVjdFRvOiBcIi9ob21lXCJcbiAgICAgICAgICAgIH0pO1xuICAgIH0pO1xufSkoKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
