function Trade(t,a,c,e,n,s){this.img=null,this.logo=t,this.x=a,this.y=c,this.scX=e,this.scY=n,this.rad=s;var r=this,i=new Image;i.src=this.logo,i.onload=function(){r.img=i,r.logo=null}}function clear(){ctx.fillStyle="#eeeeee",ctx.fillRect(0,0,WIDTH,HEIGHT)}function draw(){clear();for(var t=0;t<trades.length;t++)trades[t].draw()}function myMove(t){null!==dragging&&(dragging.scX=t.pageX,dragging.scY=t.pageY)}function myDown(t){for(var a=trades.length-1;a>=0;a--){var c=trades[a];if(Math.pow(t.pageX-c.scX,2)+Math.pow(t.pageY-c.scY,2)<=Math.pow(c.rad*scale,2)){dragging=c,trades.splice(a,1),trades.push(c),canvas.onmousemove=myMove;break}}}function myUp(){var t=sbfc(dragging.scX,dragging.scY);dragging.x=t[0],dragging.y=t[1],dragging=null,canvas.onmousemove=null}Trade.prototype.draw=function(){null===this.logo&&(ctx.fillStyle="#ffffff",cir(this.scX,this.scY,this.rad),ctx.save(),ctx.beginPath(),ctx.arc(this.scX,this.scY,this.rad*scale,0,2*Math.PI,!0),ctx.clip(),ctx.drawImage(this.img,this.scX-this.rad*scale,this.scY-this.rad*scale,this.rad*scale*2,this.rad*scale*2),ctx.restore(),ctx.beginPath(),ctx.arc(this.scX,this.scY,this.rad*scale,0,2*Math.PI,!0),ctx.strokeStyle="#eeeeee",ctx.lineWidth=2,ctx.stroke(),ctx.closePath())};var canvas,ctx,WIDTH,HEIGHT,trades=[],scale=1,dragging=null,logos=["logo0.png","logo1.jpg","logo2.jpg","logo3.png","logo4.png"];!function(){canvas=document.getElementById("trades"),canvas.width=window.innerWidth,canvas.height=window.innerHeight,canvas.onmousedown=myDown,canvas.onmouseup=myUp,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,ctx=canvas.getContext("2d");for(var t=0;5>t;t++){var a=Math.floor(Math.random()*WIDTH),c=Math.floor(Math.random()*HEIGHT),e=Math.floor(100*Math.random()+50);trades.push(new Trade("dist/images/"+logos[t],a,c,a,c,e))}return document.getElementById("scaleCanvas").onmousemove=function(){scale=this.value;for(var t=trades.length-1;t>=0;t--){var a=trades[t],c=sfc(a.x,a.y);a.scX=c[0],a.scY=c[1]}},setInterval(draw,10)}();var cX=function(){return WIDTH/2},cY=function(){return HEIGHT/2},sfc=function(t,a){var c=(a-cY())/(t-cX()),e=Math.sqrt(Math.pow(t-cX(),2)+Math.pow(a-cY(),2));e*=scale;var n=Math.atan(c)/Math.PI*180;0>n&&(n=-n);var s=90-n,r=e*Math.sin(s/180*Math.PI),i=e*Math.sin(n/180*Math.PI);return t>cX()&&(r=-r),a>cY()&&(i=-i),[cX()-r,cY()-i]},sbfc=function(t,a){var c=(a-cY())/(t-cX()),e=Math.sqrt(Math.pow(t-cX(),2)+Math.pow(a-cY(),2));e*=1/scale;var n=Math.atan(c)/Math.PI*180;0>n&&(n=-n);var s=90-n,r=Math.ceil(e*Math.sin(s/180*Math.PI)),i=Math.ceil(e*Math.sin(n/180*Math.PI));return t>cX()&&(r=-r),a>cY()&&(i=-i),[cX()-r,cY()-i]},rect=function(t,a,c,e){ctx.beginPath();var n=t-c/2,s=a-e/2;ctx.rect(n,s,c*scale,e*scale),ctx.closePath(),ctx.fill()},cir=function(t,a,c){ctx.beginPath(),ctx.arc(t,a,c*scale,0,2*Math.PI,!1),ctx.closePath(),ctx.fill()};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWRlLmpzIiwiY2FudmFzQ29udHJvbC5qcyJdLCJuYW1lcyI6WyJUcmFkZSIsImxvZ28iLCJ4IiwieSIsInNjWCIsInNjWSIsInJhZCIsInRoaXMiLCJpbWciLCJtZSIsInRodW1iSW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJjbGVhciIsImN0eCIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiV0lEVEgiLCJIRUlHSFQiLCJkcmF3IiwiaSIsInRyYWRlcyIsImxlbmd0aCIsIm15TW92ZSIsImUiLCJkcmFnZ2luZyIsInBhZ2VYIiwicGFnZVkiLCJteURvd24iLCJ0cmFkZSIsIk1hdGgiLCJwb3ciLCJzY2FsZSIsInNwbGljZSIsInB1c2giLCJjYW52YXMiLCJvbm1vdXNlbW92ZSIsIm15VXAiLCJwIiwic2JmYyIsInByb3RvdHlwZSIsImNpciIsInNhdmUiLCJiZWdpblBhdGgiLCJhcmMiLCJQSSIsImNsaXAiLCJkcmF3SW1hZ2UiLCJyZXN0b3JlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJzdHJva2UiLCJjbG9zZVBhdGgiLCJsb2dvcyIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ3aWR0aCIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsIm9ubW91c2Vkb3duIiwib25tb3VzZXVwIiwiZ2V0Q29udGV4dCIsImZsb29yIiwicmFuZG9tIiwidmFsdWUiLCJzZmMiLCJzZXRJbnRlcnZhbCIsImNYIiwiY1kiLCJhIiwiZCIsInNxcnQiLCJhbmdsZVkiLCJhdGFuIiwiYW5nbGVYIiwiblgiLCJzaW4iLCJuWSIsImNlaWwiLCJyZWN0IiwibCIsInQiLCJ3IiwiaCIsImZpbGwiXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLE9BQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLEtBQUFDLElBQUEsS0FDQUQsS0FBQU4sS0FBQUEsRUFDQU0sS0FBQUwsRUFBQUEsRUFDQUssS0FBQUosRUFBQUEsRUFDQUksS0FBQUgsSUFBQUEsRUFDQUcsS0FBQUYsSUFBQUEsRUFDQUUsS0FBQUQsSUFBQUEsQ0FDQSxJQUFBRyxHQUFBRixLQUNBRyxFQUFBLEdBQUFDLE1BQ0FELEdBQUFFLElBQUFMLEtBQUFOLEtBQ0FTLEVBQUFHLE9BQUEsV0FDQUosRUFBQUQsSUFBQUUsRUFDQUQsRUFBQVIsS0FBQSxNQzBGQSxRQUFBYSxTQUNBQyxJQUFBQyxVQUFBLFVBQ0FELElBQUFFLFNBQUEsRUFBQSxFQUFBQyxNQUFBQyxRQUdBLFFBQUFDLFFBQ0FOLE9BRUEsS0FBQSxHQUFBTyxHQUFBLEVBQUFBLEVBQUFDLE9BQUFDLE9BQUFGLElBQ0FDLE9BQUFELEdBQUFELE9BSUEsUUFBQUksUUFBQUMsR0FDQSxPQUFBQyxXQUNBQSxTQUFBdEIsSUFBQXFCLEVBQUFFLE1BQ0FELFNBQUFyQixJQUFBb0IsRUFBQUcsT0FJQSxRQUFBQyxRQUFBSixHQUNBLElBQUEsR0FBQUosR0FBQUMsT0FBQUMsT0FBQSxFQUFBRixHQUFBLEVBQUFBLElBQUEsQ0FDQSxHQUFBUyxHQUFBUixPQUFBRCxFQUNBLElBQUFVLEtBQUFDLElBQUFQLEVBQUFFLE1BQUFHLEVBQUExQixJQUFBLEdBQUEyQixLQUFBQyxJQUFBUCxFQUFBRyxNQUFBRSxFQUFBekIsSUFBQSxJQUFBMEIsS0FBQUMsSUFBQUYsRUFBQXhCLElBQUEyQixNQUFBLEdBQUEsQ0FDQVAsU0FBQUksRUFDQVIsT0FBQVksT0FBQWIsRUFBQSxHQUNBQyxPQUFBYSxLQUFBTCxHQUNBTSxPQUFBQyxZQUFBYixNQUNBLFNBS0EsUUFBQWMsUUFDQSxHQUFBQyxHQUFBQyxLQUFBZCxTQUFBdEIsSUFBQXNCLFNBQUFyQixJQUNBcUIsVUFBQXhCLEVBQUFxQyxFQUFBLEdBQ0FiLFNBQUF2QixFQUFBb0MsRUFBQSxHQUNBYixTQUFBLEtBQ0FVLE9BQUFDLFlBQUEsS0Q1SEFyQyxNQUFBeUMsVUFBQXJCLEtBQUEsV0FDQSxPQUFBYixLQUFBTixPQUNBYyxJQUFBQyxVQUFBLFVBQ0EwQixJQUFBbkMsS0FBQUgsSUFBQUcsS0FBQUYsSUFBQUUsS0FBQUQsS0FDQVMsSUFBQTRCLE9BQ0E1QixJQUFBNkIsWUFDQTdCLElBQUE4QixJQUFBdEMsS0FBQUgsSUFBQUcsS0FBQUYsSUFBQUUsS0FBQUQsSUFBQTJCLE1BQUEsRUFBQSxFQUFBRixLQUFBZSxJQUFBLEdBQ0EvQixJQUFBZ0MsT0FDQWhDLElBQUFpQyxVQUFBekMsS0FBQUMsSUFBQUQsS0FBQUgsSUFBQUcsS0FBQUQsSUFBQTJCLE1BQUExQixLQUFBRixJQUFBRSxLQUFBRCxJQUFBMkIsTUFBQTFCLEtBQUFELElBQUEyQixNQUFBLEVBQUExQixLQUFBRCxJQUFBMkIsTUFBQSxHQUNBbEIsSUFBQWtDLFVBQ0FsQyxJQUFBNkIsWUFDQTdCLElBQUE4QixJQUFBdEMsS0FBQUgsSUFBQUcsS0FBQUYsSUFBQUUsS0FBQUQsSUFBQTJCLE1BQUEsRUFBQSxFQUFBRixLQUFBZSxJQUFBLEdBQ0EvQixJQUFBbUMsWUFBQSxVQUNBbkMsSUFBQW9DLFVBQUEsRUFDQXBDLElBQUFxQyxTQUNBckMsSUFBQXNDLGFDaENBLElBQUFqQixRQUNBckIsSUFDQUcsTUFDQUMsT0FDQUcsVUFDQVcsTUFBQSxFQUNBUCxTQUFBLEtBQ0E0QixPQUFBLFlBQUEsWUFBQSxZQUFBLFlBQUEsY0FFQSxXQUNBbEIsT0FBQW1CLFNBQUFDLGVBQUEsVUFDQXBCLE9BQUFxQixNQUFBQyxPQUFBQyxXQUNBdkIsT0FBQXdCLE9BQUFGLE9BQUFHLFlBQ0F6QixPQUFBMEIsWUFBQWpDLE9BQ0FPLE9BQUEyQixVQUFBekIsS0FDQXBCLE1BQUF3QyxPQUFBQyxXQUNBeEMsT0FBQXVDLE9BQUFHLFlBQ0E5QyxJQUFBcUIsT0FBQTRCLFdBQUEsS0FFQSxLQUFBLEdBQUEzQyxHQUFBLEVBQUEsRUFBQUEsRUFBQUEsSUFBQSxDQUNBLEdBQUFuQixHQUFBNkIsS0FBQWtDLE1BQUFsQyxLQUFBbUMsU0FBQWhELE9BQ0FmLEVBQUE0QixLQUFBa0MsTUFBQWxDLEtBQUFtQyxTQUFBL0MsUUFDQWIsRUFBQXlCLEtBQUFrQyxNQUFBLElBQUFsQyxLQUFBbUMsU0FBQSxHQUNBNUMsUUFBQWEsS0FBQSxHQUFBbkMsT0FBQSxlQUFBc0QsTUFBQWpDLEdBQUFuQixFQUFBQyxFQUFBRCxFQUFBQyxFQUFBRyxJQWFBLE1BVkFpRCxVQUFBQyxlQUFBLGVBQUFuQixZQUFBLFdBQ0FKLE1BQUExQixLQUFBNEQsS0FDQSxLQUFBLEdBQUE5QyxHQUFBQyxPQUFBQyxPQUFBLEVBQUFGLEdBQUEsRUFBQUEsSUFBQSxDQUNBLEdBQUFTLEdBQUFSLE9BQUFELEdBQ0FrQixFQUFBNkIsSUFBQXRDLEVBQUE1QixFQUFBNEIsRUFBQTNCLEVBQ0EyQixHQUFBMUIsSUFBQW1DLEVBQUEsR0FDQVQsRUFBQXpCLElBQUFrQyxFQUFBLEtBSUE4QixZQUFBakQsS0FBQSxNQUdBLElBQUFrRCxJQUFBLFdBQ0EsTUFBQXBELE9BQUEsR0FHQXFELEdBQUEsV0FDQSxNQUFBcEQsUUFBQSxHQUdBaUQsSUFBQSxTQUFBbEUsRUFBQUMsR0FDQSxHQUFBcUUsSUFBQXJFLEVBQUFvRSxPQUFBckUsRUFBQW9FLE1BQ0FHLEVBQUExQyxLQUFBMkMsS0FBQTNDLEtBQUFDLElBQUE5QixFQUFBb0UsS0FBQSxHQUFBdkMsS0FBQUMsSUFBQTdCLEVBQUFvRSxLQUFBLEdBQ0FFLElBQUF4QyxLQUNBLElBQUEwQyxHQUFBNUMsS0FBQTZDLEtBQUFKLEdBQUF6QyxLQUFBZSxHQUFBLEdBQ0EsR0FBQTZCLElBQ0FBLEdBQUFBLEVBRUEsSUFBQUUsR0FBQSxHQUFBRixFQUNBRyxFQUFBTCxFQUFBMUMsS0FBQWdELElBQUFGLEVBQUEsSUFBQTlDLEtBQUFlLElBQ0FrQyxFQUFBUCxFQUFBMUMsS0FBQWdELElBQUFKLEVBQUEsSUFBQTVDLEtBQUFlLEdBT0EsT0FOQTVDLEdBQUFvRSxPQUNBUSxHQUFBQSxHQUVBM0UsRUFBQW9FLE9BQ0FTLEdBQUFBLElBRUFWLEtBQUFRLEVBQUFQLEtBQUFTLElBR0F4QyxLQUFBLFNBQUF0QyxFQUFBQyxHQUNBLEdBQUFxRSxJQUFBckUsRUFBQW9FLE9BQUFyRSxFQUFBb0UsTUFDQUcsRUFBQTFDLEtBQUEyQyxLQUFBM0MsS0FBQUMsSUFBQTlCLEVBQUFvRSxLQUFBLEdBQUF2QyxLQUFBQyxJQUFBN0IsRUFBQW9FLEtBQUEsR0FDQUUsSUFBQSxFQUFBeEMsS0FDQSxJQUFBMEMsR0FBQTVDLEtBQUE2QyxLQUFBSixHQUFBekMsS0FBQWUsR0FBQSxHQUNBLEdBQUE2QixJQUNBQSxHQUFBQSxFQUVBLElBQUFFLEdBQUEsR0FBQUYsRUFDQUcsRUFBQS9DLEtBQUFrRCxLQUFBUixFQUFBMUMsS0FBQWdELElBQUFGLEVBQUEsSUFBQTlDLEtBQUFlLEtBQ0FrQyxFQUFBakQsS0FBQWtELEtBQUFSLEVBQUExQyxLQUFBZ0QsSUFBQUosRUFBQSxJQUFBNUMsS0FBQWUsSUFPQSxPQU5BNUMsR0FBQW9FLE9BQ0FRLEdBQUFBLEdBRUEzRSxFQUFBb0UsT0FDQVMsR0FBQUEsSUFFQVYsS0FBQVEsRUFBQVAsS0FBQVMsSUFHQUUsS0FBQSxTQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBdkUsSUFBQTZCLFdBQ0EsSUFBQTFDLEdBQUFpRixFQUFBRSxFQUFBLEVBQ0FsRixFQUFBaUYsRUFBQUUsRUFBQSxDQUNBdkUsS0FBQW1FLEtBQUFoRixFQUFBQyxFQUFBa0YsRUFBQXBELE1BQUFxRCxFQUFBckQsT0FDQWxCLElBQUFzQyxZQUNBdEMsSUFBQXdFLFFBR0E3QyxJQUFBLFNBQUF4QyxFQUFBQyxFQUFBRyxHQUNBUyxJQUFBNkIsWUFDQTdCLElBQUE4QixJQUFBM0MsRUFBQUMsRUFBQUcsRUFBQTJCLE1BQUEsRUFBQSxFQUFBRixLQUFBZSxJQUFBLEdBQ0EvQixJQUFBc0MsWUFDQXRDLElBQUF3RSIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gVHJhZGUobG9nbywgeCwgeSwgc2NYLCBzY1ksIHJhZCkge1xuICAgIHRoaXMuaW1nID0gbnVsbDtcbiAgICB0aGlzLmxvZ28gPSBsb2dvO1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbiAgICB0aGlzLnNjWCA9IHNjWDtcbiAgICB0aGlzLnNjWSA9IHNjWTtcbiAgICB0aGlzLnJhZCA9IHJhZDtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHZhciB0aHVtYkltZyA9IG5ldyBJbWFnZSgpO1xuICAgIHRodW1iSW1nLnNyYyA9IHRoaXMubG9nbztcbiAgICB0aHVtYkltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgbWUuaW1nID0gdGh1bWJJbWc7XG4gICAgICAgIG1lLmxvZ28gPSBudWxsO1xuICAgIH07XG59XG5cblRyYWRlLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYodGhpcy5sb2dvID09PSBudWxsKSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgY2lyKHRoaXMuc2NYLCB0aGlzLnNjWSwgdGhpcy5yYWQpO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmModGhpcy5zY1gsIHRoaXMuc2NZLCB0aGlzLnJhZCAqIHNjYWxlLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIHRoaXMuc2NYIC0gKHRoaXMucmFkICogc2NhbGUpLCB0aGlzLnNjWSAtICh0aGlzLnJhZCAqIHNjYWxlKSwgKHRoaXMucmFkICogc2NhbGUpICogMiwgKHRoaXMucmFkICogc2NhbGUpICogMik7XG4gICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmFyYyh0aGlzLnNjWCwgdGhpcy5zY1ksIHRoaXMucmFkICogc2NhbGUsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCIjZWVlZWVlXCI7XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9XG59OyIsInZhciBjYW52YXM7XG52YXIgY3R4O1xudmFyIFdJRFRIO1xudmFyIEhFSUdIVDtcbnZhciB0cmFkZXMgPSBbXTtcbnZhciBzY2FsZSA9IDE7XG52YXIgZHJhZ2dpbmcgPSBudWxsO1xudmFyIGxvZ29zID0gW1wibG9nbzAucG5nXCIsIFwibG9nbzEuanBnXCIsIFwibG9nbzIuanBnXCIsIFwibG9nbzMucG5nXCIsIFwibG9nbzQucG5nXCJdO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIik7XG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBjYW52YXMub25tb3VzZWRvd24gPSBteURvd247XG4gICAgY2FudmFzLm9ubW91c2V1cCA9IG15VXA7XG4gICAgV0lEVEggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICBIRUlHSFQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBXSURUSCk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogSEVJR0hUKTtcbiAgICAgICAgdmFyIHJhZCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDApICsgNTApO1xuICAgICAgICB0cmFkZXMucHVzaChuZXcgVHJhZGUoXCJkaXN0L2ltYWdlcy9cIiArIGxvZ29zW2ldLCB4LCB5LCB4LCB5LCByYWQpKTtcbiAgICB9XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlQ2FudmFzXCIpLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNjYWxlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgZm9yKHZhciBpID0gdHJhZGVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB2YXIgdHJhZGUgPSB0cmFkZXNbaV07XG4gICAgICAgICAgICB2YXIgcCA9IHNmYyh0cmFkZS54LCB0cmFkZS55KTtcbiAgICAgICAgICAgIHRyYWRlLnNjWCA9IHBbMF07XG4gICAgICAgICAgICB0cmFkZS5zY1kgPSBwWzFdO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBzZXRJbnRlcnZhbChkcmF3LCAxMCk7XG59KSgpO1xuXG52YXIgY1ggPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKFdJRFRIIC8gMik7XG59O1xuXG52YXIgY1kgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gKEhFSUdIVCAvIDIpO1xufTtcblxudmFyIHNmYyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB2YXIgYSA9ICh5IC0gY1koKSkvKHggLSBjWCgpKTtcbiAgICB2YXIgZCA9IE1hdGguc3FydChNYXRoLnBvdygoeCAtIGNYKCkpLCAyKSArIE1hdGgucG93KCh5IC0gY1koKSksIDIpKTtcbiAgICBkID0gZCAqIHNjYWxlO1xuICAgIHZhciBhbmdsZVkgPSAoTWF0aC5hdGFuKGEpIC8gTWF0aC5QSSkgKiAxODA7XG4gICAgaWYoYW5nbGVZIDwgMCkge1xuICAgICAgICBhbmdsZVkgPSAtYW5nbGVZO1xuICAgIH1cbiAgICB2YXIgYW5nbGVYID0gOTAgLSBhbmdsZVk7XG4gICAgdmFyIG5YID0gZCAqIE1hdGguc2luKCgoYW5nbGVYIC8gMTgwKSAqIE1hdGguUEkpKTtcbiAgICB2YXIgblkgPSBkICogTWF0aC5zaW4oKChhbmdsZVkgLyAxODApICogTWF0aC5QSSkpO1xuICAgIGlmKHggPiBjWCgpKSB7XG4gICAgICAgIG5YID0gLW5YO1xuICAgIH1cbiAgICBpZih5ID4gY1koKSkge1xuICAgICAgICBuWSA9IC1uWTtcbiAgICB9XG4gICAgcmV0dXJuIFtjWCgpIC0gblgsIGNZKCkgLSBuWV07XG59O1xuXG52YXIgc2JmYyA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB2YXIgYSA9ICh5IC0gY1koKSkvKHggLSBjWCgpKTtcbiAgICB2YXIgZCA9IE1hdGguc3FydChNYXRoLnBvdygoeCAtIGNYKCkpLCAyKSArIE1hdGgucG93KCh5IC0gY1koKSksIDIpKTtcbiAgICBkID0gZCAqICgxIC8gc2NhbGUpO1xuICAgIHZhciBhbmdsZVkgPSAoTWF0aC5hdGFuKGEpIC8gTWF0aC5QSSkgKiAxODA7XG4gICAgaWYoYW5nbGVZIDwgMCkge1xuICAgICAgICBhbmdsZVkgPSAtYW5nbGVZO1xuICAgIH1cbiAgICB2YXIgYW5nbGVYID0gOTAgLSBhbmdsZVk7XG4gICAgdmFyIG5YID0gTWF0aC5jZWlsKGQgKiBNYXRoLnNpbigoKGFuZ2xlWCAvIDE4MCkgKiBNYXRoLlBJKSkpO1xuICAgIHZhciBuWSA9IE1hdGguY2VpbChkICogTWF0aC5zaW4oKChhbmdsZVkgLyAxODApICogTWF0aC5QSSkpKTtcbiAgICBpZih4ID4gY1goKSkge1xuICAgICAgICBuWCA9IC1uWDtcbiAgICB9XG4gICAgaWYoeSA+IGNZKCkpIHtcbiAgICAgICAgblkgPSAtblk7XG4gICAgfVxuICAgIHJldHVybiBbY1goKSAtIG5YLCBjWSgpIC0gblldO1xufTtcblxudmFyIHJlY3QgPSBmdW5jdGlvbihsLCB0LCB3LCBoKSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIHZhciB4ID0gbCAtICh3LzIpO1xuICAgIHZhciB5ID0gdCAtIChoLzIpO1xuICAgIGN0eC5yZWN0KHgsIHksIHcgKiBzY2FsZSwgaCAqIHNjYWxlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbn07XG5cbnZhciBjaXIgPSBmdW5jdGlvbih4LCB5LCByYWQpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh4LCB5LCByYWQgKiBzY2FsZSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbn07XG5cbmZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSBcIiNlZWVlZWVcIjtcbiAgICBjdHguZmlsbFJlY3QoMCwwLFdJRFRILEhFSUdIVCk7XG59XG5cbmZ1bmN0aW9uIGRyYXcoKSB7XG4gICAgY2xlYXIoKTtcblxuICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0cmFkZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJhZGVzW2ldLmRyYXcoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIG15TW92ZShlKSB7XG4gICAgaWYgKGRyYWdnaW5nICE9PSBudWxsKSB7XG4gICAgICAgIGRyYWdnaW5nLnNjWCA9IGUucGFnZVg7XG4gICAgICAgIGRyYWdnaW5nLnNjWSA9IGUucGFnZVk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBteURvd24oZSkge1xuICAgIGZvcih2YXIgaSA9IHRyYWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgdHJhZGUgPSB0cmFkZXNbaV07XG4gICAgICAgIGlmKChNYXRoLnBvdygoZS5wYWdlWCAtIHRyYWRlLnNjWCksIDIpICsgTWF0aC5wb3coKGUucGFnZVkgLSB0cmFkZS5zY1kpLCAyKSkgPD0gTWF0aC5wb3coKHRyYWRlLnJhZCAqIHNjYWxlKSwgMikpIHtcbiAgICAgICAgICAgIGRyYWdnaW5nID0gdHJhZGU7XG4gICAgICAgICAgICB0cmFkZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgdHJhZGVzLnB1c2godHJhZGUpO1xuICAgICAgICAgICAgY2FudmFzLm9ubW91c2Vtb3ZlID0gbXlNb3ZlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIG15VXAoKSB7XG4gICAgdmFyIHAgPSBzYmZjKGRyYWdnaW5nLnNjWCwgZHJhZ2dpbmcuc2NZKTtcbiAgICBkcmFnZ2luZy54ID0gcFswXTtcbiAgICBkcmFnZ2luZy55ID0gcFsxXTtcbiAgICBkcmFnZ2luZyA9IG51bGw7XG4gICAgY2FudmFzLm9ubW91c2Vtb3ZlID0gbnVsbDtcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
