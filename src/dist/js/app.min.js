function Trader(e,t,r,a,o){this.name=e,this.amount=t,this.inAt=r,this.comment=o,this.type=a,this.difference=0,this.drawable=new Drawable,this.drawable.color="#ffffff",this.drawable.borderColor="#B3B369",this.drawable.borderWidth=2,this.drawable.borderScaling=!1,this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(0,1),this.drawable.textBackground="#ffffff",this.drawable.textPadding=new Vector2D(0,0),this.drawable.textScaling=!1,this.drawable.textPos=new Vector2D(1,-1),this.drawable.textColor="#2C3E50",this.drawable.pos=new Vector2D(0,0),this.drawable.radius=25,this.drawable.show=!1,this["new"]=!0,this.open=!1,this.changeStockPrice=function(e){var a="[b]"+this.name+"[/b][align=right][color=",o=Math.floor((e-this.inAt)*this.amount*100)/100,i="#36B5DB",n="#E74C3C";0===this.type?this.difference=o:this.difference=-o,a+=this.difference>=0?i+"]":n+"]",a+=this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/align]\n[i][color=",a+=0===this.type?i+"]":n+"]",a+=t,a+=0===this.type?" long at ":" short at ",a+=r.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/i]\n",this.drawable.setText(a+this.comment)},this.draw=function(e,t){if(this.drawable.show){var r=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(r.x,r.y),this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),e.restore()}},this.postDraw=function(e,t){if(this.drawable.show){var r=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(r.x,r.y),this.drawable.drawText(e,t),e.restore()}},this.clicked=function(){var e=this;this.open?(this.drawable.animate("textSize",0,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),200,"easeInOut",function(t,r){t&&(e.open=!1)})):(this.drawable.animate("textSize",12,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(10,10),200,"easeInOut",function(t,r){t&&(e.open=!0)}))},this["delete"]=function(e,t){var r=0;"undefined"!=typeof t&&(r=t);for(var a=e.length;a>r;r++)if("undefined"!=typeof e[r].traders){var o=e[r].traders.indexOf(this);if(o>-1){e[r].traders.splice(o,1),e[r].calcTraders(),0===e[r].traders.length&&e[r].animateDelete(e,r);break}}},this.interaction=function(e,t){var r=e.subVector(this.drawable.pos.rotate(this.drawable.rotation).mul(t)),a=0;return 0!==this.drawable.radius&&(a=this.drawable.radius*t),0!==this.drawable.size.length()&&(a=this.drawable.size.length()*t),r.length()<=a&&this.drawable.show?(this["new"]&&(this["new"]=!1,this.drawable.borderColor="#eeeeee"),this):!1}}var Trade=function(e,r,a){this.stockPrice=e,this.traders=r,this.drawable=new Drawable,this.difference=0;for(var o=0,i=this.traders.length;i>o;o++)this.traders[o].changeStockPrice(this.stockPrice),this.difference+=this.traders[o].difference;if(this.difference=Math.floor(100*this.difference)/100,this.drawable.setText(this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),this.difference>=0?(this.drawable.textBackground="#36B5DB",this.drawable.textReplaceColor="#36B5DB"):(this.drawable.textBackground="#E74C3C",this.drawable.textReplaceColor="#E74C3C"),this.lineColor="#B3B369",this.open=!1,this.drawable.textSize=10,this.drawable.radius=Math.floor(35*Math.random()+35),this.drawable.imgFill=!1,null===a){for(var n=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);new Vector2D(n,s).length()<100+this.drawable.radius||new Vector2D(n,s).length()>new Vector2D(window.innerWidth,window.innerHeight-50).div(2).length()-this.drawable.radius;)n=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);this.drawable.animateVector("pos",new Vector2D(n,s),1e3,"easeInOut",null)}else this.drawable.animateVector("pos",a,1e3,"easeInOut",null);this.drawable.color="#ffffff",this.drawable.borderWidth=2,this.drawable.borderColor="#B3B369",this.drawable.borderScaling=!1,this.drawable.textColor="#ffffff",this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(.5,.5),this.drawable.textPos=new Vector2D(0,.5),this.drawable.textPadding=new Vector2D(10,10),this.drawable.textReplace=15;var l=this;setInterval(function(){var e=Math.random()/10,t=Math.floor(2*Math.random());1===t&&(e=-e),l.stockPrice=Math.floor(100*(l.stockPrice+e))/100,l.difference=0;for(var r=0,a=l.traders.length;a>r;r++)l.traders[r].changeStockPrice(l.stockPrice),l.difference+=l.traders[r].difference;l.difference=Math.floor(100*l.difference)/100,l.open?(l.difference>=0?l.drawable.textReplaceColor="#36B5DB":l.drawable.textReplaceColor="#E74C3C",l.drawable.textBackground="#2C3E50",l.drawable.setText(l.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"}))):(l.drawable.setText(l.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),l.difference>=0?(l.drawable.textBackground="#36B5DB",l.drawable.textReplaceColor="#36B5DB"):(l.drawable.textBackground="#E74C3C",l.drawable.textReplaceColor="#E74C3C")),l.drawable.requestRedraw=!0},2e3),this.interaction=function(e,r){var a=e.subVector(this.drawable.pos.mul(r)),o=0;if(0!==this.drawable.radius&&(o=this.drawable.radius*r),0!==this.drawable.size.length()&&(o=this.drawable.size.length()*r),a.length()<=o)return this;for(var i=e.subVector(this.drawable.pos.mul(r)),n=0,s=this.traders.length;s>n;n++){var l=this.traders[n].interaction(i,r);if(l!==!1){for(var d=0,c=this.traders.length;c>d;d++)t=this.traders[d],t.open&&t.clicked();return l}}return!1},this.calcTraders=function(){for(var e=180/(this.traders.length+1),t=0,r=this.traders.length;r>t;t++){var a=e*(t+1-(this.traders.length+1)/2)-90;this.traders[t].drawable.animate("rotation",a,300,"easeInOut",null)}},this.calcTraders(),this.preDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.strokeStyle=this.lineColor,e.lineWidth=.5;for(var r=!1,a=0,o=this.traders.length;o>a;a++)this.traders[a]["new"]&&(r=!0);r?this.lineColor="#B3B369":this.lineColor="#2C3E50",e.beginPath(),e.moveTo(0,0),e.lineTo(this.drawable.pos.x,this.drawable.pos.y),e.closePath(),e.stroke(),e.restore()}},this.draw=function(e,t){if(this.drawable.show){e.save(),e.translate(this.drawable.pos.x,this.drawable.pos.y),e.globalAlpha*=this.drawable.opacity;for(var r=!1,a=0,o=this.traders.length;o>a;a++)this.traders[a].draw(e,t),this.traders[a]["new"]&&(r=!0);r?this.drawable.borderColor="#B3B369":this.drawable.borderColor="#eeeeee",this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),this.drawable.drawText(e,t),e.restore()}},this["delete"]=function(e){for(var t=e.indexOf(this),r=0,a=this.traders.length;a>r;r++)this.traders[0]["delete"](e,t)},this.animateDelete=function(e,t){this.drawable.animate("textSize",0,300,"easeInOut",null),this.drawable.animate("textReplace",0,300,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),300,"easeInOut",null),this.drawable.animate("opacity",0,300,"easeInOut",null),this.drawable.animate("radius",0,300,"easeInOut",function(){e.splice(t,1)})},this.postDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(this.drawable.pos.x,this.drawable.pos.y);for(var r=0,a=this.traders.length;a>r;r++)this.traders[r].postDraw(e,t);e.restore()}},this.clicked=function(){var e=0,t=0,r=null,a=this;if(this.open){var o=function(e,t){t.show=!1};for(t=this.traders.length;t>e;e++)r=this.traders[e],r.open&&r.clicked(),r.drawable.animateVector("pos",new Vector2D(0,0),300,"easeInOut",o);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.setText(a.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),a.difference>=0?t.textBackground="#36B5DB":t.textBackground="#E74C3C",a.open=!1,t.animate("textSize",10,150,"easeOut",null)})}else{for(t=this.traders.length;t>e;e++)r=this.traders[e],r.drawable.show=!0,r.drawable.animateVector("pos",new Vector2D(0,this.drawable.radius+r.drawable.radius+15),300,"easeInOut",null);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.textBackground="#2C3E50",t.setText(a.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),a.open=!0,t.animate("textSize",10,150,"easeOut",null)})}},this.requestRedraw=function(){for(var e=0,t=this.traders.length;t>e;e++)this.traders[e].drawable.requestRedraw&&(this.drawable.requestRedraw=!0,this.traders[e].drawable.requestRedraw=!1);return this.drawable.requestRedraw?(this.drawable.requestRedraw=!1,!0):!1}},trades=[],traders=[],profile=new Drawable,trash=new Drawable,logos=["logo0.svg","logo1.svg","logo2.svg","logo3.svg","logo4.svg"],people=[["Crazy Heffe","trader0.jpg"],["Marino Hostino","trader1.jpg"],["Nicolsh Lavanda","trader2.jpg"],["xXrobke69Xx","trader3.jpg"]];!function(){profile.setImage("dist/images/profiles/profile.jpg"),profile.radius=100,profile.color="#ffffff",profile.borderColor="#eeeeee",profile.borderScaling=!1,profile.borderWidth=2,profile.textSize=12,profile.textColor="#ffffff",profile.textFont="SourceSansPro",profile.textAnchor=new Vector2D(.5,.5),profile.textPos=new Vector2D(0,.5),profile.textPadding=new Vector2D(10,10),profile.textReplace=15,trades.push(profile),trash.setImage("dist/images/misc/trash.svg"),trash.radius=50,trash.color="#eeeeee",trash.borderColor="#eeeeee",trash.borderScaling=!1,trash.borderWidth=2,trash.pos=new Vector2D(window.innerWidth-100,window.innerHeight-150);for(var e=0;4>e;e++){var t=Math.floor(50*Math.random()),r=Math.floor(2e4*Math.random())/100,a=Math.floor(2*Math.random()),o=[t,r,a];traders.push(o)}for(var i=0,n=0;5>n;n++){for(var s=Math.ceil(4*Math.random()),l=[],d=Math.floor(200*Math.random()*100)/100,c=0;s>c;c++){var h=new Trader(people[c][0],traders[c][0],traders[c][1],traders[c][2],"This looks good!\nI can even put a second line\n\nAnd even more");h.drawable.setImage("dist/images/profiles/"+people[c][1],function(){f.draw()}),h.percentage=.4*Math.random()+.1,l.push(h)}var w=new Trade(d,l,null);i+=w.difference,w.drawable.setImage("dist/images/logos/"+logos[n],function(){f.draw()}),trades.push(w)}trades.push(trash),i>=0?(profile.textBackground="#36B5DB",profile.textReplaceColor="#36B5DB"):(profile.textBackground="#E74C3C",profile.textReplaceColor="#E74C3C"),profile.setText((Math.floor(100*i)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}));var f=new Canvas(0,50,window.innerWidth,window.innerHeight-50,"trades",trades);f.drawCallback=function(){for(var e=0,t=0,r=f.objects.length;r>t;t++)"undefined"!=typeof f.objects[t].difference&&(e+=f.objects[t].difference);e>=0?(profile.textBackground="#36B5DB",profile.textReplaceColor="#36B5DB"):(profile.textBackground="#E74C3C",profile.textReplaceColor="#E74C3C"),profile.setText((Math.floor(100*e)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}))},profile.draw=function(e,t){this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),this.drawText(e,t)},trash.interaction=function(e){var t=e.subVector(f.margin).subVector(this.pos),r=this.radius*f.scale;return t.length()<=r&&this.show},trash.draw=function(e,t){var r=this.pos.subVector(f.offset).subVector(f.center).mul(1/f.scale);e.save(),e.translate(r.x,r.y),this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),e.restore()},f.draw(),document.getElementById("trades").addEventListener("mousedown",function(e){u(e)}),document.getElementById("trades").addEventListener("touchstart",function(e){var t=e.touches[0];u(t)});var u=function(e){f.interactionStart(e,function(e,t){var r;e instanceof Trade&&(r=f.objects.indexOf(e),f.objects.push(f.objects.splice(r,1)[0])),e instanceof Trader&&(e.drawable.returnPos=e.drawable.pos),"self"===e&&(r=f.objects.indexOf(trash),f.objects.splice(r,1),f.objects.push(trash),f.draw()),f.selected=e,f.mousePos=t})};document.getElementById("trades").addEventListener("mousemove",function(e){b(e)}),document.getElementById("trades").addEventListener("touchmove",function(e){var t=e.touches[0];b(t)});var b=function(e){f.interactionMove(e,function(t,r,a){t instanceof Trade&&(t.drawable.opacity=.5,t.drawable.pos=r),t instanceof Trader&&(t.drawable.opacity=.5,t.drawable.pos=t.drawable.pos.addVector(a.rotate(-t.drawable.rotation).mul(1/f.scale))),trash.interaction(new Vector2D(e.pageX,e.pageY))?trash.color="#E74C3C":trash.color="#eeeeee",f.draw()})};document.getElementById("trades").addEventListener("mouseup",function(e){p(e)}),document.getElementById("trades").addEventListener("touchend",function(e){var t=e.touches[0];p(t)}),document.body.addEventListener("touchstart",function(e){e.preventDefault()});var p=function(e){f.interactionStop(function(t,r){var a,o;if(t){if(r instanceof Trade)for(r.drawable.opacity=1,a=0,o=f.objects.length;o>a;a++)f.objects[a].open&&f.objects[a]!==r&&f.objects[a].clicked();if(r instanceof Trader&&(r.drawable.opacity=1),"self"===r)for(a=0,o=f.objects.length;o>a;a++)f.objects[a].open&&f.objects[a].clicked();"function"==typeof r.clicked&&r.clicked()}else r instanceof Trade&&(r.drawable.opacity=1,trash.interaction(new Vector2D(e.pageX,e.pageY))&&r["delete"](f.objects)),r instanceof Trader&&(r.drawable.opacity=1,r.drawable.returnPos.length()!==r.drawable.pos.length()&&r.drawable.returnPos.x!==r.drawable.pos.x&&r.drawable.animateVector("pos",r.drawable.returnPos,500,"easeInOut",null),trash.interaction(new Vector2D(e.pageX,e.pageY))&&r["delete"](f.objects));trash.color="#eeeeee"}),f.draw()};document.getElementById("trades").addEventListener("wheel",function(e){var t=f.scale+e.wheelDelta/300;e.preventDefault(),t>1.8&&(t=1.8),.4>t&&(t=.4),t=Math.floor(100*t)/100,f.scale=t,trash.radius=50/f.scale,document.getElementById("scaleCanvas").value=f.scale,f.draw()}),document.getElementById("resetOffset").addEventListener("click",function(){f.moveToCenter()}),document.getElementById("scaleCanvas").addEventListener("mousemove",function(){f.scale=parseFloat(this.value),trash.radius=50/f.scale,f.draw()})}(),function(){"use strict";var e=angular.module("app",["ngRoute"]);e.config(function(e){e.when("/home",{templateUrl:"pages/home.html",controller:"mainController"}).when("/profile/:id",{templateUrl:"pages/profile.html",controller:"profileController"}).when("/balanceHistory/:id",{templateUrl:"pages/balanceHistory.html",controller:"balanceController"}).when("/deposit/:id",{templateUrl:"pages/deposit.html",controller:"balanceController"}).when("/withdraw/:id",{templateUrl:"pages/withdraw.html",controller:"balanceController"}).otherwise({redirectTo:"/home"})})}(),function(){"use strict";var e=function(e,t,r){e.user={},e.user.userId="1",e.user.firstName="Marijn",e.user.lastName="Hosten",e.user.depositAmount=0,e.user.currentAmount=2e3,e.deposit=function(t){e.user.currentAmount+=t.depositAmount,r.location.hash="/home"},e.isEnabled=function(){return 0===e.user.depositAmount||"undefined"==typeof e.user.depositAmount?!0:!1}};angular.module("app").controller("balanceController",["$scope","$routeParams","$window",e])}(),function(){"use strict";var e=function(e){e.user={},e.user.userId="1",e.user.firstName="Marijn",e.user.lastName="Hosten",e.user.currentAmount=2e3;var t={id:9,firstName:"Anna",lastName:"Abcd",followers:27},r={id:2,firstName:"Bob",lastName:"Abcd",followers:28},a={id:3,firstName:"Christine",lastName:"Abcd",followers:105},o={id:4,firstName:"Dave",lastName:"Abcd",followers:30},i={id:5,firstName:"Eric",lastName:"Abcd",followers:2},n={id:6,firstName:"Francis",lastName:"Abcd",followers:0},s={id:7,firstName:"Gaben",lastName:"Abcd",followers:299},l={id:8,firstName:"Harold",lastName:"Abcd",followers:4};e.traders=[t,r,a,o,i,n,s,l]};angular.module("app").controller("mainController",["$scope",e])}(),function(){"use strict";var e=function(e,t,r,a){var o=t.id;e.user=a.getById(o),e.isEnabled=function(){return!1},e.submitForm=function(e){alert("changes saved"),r.location.hash="/home"}};angular.module("app").controller("profileController",["$scope","$routeParams","$window","userService",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWRlci5qcyIsInRyYWRlLmpzIiwidHJhZGVDYW52YXMuanMiLCJhcHAuanMiLCJiYWxhbmNlQ29udHJvbGxlci5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiVHJhZGVyIiwibmFtZSIsImFtb3VudCIsImluQXQiLCJ0eXBlIiwiY29tbWVudCIsInRoaXMiLCJkaWZmZXJlbmNlIiwiZHJhd2FibGUiLCJEcmF3YWJsZSIsImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclNjYWxpbmciLCJ0ZXh0Rm9udCIsInRleHRBbmNob3IiLCJWZWN0b3IyRCIsInRleHRCYWNrZ3JvdW5kIiwidGV4dFBhZGRpbmciLCJ0ZXh0U2NhbGluZyIsInRleHRQb3MiLCJ0ZXh0Q29sb3IiLCJwb3MiLCJyYWRpdXMiLCJzaG93Iiwib3BlbiIsImNoYW5nZVN0b2NrUHJpY2UiLCJzdG9ja1ByaWNlIiwicHJlc2V0IiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsIm5lZyIsInRvTG9jYWxlU3RyaW5nIiwic3R5bGUiLCJjdXJyZW5jeSIsInNldFRleHQiLCJkcmF3IiwiY3R4Iiwic2NhbGUiLCJwIiwicm90YXRlIiwicm90YXRpb24iLCJzYXZlIiwiZ2xvYmFsQWxwaGEiLCJvcGFjaXR5IiwidHJhbnNsYXRlIiwieCIsInkiLCJkcmF3Q2lyY2xlIiwiZHJhd0ltYWdlSW5DaXJjbGUiLCJkcmF3Qm9yZGVyRm9yQ2lyY2xlIiwicmVzdG9yZSIsInBvc3REcmF3IiwiZHJhd1RleHQiLCJjbGlja2VkIiwibWUiLCJhbmltYXRlIiwiYW5pbWF0ZVZlY3RvciIsImZpbmlzaGVkIiwiZWxlbWVudCIsInRyYWRlcyIsImluZGV4IiwiaSIsImwiLCJsZW5ndGgiLCJ0cmFkZXJzIiwiaW5kIiwiaW5kZXhPZiIsInNwbGljZSIsImNhbGNUcmFkZXJzIiwiYW5pbWF0ZURlbGV0ZSIsImludGVyYWN0aW9uIiwibW91c2VQb3MiLCJtb3VzZURpZmZlcmVuY2UiLCJzdWJWZWN0b3IiLCJtdWwiLCJzaXplIiwiVHJhZGUiLCJ0ZXh0UmVwbGFjZUNvbG9yIiwibGluZUNvbG9yIiwidGV4dFNpemUiLCJyYW5kb20iLCJpbWdGaWxsIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZGl2IiwidGV4dFJlcGxhY2UiLCJzZXRJbnRlcnZhbCIsImQiLCJwT20iLCJyZXF1ZXN0UmVkcmF3IiwicmVsUG9zIiwibyIsImoiLCJtIiwidCIsImFuZ2xlIiwiYWxwaGEiLCJwcmVEcmF3Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJuZXdUcmFkZXIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJmIiwiZG9uZSIsInByb2ZpbGUiLCJ0cmFzaCIsImxvZ29zIiwicGVvcGxlIiwic2V0SW1hZ2UiLCJwdXNoIiwidHJhZGVyIiwiciIsImNlaWwiLCJwcGwiLCJrIiwiY2FudmFzIiwicGVyY2VudGFnZSIsInRyYWRlIiwiQ2FudmFzIiwiZHJhd0NhbGxiYWNrIiwib2JqZWN0cyIsIm1hcmdpbiIsIm9mZnNldCIsImNlbnRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImludGVyYWN0aW9uU3RhcnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJvYmplY3QiLCJyZXR1cm5Qb3MiLCJzZWxlY3RlZCIsImludGVyYWN0aW9uTW92ZSIsImFkZFZlY3RvciIsInBhZ2VYIiwicGFnZVkiLCJpbnRlcmFjdGlvblN0b3AiLCJib2R5IiwicHJldmVudERlZmF1bHQiLCJjbGljayIsIndoZWVsRGVsdGEiLCJ2YWx1ZSIsIm1vdmVUb0NlbnRlciIsInBhcnNlRmxvYXQiLCJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJjb250cm9sbGVyIiwib3RoZXJ3aXNlIiwicmVkaXJlY3RUbyIsImJhbGFuY2VDb250cm9sbGVyIiwiJHNjb3BlIiwiJHJvdXRlUGFyYW1zIiwiJHdpbmRvdyIsInVzZXIiLCJ1c2VySWQiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImRlcG9zaXRBbW91bnQiLCJjdXJyZW50QW1vdW50IiwiZGVwb3NpdCIsImxvY2F0aW9uIiwiaGFzaCIsImlzRW5hYmxlZCIsIm1haW5Db250cm9sbGVyIiwiQW5uYSIsImlkIiwiZm9sbG93ZXJzIiwiQm9iIiwiQ2hyaXN0aW5lIiwiRGF2ZSIsIkVyaWMiLCJGcmFuY2lzIiwiR2FiZW4iLCJIYXJvbGQiLCJwcm9maWxlQ29udHJvbGxlciIsInVzZXJTZXJ2aWNlIiwiZ2V0QnlJZCIsInN1Ym1pdEZvcm0iLCJhbGVydCJdLCJtYXBwaW5ncyI6IkFBQUEsUUFBQUEsUUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsRUFBQUMsR0FDQUMsS0FBQUwsS0FBQUEsRUFDQUssS0FBQUosT0FBQUEsRUFDQUksS0FBQUgsS0FBQUEsRUFDQUcsS0FBQUQsUUFBQUEsRUFDQUMsS0FBQUYsS0FBQUEsRUFDQUUsS0FBQUMsV0FBQSxFQUNBRCxLQUFBRSxTQUFBLEdBQUFDLFVBRUFILEtBQUFFLFNBQUFFLE1BQUEsVUFFQUosS0FBQUUsU0FBQUcsWUFBQSxVQUNBTCxLQUFBRSxTQUFBSSxZQUFBLEVBQ0FOLEtBQUFFLFNBQUFLLGVBQUEsRUFDQVAsS0FBQUUsU0FBQU0sU0FBQSxnQkFDQVIsS0FBQUUsU0FBQU8sV0FBQSxHQUFBQyxVQUFBLEVBQUEsR0FDQVYsS0FBQUUsU0FBQVMsZUFBQSxVQUNBWCxLQUFBRSxTQUFBVSxZQUFBLEdBQUFGLFVBQUEsRUFBQSxHQUNBVixLQUFBRSxTQUFBVyxhQUFBLEVBQ0FiLEtBQUFFLFNBQUFZLFFBQUEsR0FBQUosVUFBQSxFQUFBLElBQ0FWLEtBQUFFLFNBQUFhLFVBQUEsVUFFQWYsS0FBQUUsU0FBQWMsSUFBQSxHQUFBTixVQUFBLEVBQUEsR0FFQVYsS0FBQUUsU0FBQWUsT0FBQSxHQUVBakIs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cyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFRyYWRlcihuYW1lLCBhbW91bnQsIGluQXQsIHR5cGUsIGNvbW1lbnQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xuICAgIHRoaXMuaW5BdCA9IGluQXQ7XG4gICAgdGhpcy5jb21tZW50ID0gY29tbWVudDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZGlmZmVyZW5jZSA9IDA7XG4gICAgdGhpcy5kcmF3YWJsZSA9IG5ldyBEcmF3YWJsZSgpO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5jb2xvciA9IFwiI2ZmZmZmZlwiO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyV2lkdGggPSAyO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyU2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEZvbnQgPSBcIlNvdXJjZVNhbnNQcm9cIjtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRBbmNob3IgPSBuZXcgVmVjdG9yMkQoMCwgMSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiI2ZmZmZmZlwiO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBhZGRpbmcgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0U2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBvcyA9IG5ldyBWZWN0b3IyRCgxLCAtMSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0Q29sb3IgPSBcIiMyQzNFNTBcIjtcblxuICAgIHRoaXMuZHJhd2FibGUucG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5yYWRpdXMgPSAyNTtcblxuICAgIHRoaXMuZHJhd2FibGUuc2hvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5uZXcgPSB0cnVlO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5jaGFuZ2VTdG9ja1ByaWNlID0gZnVuY3Rpb24oc3RvY2tQcmljZSkge1xuICAgICAgICB2YXIgcHJlc2V0ID0gXCJbYl1cIiArIHRoaXMubmFtZSArIFwiWy9iXVthbGlnbj1yaWdodF1bY29sb3I9XCI7XG4gICAgICAgIHZhciBkaWZmID0gTWF0aC5mbG9vcigoc3RvY2tQcmljZSAtIHRoaXMuaW5BdCkgKiB0aGlzLmFtb3VudCAqIDEwMCkgLyAxMDA7XG4gICAgICAgIHZhciBwb3MgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgdmFyIG5lZyA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICBpZih0aGlzLnR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmVyZW5jZSA9IGRpZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpZmZlcmVuY2UgPSAtZGlmZjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRpZmZlcmVuY2UgPj0gMCkge1xuICAgICAgICAgICAgcHJlc2V0ICs9IHBvcyArIFwiXVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlc2V0ICs9IG5lZyArIFwiXVwiO1xuICAgICAgICB9XG4gICAgICAgIHByZXNldCArPSB0aGlzLmRpZmZlcmVuY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSArIFwiWy9jb2xvcl1bL2FsaWduXVxcbltpXVtjb2xvcj1cIjtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAwKSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gcG9zICsgXCJdXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gbmVnICsgXCJdXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJlc2V0ICs9IGFtb3VudDtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAwKSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gXCIgbG9uZyBhdCBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXNldCArPSBcIiBzaG9ydCBhdCBcIjtcbiAgICAgICAgfVxuICAgICAgICBwcmVzZXQgKz0gaW5BdC50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7c3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pICsgXCJbL2NvbG9yXVsvaV1cXG5cIjtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5zZXRUZXh0KHByZXNldCArIHRoaXMuY29tbWVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZHJhd2FibGUucG9zLnJvdGF0ZSh0aGlzLmRyYXdhYmxlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5kcmF3YWJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdDaXJjbGUoY3R4KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuZHJhd0ltYWdlSW5DaXJjbGUoY3R4KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuZHJhd0JvcmRlckZvckNpcmNsZShjdHgsIHNjYWxlKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5wb3N0RHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZHJhd2FibGUucG9zLnJvdGF0ZSh0aGlzLmRyYXdhYmxlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5kcmF3YWJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdUZXh0KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsaWNrZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgaWYoIXRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMTIsIDIwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMTAsIDEwKSwgMjAwLCBcImVhc2VJbk91dFwiLCBmdW5jdGlvbihmaW5pc2hlZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMCwgMjAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMjAwLCBcImVhc2VJbk91dFwiLCBmdW5jdGlvbihmaW5pc2hlZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKHRyYWRlcywgaW5kZXgpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBpZih0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBsID0gdHJhZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodHlwZW9mIHRyYWRlc1tpXS50cmFkZXJzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0cmFkZXNbaV0udHJhZGVycy5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChpbmQgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFkZXNbaV0udHJhZGVycy5zcGxpY2UoaW5kLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhZGVzW2ldLmNhbGNUcmFkZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRyYWRlc1tpXS50cmFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzW2ldLmFuaW1hdGVEZWxldGUodHJhZGVzLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmludGVyYWN0aW9uID0gZnVuY3Rpb24obW91c2VQb3MsIHNjYWxlKSB7XG4gICAgICAgIHZhciBtb3VzZURpZmZlcmVuY2UgPSBtb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5kcmF3YWJsZS5wb3Mucm90YXRlKHRoaXMuZHJhd2FibGUucm90YXRpb24pLm11bChzY2FsZSkpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIGlmICh0aGlzLmRyYXdhYmxlLnJhZGl1cyAhPT0gMCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuZHJhd2FibGUucmFkaXVzICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZHJhd2FibGUuc2l6ZS5sZW5ndGgoKSAhPT0gMCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuZHJhd2FibGUuc2l6ZS5sZW5ndGgoKSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3VzZURpZmZlcmVuY2UubGVuZ3RoKCkgPD0gZGlmZmVyZW5jZSAmJiB0aGlzLmRyYXdhYmxlLnNob3cpIHtcbiAgICAgICAgICAgIGlmKHRoaXMubmV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmJvcmRlckNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG59IiwidmFyIFRyYWRlID0gZnVuY3Rpb24oc3RvY2tQcmljZSwgdHJhZGVycywgcG9zKSB7XG4gICAgdGhpcy5zdG9ja1ByaWNlID0gc3RvY2tQcmljZTtcbiAgICB0aGlzLnRyYWRlcnMgPSB0cmFkZXJzO1xuICAgIHRoaXMuZHJhd2FibGUgPSBuZXcgRHJhd2FibGUoKTtcblxuICAgIHRoaXMuZGlmZmVyZW5jZSA9IDA7XG4gICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy50cmFkZXJzW2ldLmNoYW5nZVN0b2NrUHJpY2UodGhpcy5zdG9ja1ByaWNlKTtcbiAgICAgICAgdGhpcy5kaWZmZXJlbmNlICs9IHRoaXMudHJhZGVyc1tpXS5kaWZmZXJlbmNlO1xuICAgIH1cbiAgICB0aGlzLmRpZmZlcmVuY2UgPSBNYXRoLmZsb29yKHRoaXMuZGlmZmVyZW5jZSAqIDEwMCkgLyAxMDA7XG4gICAgdGhpcy5kcmF3YWJsZS5zZXRUZXh0KHRoaXMuZGlmZmVyZW5jZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgaWYodGhpcy5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzM2QjVEQlwiO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjRTc0QzNDXCI7XG4gICAgICAgIHRoaXMuZHJhd2FibGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgIH1cbiAgICB0aGlzLmxpbmVDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0U2l6ZSA9IDEwO1xuICAgIHRoaXMuZHJhd2FibGUucmFkaXVzID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDM1KSArIDM1KTtcbiAgICB0aGlzLmRyYXdhYmxlLmltZ0ZpbGwgPSBmYWxzZTtcbiAgICBpZihwb3MgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCAtICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAod2luZG93LmlubmVySGVpZ2h0IC0gNTApIC0gKCh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgLyAyKSk7XG4gICAgICAgIHdoaWxlKG5ldyBWZWN0b3IyRCh4LCB5KS5sZW5ndGgoKSA8ICgxMDAgKyB0aGlzLmRyYXdhYmxlLnJhZGl1cykgfHwgbmV3IFZlY3RvcjJEKHgsIHkpLmxlbmd0aCgpID4gKG5ldyBWZWN0b3IyRCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC0gNTApLmRpdigyKS5sZW5ndGgoKSAtIHRoaXMuZHJhd2FibGUucmFkaXVzKSkge1xuICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoIC0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikpO1xuICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgLSAoKHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKSAvIDIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJwb3NcIiwgbmV3IFZlY3RvcjJEKHgsIHkpLCAxMDAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInBvc1wiLCBwb3MsIDEwMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgIH1cbiAgICB0aGlzLmRyYXdhYmxlLmNvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJXaWR0aCA9IDI7XG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyU2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dENvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0Rm9udCA9IFwiU291cmNlU2Fuc1Byb1wiO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEFuY2hvciA9IG5ldyBWZWN0b3IyRCgwLjUsIDAuNSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0UG9zID0gbmV3IFZlY3RvcjJEKDAsIDAuNSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFJlcGxhY2UgPSAxNTtcblxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkID0gTWF0aC5yYW5kb20oKSAvIDEwO1xuICAgICAgICB2YXIgcE9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XG4gICAgICAgIGlmKHBPbSA9PT0gMSkge1xuICAgICAgICAgICAgZCA9IC1kO1xuICAgICAgICB9XG4gICAgICAgIG1lLnN0b2NrUHJpY2UgPSBNYXRoLmZsb29yKChtZS5zdG9ja1ByaWNlICsgZCkgKiAxMDApIC8gMTAwO1xuICAgICAgICBtZS5kaWZmZXJlbmNlID0gMDtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IG1lLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBtZS50cmFkZXJzW2ldLmNoYW5nZVN0b2NrUHJpY2UobWUuc3RvY2tQcmljZSk7XG4gICAgICAgICAgICBtZS5kaWZmZXJlbmNlICs9IG1lLnRyYWRlcnNbaV0uZGlmZmVyZW5jZTtcbiAgICAgICAgfVxuICAgICAgICBtZS5kaWZmZXJlbmNlID0gTWF0aC5mbG9vcihtZS5kaWZmZXJlbmNlICogMTAwKSAvIDEwMDtcbiAgICAgICAgaWYoIW1lLm9wZW4pIHtcbiAgICAgICAgICAgIG1lLmRyYXdhYmxlLnNldFRleHQobWUuZGlmZmVyZW5jZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzM2QjVEQlwiO1xuICAgICAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWUuZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMkMzRTUwXCI7XG4gICAgICAgICAgICBtZS5kcmF3YWJsZS5zZXRUZXh0KG1lLnN0b2NrUHJpY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgICAgICB9XG4gICAgICAgIG1lLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSB0cnVlO1xuICAgIH0sIDIwMDApO1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zLCBzY2FsZSkge1xuICAgICAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMuZHJhd2FibGUucG9zLm11bChzY2FsZSkpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUucmFkaXVzICE9PSAwKSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gdGhpcy5kcmF3YWJsZS5yYWRpdXMgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgIT09IDApIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VEaWZmZXJlbmNlLmxlbmd0aCgpIDw9IGRpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWxQb3MgPSBtb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5kcmF3YWJsZS5wb3MubXVsKHNjYWxlKSk7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMudHJhZGVyc1tpXS5pbnRlcmFjdGlvbihyZWxQb3MsIHNjYWxlKTtcbiAgICAgICAgICAgIGlmKG8gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMCwgbSA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHRoaXMudHJhZGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmNhbGNUcmFkZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmdsZSA9IDE4MCAvICh0aGlzLnRyYWRlcnMubGVuZ3RoICsgMSk7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSAoYW5nbGUgKiAoaSArIDEgLSAoKHRoaXMudHJhZGVycy5sZW5ndGggKyAxKSAvIDIpKSkgLSA5MDtcbiAgICAgICAgICAgIHRoaXMudHJhZGVyc1tpXS5kcmF3YWJsZS5hbmltYXRlKFwicm90YXRpb25cIiwgYWxwaGEsIDMwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FsY1RyYWRlcnMoKTtcblxuICAgIHRoaXMucHJlRHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDAuNTtcbiAgICAgICAgICAgIHZhciBuZXdUcmFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLm5ldykge1xuICAgICAgICAgICAgICAgICAgICBuZXdUcmFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG5ld1RyYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZUNvbG9yID0gXCIjQjNCMzY5XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZUNvbG9yID0gXCIjMkMzRTUwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLmRyYXdhYmxlLnBvcy54LCB0aGlzLmRyYXdhYmxlLnBvcy55KTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnNob3cpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMuZHJhd2FibGUucG9zLngsIHRoaXMuZHJhd2FibGUucG9zLnkpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIHZhciBuZXdUcmFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFkZXJzW2ldLmRyYXcoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLm5ldykge1xuICAgICAgICAgICAgICAgICAgICBuZXdUcmFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG5ld1RyYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyQ29sb3IgPSBcIiNCM0IzNjlcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3Q2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdCb3JkZXJGb3JDaXJjbGUoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdUZXh0KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKHRyYWRlcykge1xuICAgICAgICB2YXIgaW5kZXggPSB0cmFkZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudHJhZGVyc1swXS5kZWxldGUodHJhZGVzLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlRGVsZXRlID0gZnVuY3Rpb24odHJhZGVzLCBpbmRleCkge1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAwLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0UmVwbGFjZVwiLCAwLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMCwgMCksIDMwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcIm9wYWNpdHlcIiwgMCwgMzAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwicmFkaXVzXCIsIDAsIDMwMCwgXCJlYXNlSW5PdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cmFkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucG9zdERyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUuc2hvdykge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSAqPSB0aGlzLmRyYXdhYmxlLm9wYWNpdHk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMuZHJhd2FibGUucG9zLngsIHRoaXMuZHJhd2FibGUucG9zLnkpO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRlcnNbaV0ucG9zdERyYXcoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2xpY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDAsIGwgPSAwLCB0ID0gbnVsbCwgbWUgPSB0aGlzO1xuICAgICAgICBpZighdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICBmb3IobCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy50cmFkZXJzW2ldO1xuICAgICAgICAgICAgICAgIHQuZHJhd2FibGUuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdC5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG5ldyBWZWN0b3IyRCgwLCB0aGlzLmRyYXdhYmxlLnJhZGl1cyArIHQuZHJhd2FibGUucmFkaXVzICsgMTUpLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwidGV4dFBhZGRpbmdcIiwgbmV3IFZlY3RvcjJEKDAsIDApLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgxMCwgMTApLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMCwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0UmVwbGFjZVwiLCAxNSwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDAsIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzJDM0U1MFwiO1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLnNldFRleHQobWUuc3RvY2tQcmljZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgICAgICAgICAgbWUub3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDEwLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IobCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy50cmFkZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmKHQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0LmNsaWNrZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMzAwLCBcImVhc2VJbk91dFwiLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMTAsIDEwKSwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRSZXBsYWNlXCIsIDAsIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMTUsIDE1MCwgXCJlYXNlT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAwLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuc2V0VGV4dChtZS5kaWZmZXJlbmNlLnRvTG9jYWxlU3RyaW5nKCdiZS1OTCcsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pKTtcbiAgICAgICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZS5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDEwLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucmVxdWVzdFJlZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhZGVyc1tpXS5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTsiLCJ2YXIgdHJhZGVzID0gW107XG52YXIgdHJhZGVycyA9IFtdO1xudmFyIHByb2ZpbGUgPSBuZXcgRHJhd2FibGUoKTtcbnZhciB0cmFzaCA9IG5ldyBEcmF3YWJsZSgpO1xudmFyIGxvZ29zID0gW1wibG9nbzAuc3ZnXCIsIFwibG9nbzEuc3ZnXCIsIFwibG9nbzIuc3ZnXCIsIFwibG9nbzMuc3ZnXCIsIFwibG9nbzQuc3ZnXCJdO1xudmFyIHBlb3BsZSA9IFtbXCJDcmF6eSBIZWZmZVwiLCBcInRyYWRlcjAuanBnXCJdLCBbXCJNYXJpbm8gSG9zdGlub1wiLCBcInRyYWRlcjEuanBnXCJdLCBbXCJOaWNvbHNoIExhdmFuZGFcIiwgXCJ0cmFkZXIyLmpwZ1wiXSwgW1wieFhyb2JrZTY5WHhcIiwgXCJ0cmFkZXIzLmpwZ1wiXV07XG5cbihmdW5jdGlvbigpIHtcbiAgICBwcm9maWxlLnNldEltYWdlKFwiZGlzdC9pbWFnZXMvcHJvZmlsZXMvcHJvZmlsZS5qcGdcIik7XG4gICAgcHJvZmlsZS5yYWRpdXMgPSAxMDA7XG4gICAgcHJvZmlsZS5jb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgIHByb2ZpbGUuYm9yZGVyQ29sb3IgPSBcIiNlZWVlZWVcIjtcbiAgICBwcm9maWxlLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICBwcm9maWxlLmJvcmRlcldpZHRoID0gMjtcbiAgICBwcm9maWxlLnRleHRTaXplID0gMTI7XG4gICAgcHJvZmlsZS50ZXh0Q29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICBwcm9maWxlLnRleHRGb250ID0gXCJTb3VyY2VTYW5zUHJvXCI7XG4gICAgcHJvZmlsZS50ZXh0QW5jaG9yID0gbmV3IFZlY3RvcjJEKDAuNSwgMC41KTtcbiAgICBwcm9maWxlLnRleHRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMC41KTtcbiAgICBwcm9maWxlLnRleHRQYWRkaW5nID0gbmV3IFZlY3RvcjJEKDEwLCAxMCk7XG4gICAgcHJvZmlsZS50ZXh0UmVwbGFjZSA9IDE1O1xuICAgIHRyYWRlcy5wdXNoKHByb2ZpbGUpO1xuXG4gICAgdHJhc2guc2V0SW1hZ2UoXCJkaXN0L2ltYWdlcy9taXNjL3RyYXNoLnN2Z1wiKTtcbiAgICB0cmFzaC5yYWRpdXMgPSA1MDtcbiAgICB0cmFzaC5jb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgIHRyYXNoLmJvcmRlckNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgdHJhc2guYm9yZGVyU2NhbGluZyA9IGZhbHNlO1xuICAgIHRyYXNoLmJvcmRlcldpZHRoID0gMjtcbiAgICB0cmFzaC5wb3MgPSBuZXcgVmVjdG9yMkQod2luZG93LmlubmVyV2lkdGggLSAxMDAsIHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCk7XG5cbiAgICBmb3IodmFyIGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICAgIHZhciBhbW91bnQgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCk7XG4gICAgICAgIHZhciBpbkF0ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIwMDAwKSkgLyAxMDA7XG4gICAgICAgIHZhciB0eXBlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XG4gICAgICAgIHZhciB0cmFkZXIgPSBbYW1vdW50LCBpbkF0LCB0eXBlXTtcbiAgICAgICAgdHJhZGVycy5wdXNoKHRyYWRlcik7XG4gICAgfVxuICAgIHZhciBkaWZmID0gMDtcbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIHZhciByID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiA0KTtcbiAgICAgICAgdmFyIHBwbCA9IFtdO1xuICAgICAgICB2YXIgc3RvY2tQcmljZSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyMDApICogMTAwKSAvIDEwMDtcbiAgICAgICAgZm9yKHZhciBrID0gMDsgayA8IHI7IGsrKykge1xuICAgICAgICAgICAgdmFyIHQgPSBuZXcgVHJhZGVyKHBlb3BsZVtrXVswXSwgdHJhZGVyc1trXVswXSwgdHJhZGVyc1trXVsxXSwgdHJhZGVyc1trXVsyXSwgXCJUaGlzIGxvb2tzIGdvb2QhXFxuSSBjYW4gZXZlbiBwdXQgYSBzZWNvbmQgbGluZVxcblxcbkFuZCBldmVuIG1vcmVcIik7XG4gICAgICAgICAgICB0LmRyYXdhYmxlLnNldEltYWdlKFwiZGlzdC9pbWFnZXMvcHJvZmlsZXMvXCIgKyBwZW9wbGVba11bMV0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbnZhcy5kcmF3KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHQucGVyY2VudGFnZSA9IChNYXRoLnJhbmRvbSgpICogMC40KSArIDAuMTtcbiAgICAgICAgICAgIHBwbC5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0cmFkZSA9IG5ldyBUcmFkZShzdG9ja1ByaWNlLCBwcGwsIG51bGwpO1xuICAgICAgICBkaWZmICs9IHRyYWRlLmRpZmZlcmVuY2U7XG4gICAgICAgIHRyYWRlLmRyYXdhYmxlLnNldEltYWdlKFwiZGlzdC9pbWFnZXMvbG9nb3MvXCIgKyBsb2dvc1tpXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICB9KTtcbiAgICAgICAgdHJhZGVzLnB1c2godHJhZGUpO1xuICAgIH1cbiAgICB0cmFkZXMucHVzaCh0cmFzaCk7XG4gICAgaWYoZGlmZiA+PSAwKSB7XG4gICAgICAgIHByb2ZpbGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgcHJvZmlsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcHJvZmlsZS50ZXh0QmFja2dyb3VuZCA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICB9XG4gICAgcHJvZmlsZS5zZXRUZXh0KChNYXRoLmZsb29yKGRpZmYgKiAxMDApIC8gMTAwKS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7c3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pKTtcbiAgICB2YXIgY2FudmFzID0gbmV3IENhbnZhcygwLCA1MCwgd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCAtIDUwLCBcInRyYWRlc1wiLCB0cmFkZXMpO1xuICAgIGNhbnZhcy5kcmF3Q2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGRpZmYgPSAwO1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gY2FudmFzLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0eXBlb2YgY2FudmFzLm9iamVjdHNbaV0uZGlmZmVyZW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkaWZmICs9IGNhbnZhcy5vYmplY3RzW2ldLmRpZmZlcmVuY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYoZGlmZiA+PSAwKSB7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2ZpbGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgIHByb2ZpbGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICB9XG4gICAgICAgIHByb2ZpbGUuc2V0VGV4dCgoTWF0aC5mbG9vcihkaWZmICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgfTtcbiAgICBwcm9maWxlLmRyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIHRoaXMuZHJhd0NpcmNsZShjdHgpO1xuICAgICAgICB0aGlzLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgIHRoaXMuZHJhd0JvcmRlckZvckNpcmNsZShjdHgsIHNjYWxlKTtcbiAgICAgICAgdGhpcy5kcmF3VGV4dChjdHgsIHNjYWxlKTtcbiAgICB9O1xuICAgIHRyYXNoLmludGVyYWN0aW9uID0gZnVuY3Rpb24obW91c2VQb3MpIHtcbiAgICAgICAgdmFyIG1vdXNlRGlmZmVyZW5jZSA9IG1vdXNlUG9zLnN1YlZlY3RvcihjYW52YXMubWFyZ2luKS5zdWJWZWN0b3IodGhpcy5wb3MpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IHRoaXMucmFkaXVzICogY2FudmFzLnNjYWxlO1xuICAgICAgICByZXR1cm4gKG1vdXNlRGlmZmVyZW5jZS5sZW5ndGgoKSA8PSBkaWZmZXJlbmNlICYmIHRoaXMuc2hvdyk7XG4gICAgfTtcbiAgICB0cmFzaC5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICB2YXIgcCA9IHRoaXMucG9zLnN1YlZlY3RvcihjYW52YXMub2Zmc2V0KS5zdWJWZWN0b3IoY2FudmFzLmNlbnRlcikubXVsKDEgLyBjYW52YXMuc2NhbGUpO1xuICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICBjdHgudHJhbnNsYXRlKHAueCwgcC55KTtcbiAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKGN0eCk7XG4gICAgICAgIHRoaXMuZHJhd0ltYWdlSW5DaXJjbGUoY3R4KTtcbiAgICAgICAgdGhpcy5kcmF3Qm9yZGVyRm9yQ2lyY2xlKGN0eCwgc2NhbGUpO1xuICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgIH07XG4gICAgY2FudmFzLmRyYXcoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaW50ZXJhY3Rpb25TdGFydChlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTtcbiAgICAgICAgaW50ZXJhY3Rpb25TdGFydCh0b3VjaCk7XG4gICAgfSk7XG4gICAgdmFyIGludGVyYWN0aW9uU3RhcnQgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvblN0YXJ0KGUsIGZ1bmN0aW9uKG9iamVjdCwgbW91c2VQb3MpIHtcbiAgICAgICAgICAgIHZhciBpbmRleDtcbiAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBjYW52YXMub2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLm9iamVjdHMucHVzaChjYW52YXMub2JqZWN0cy5zcGxpY2UoaW5kZXgsIDEpWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgIG9iamVjdC5kcmF3YWJsZS5yZXR1cm5Qb3MgPSBvYmplY3QuZHJhd2FibGUucG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob2JqZWN0ID09PSBcInNlbGZcIikge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gY2FudmFzLm9iamVjdHMuaW5kZXhPZih0cmFzaCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLm9iamVjdHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0cy5wdXNoKHRyYXNoKTtcbiAgICAgICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzLnNlbGVjdGVkID0gb2JqZWN0O1xuICAgICAgICAgICAgY2FudmFzLm1vdXNlUG9zID0gbW91c2VQb3M7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGludGVyYWN0aW9uTW92ZShlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgICAgICBpbnRlcmFjdGlvbk1vdmUodG91Y2gpO1xuICAgIH0pO1xuICAgIHZhciBpbnRlcmFjdGlvbk1vdmUgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvbk1vdmUoZSwgZnVuY3Rpb24ob2JqZWN0LCBtb3VzZVBvcywgZGlmZmVyZW5jZSkge1xuICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGUpIHtcbiAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUucG9zID0gbW91c2VQb3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUucG9zID0gb2JqZWN0LmRyYXdhYmxlLnBvcy5hZGRWZWN0b3IoZGlmZmVyZW5jZS5yb3RhdGUoLW9iamVjdC5kcmF3YWJsZS5yb3RhdGlvbikubXVsKDEgLyBjYW52YXMuc2NhbGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRyYXNoLmludGVyYWN0aW9uKG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKSkpIHtcbiAgICAgICAgICAgICAgICB0cmFzaC5jb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0cmFzaC5jb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGludGVyYWN0aW9uU3RvcChlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgIGludGVyYWN0aW9uU3RvcCh0b3VjaCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdmFyIGludGVyYWN0aW9uU3RvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgY2FudmFzLmludGVyYWN0aW9uU3RvcChmdW5jdGlvbihjbGljaywgb2JqZWN0KSB7XG4gICAgICAgICAgICB2YXIgaSwgbDtcbiAgICAgICAgICAgIGlmKGNsaWNrKSB7XG4gICAgICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gY2FudmFzLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FudmFzLm9iamVjdHNbaV0ub3BlbiAmJiBjYW52YXMub2JqZWN0c1tpXSAhPT0gb2JqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLm9iamVjdHNbaV0uY2xpY2tlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9iamVjdCA9PT0gXCJzZWxmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGNhbnZhcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbnZhcy5vYmplY3RzW2ldLm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0c1tpXS5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIG9iamVjdC5jbGlja2VkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZSkge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRyYXNoLmludGVyYWN0aW9uKG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZWxldGUoY2FudmFzLm9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdC5kcmF3YWJsZS5yZXR1cm5Qb3MubGVuZ3RoKCkgIT09IG9iamVjdC5kcmF3YWJsZS5wb3MubGVuZ3RoKCkgJiYgb2JqZWN0LmRyYXdhYmxlLnJldHVyblBvcy54ICE9PSBvYmplY3QuZHJhd2FibGUucG9zLngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG9iamVjdC5kcmF3YWJsZS5yZXR1cm5Qb3MsIDUwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYodHJhc2guaW50ZXJhY3Rpb24obmV3IFZlY3RvcjJEKGUucGFnZVgsIGUucGFnZVkpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlbGV0ZShjYW52YXMub2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cmFzaC5jb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICB9KTtcbiAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhZGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJ3aGVlbFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciBzY2FsZSA9IGNhbnZhcy5zY2FsZSArIChlLndoZWVsRGVsdGEgLyAzMDApO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIGlmKHNjYWxlID4gMS44KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDEuODtcbiAgICAgICAgfVxuICAgICAgICBpZihzY2FsZSA8IDAuNCkge1xuICAgICAgICAgICAgc2NhbGUgPSAwLjQ7XG4gICAgICAgIH1cbiAgICAgICAgc2NhbGUgPSBNYXRoLmZsb29yKHNjYWxlICogMTAwKSAvIDEwMDtcbiAgICAgICAgY2FudmFzLnNjYWxlID0gc2NhbGU7XG4gICAgICAgIHRyYXNoLnJhZGl1cyA9IDUwIC8gY2FudmFzLnNjYWxlO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlQ2FudmFzXCIpLnZhbHVlID0gY2FudmFzLnNjYWxlO1xuICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRPZmZzZXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYW52YXMubW92ZVRvQ2VudGVyKCk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzY2FsZUNhbnZhc1wiKS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYW52YXMuc2NhbGUgPSBwYXJzZUZsb2F0KHRoaXMudmFsdWUpO1xuICAgICAgICB0cmFzaC5yYWRpdXMgPSA1MCAvIGNhbnZhcy5zY2FsZTtcbiAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICB9KTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcIm5nUm91dGVcIl0pO1xuXG4gICAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKFwiL2hvbWVcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInBhZ2VzL2hvbWUuaHRtbFwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWFpbkNvbnRyb2xsZXJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKFwiL3Byb2ZpbGUvOmlkXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJwYWdlcy9wcm9maWxlLmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInByb2ZpbGVDb250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9iYWxhbmNlSGlzdG9yeS86aWRcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInBhZ2VzL2JhbGFuY2VIaXN0b3J5Lmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImJhbGFuY2VDb250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9kZXBvc2l0LzppZFwiLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwicGFnZXMvZGVwb3NpdC5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJiYWxhbmNlQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oXCIvd2l0aGRyYXcvOmlkXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJwYWdlcy93aXRoZHJhdy5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJiYWxhbmNlQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogXCIvaG9tZVwiXG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgYmFsYW5jZUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcywgJHdpbmRvdyl7XG4gICAgICAgIC8vbmV3IGNvZGUgZ29lcyBoZXJlXG5cbiAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLnVzZXIudXNlcklkID0gXCIxXCI7XG4gICAgICAgICRzY29wZS51c2VyLmZpcnN0TmFtZSA9IFwiTWFyaWpuXCI7XG4gICAgICAgICRzY29wZS51c2VyLmxhc3ROYW1lID0gXCJIb3N0ZW5cIjtcbiAgICAgICAgJHNjb3BlLnVzZXIuZGVwb3NpdEFtb3VudCA9IDA7XG4gICAgICAgICRzY29wZS51c2VyLmN1cnJlbnRBbW91bnQgPSAyMDAwO1xuXG4gICAgICAgICRzY29wZS5kZXBvc2l0ID0gZnVuY3Rpb24odXNlcil7XG4gICAgICAgICAgICAkc2NvcGUudXNlci5jdXJyZW50QW1vdW50ICs9IHVzZXIuZGVwb3NpdEFtb3VudDtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiL2hvbWVcIjtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNFbmFibGVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS51c2VyLmRlcG9zaXRBbW91bnQgPT09IDAgfHwgdHlwZW9mICRzY29wZS51c2VyLmRlcG9zaXRBbW91bnQgPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiYmFsYW5jZUNvbnRyb2xsZXJcIiwgWyBcIiRzY29wZVwiLCBcIiRyb3V0ZVBhcmFtc1wiLCBcIiR3aW5kb3dcIiwgYmFsYW5jZUNvbnRyb2xsZXJdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIG1haW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlKXtcbiAgICAgICAgLy9uZXcgY29kZSBnb2VzIGhlcmVcbiAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLnVzZXIudXNlcklkID0gXCIxXCI7XG4gICAgICAgICRzY29wZS51c2VyLmZpcnN0TmFtZSA9IFwiTWFyaWpuXCI7XG4gICAgICAgICRzY29wZS51c2VyLmxhc3ROYW1lID0gXCJIb3N0ZW5cIjtcbiAgICAgICAgJHNjb3BlLnVzZXIuY3VycmVudEFtb3VudCA9IDIwMDA7XG5cbiAgICAgICAgdmFyIEFubmEgPSB7aWQ6IDksIGZpcnN0TmFtZTogXCJBbm5hXCIsIGxhc3ROYW1lOiBcIkFiY2RcIiwgZm9sbG93ZXJzOiAyN307XG4gICAgICAgIHZhciBCb2IgPSB7aWQ6IDIsIGZpcnN0TmFtZTogXCJCb2JcIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDI4fTtcbiAgICAgICAgdmFyIENocmlzdGluZSA9IHtpZDogMywgZmlyc3ROYW1lOiBcIkNocmlzdGluZVwiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogMTA1fTtcbiAgICAgICAgdmFyIERhdmUgPSB7aWQ6IDQsIGZpcnN0TmFtZTogXCJEYXZlXCIsIGxhc3ROYW1lOiBcIkFiY2RcIiwgZm9sbG93ZXJzOiAzMH07XG4gICAgICAgIHZhciBFcmljID0ge2lkIDogNSwgZmlyc3ROYW1lOiBcIkVyaWNcIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDJ9O1xuICAgICAgICB2YXIgRnJhbmNpcyA9IHtpZDogNixmaXJzdE5hbWU6IFwiRnJhbmNpc1wiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogMH07XG4gICAgICAgIHZhciBHYWJlbiA9IHtpZDogNyxmaXJzdE5hbWU6IFwiR2FiZW5cIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDI5OX07XG4gICAgICAgIHZhciBIYXJvbGQgPSB7aWQ6IDgsZmlyc3ROYW1lOiBcIkhhcm9sZFwiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogNH07XG5cbiAgICAgICAgJHNjb3BlLnRyYWRlcnMgPSBbQW5uYSwgQm9iLCBDaHJpc3RpbmUsIERhdmUsIEVyaWMsIEZyYW5jaXMsIEdhYmVuLCBIYXJvbGRdO1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibWFpbkNvbnRyb2xsZXJcIiwgWyBcIiRzY29wZVwiLCBtYWluQ29udHJvbGxlcl0pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cblxuXG4gICAgdmFyIHByb2ZpbGVDb250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCAkcm91dGVQYXJhbXMsICR3aW5kb3csIHVzZXJTZXJ2aWNlKXtcbiAgICAgICAgLy9uZXcgY29kZSBnb2VzIGhlcmVcblxuICAgICAgICB2YXIgdXNlcklkID0gJHJvdXRlUGFyYW1zLmlkO1xuICAgICAgICAkc2NvcGUudXNlciA9IHVzZXJTZXJ2aWNlLmdldEJ5SWQodXNlcklkKTtcblxuICAgICAgICAvKiRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgXCJpZFwiOiAxLFxuICAgICAgICAgICAgXCJmaXJzdE5hbWVcIjogXCJNYXJpam5cIixcbiAgICAgICAgICAgIFwibGFzdE5hbWVcIjogXCJIb3N0ZW5cIixcbiAgICAgICAgICAgIFwicGFzc3cxXCI6IFwiMTIzNDU2XCIsXG4gICAgICAgICAgICBcInBhc3N3MlwiOiBcIjEyMzQ1NlwiLFxuICAgICAgICAgICAgXCJjdXJyZW50QW1vdW50XCI6IDIwMDBcbiAgICAgICAgfTsqL1xuXG4gICAgICAgICRzY29wZS5pc0VuYWJsZWQgPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiY2hhbmdlcyBzYXZlZFwiKTtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiL2hvbWVcIjtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInByb2ZpbGVDb250cm9sbGVyXCIsIFsgXCIkc2NvcGVcIiwgXCIkcm91dGVQYXJhbXNcIiwgXCIkd2luZG93XCIsIFwidXNlclNlcnZpY2VcIiwgcHJvZmlsZUNvbnRyb2xsZXJdKTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
