function cX(){return WIDTH/2}function cY(){return HEIGHT/2}function sfc(t,a){var n=(a-cY())/(t-cX()),c=Math.sqrt(Math.pow(t-cX(),2)+Math.pow(a-cY(),2));c*=scale;var r=Math.atan(n)/Math.PI*180;0>r&&(r=-r);var e=90-r,s=c*Math.sin(e/180*Math.PI),i=c*Math.sin(r/180*Math.PI);return t>cX()&&(s=-s),a>cY()&&(i=-i),[cX()-s,cY()-i]}function sbfc(t,a){var n=(a-cY())/(t-cX()),c=Math.sqrt(Math.pow(t-cX(),2)+Math.pow(a-cY(),2));c*=1/scale;var r=Math.atan(n)/Math.PI*180;0>r&&(r=-r);var e=90-r,s=Math.ceil(c*Math.sin(e/180*Math.PI)),i=Math.ceil(c*Math.sin(r/180*Math.PI));return t>cX()&&(s=-s),a>cY()&&(i=-i),[cX()-s,cY()-i]}function clear(){ctx.clearRect(0,0,WIDTH,HEIGHT)}function init(){canvas=document.getElementById("trades"),canvas.width=window.innerWidth,canvas.height=window.innerHeight,WIDTH=window.innerWidth,HEIGHT=window.innerHeight,ctx=canvas.getContext("2d");for(var t=0;20>t;t++){for(var a=Math.floor(Math.random()*WIDTH),n=Math.floor(Math.random()*HEIGHT),c=Math.floor(100*Math.random()+20),r="0123456789ABCDEF".split(""),e="#",s=0;6>s;s++)e+=r[Math.floor(16*Math.random())];trades.push(new Trade(t,a,n,a,n,c,e))}return setInterval(draw,10)}function draw(){clear();for(var t=0;t<trades.length;t++)trades[t].draw()}function myMove(t){null!==dragging&&(dragging.scX=t.pageX,dragging.scY=t.pageY)}function myDown(t){for(var a=trades.length-1;a>=0;a--){var n=trades[a];if(Math.pow(t.pageX-n.scX,2)+Math.pow(t.pageY-n.scY,2)<=Math.pow(n.rad*scale,2)){dragging=n,trades.splice(a,1),trades.push(n),canvas.onmousemove=myMove;break}}}function myUp(){var t=sbfc(dragging.scX,dragging.scY);dragging.x=t[0],dragging.y=t[1],dragging=null,canvas.onmousemove=null}function Trade(t,a,n,c,r,e,s){this.text=t,this.x=a,this.y=n,this.scX=c,this.scY=r,this.rad=e,this.color=s}var canvas,ctx,WIDTH,HEIGHT,trades=[],scale=1,dragging=null,rect=function(t,a,n,c){ctx.beginPath();var r=t-n/2,e=a-c/2;ctx.rect(r,e,n*scale,c*scale),ctx.closePath(),ctx.fill()},cir=function(t,a,n){ctx.beginPath(),ctx.arc(t,a,n*scale,0,2*Math.PI,!1),ctx.closePath(),ctx.fill()};init(),canvas.onmousedown=myDown,canvas.onmouseup=myUp,document.getElementById("scaleCanvas").onmousemove=function(){scale=this.value;for(var t=trades.length-1;t>=0;t--){var a=trades[t],n=sfc(a.x,a.y);a.scX=n[0],a.scY=n[1]}},Trade.prototype.draw=function(){ctx.fillStyle=this.color,cir(this.scX,this.scY,this.rad);var t=30*scale;ctx.font=t+"px Arial",ctx.fillStyle="#000000",ctx.textAlign="center",ctx.fillText(this.text,this.scX,this.scY)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbnZhc0NvbnRyb2wuanMiXSwibmFtZXMiOlsiY1giLCJXSURUSCIsImNZIiwiSEVJR0hUIiwic2ZjIiwieCIsInkiLCJhIiwiZCIsIk1hdGgiLCJzcXJ0IiwicG93Iiwic2NhbGUiLCJhbmdsZVkiLCJhdGFuIiwiUEkiLCJhbmdsZVgiLCJuWCIsInNpbiIsIm5ZIiwic2JmYyIsImNlaWwiLCJjbGVhciIsImN0eCIsImNsZWFyUmVjdCIsImluaXQiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwid2lkdGgiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJnZXRDb250ZXh0IiwiaSIsImZsb29yIiwicmFuZG9tIiwicmFkIiwibGV0dGVycyIsInNwbGl0IiwiY29sb3IiLCJqIiwidHJhZGVzIiwicHVzaCIsIlRyYWRlIiwic2V0SW50ZXJ2YWwiLCJkcmF3IiwibGVuZ3RoIiwibXlNb3ZlIiwiZSIsImRyYWdnaW5nIiwic2NYIiwicGFnZVgiLCJzY1kiLCJwYWdlWSIsIm15RG93biIsInRyYWRlIiwic3BsaWNlIiwib25tb3VzZW1vdmUiLCJteVVwIiwicCIsInRleHQiLCJ0aGlzIiwicmVjdCIsImwiLCJ0IiwidyIsImgiLCJiZWdpblBhdGgiLCJjbG9zZVBhdGgiLCJmaWxsIiwiY2lyIiwiYXJjIiwib25tb3VzZWRvd24iLCJvbm1vdXNldXAiLCJ2YWx1ZSIsInByb3RvdHlwZSIsImZpbGxTdHlsZSIsImZvbnRTaXplIiwiZm9udCIsInRleHRBbGlnbiIsImZpbGxUZXh0Il0sIm1hcHBpbmdzIjoiQUFRQSxRQUFBQSxNQUNBLE1BQUFDLE9BQUEsRUFHQSxRQUFBQyxNQUNBLE1BQUFDLFFBQUEsRUFHQSxRQUFBQyxLQUFBQyxFQUFBQyxHQUNBLEdBQUFDLElBQUFELEVBQUFKLE9BQUFHLEVBQUFMLE1BQ0FRLEVBQUFDLEtBQUFDLEtBQUFELEtBQUFFLElBQUFOLEVBQUFMLEtBQUEsR0FBQVMsS0FB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QW9ELEVBQUFuRCxFQUNBbUQsR0FBQUwsSUFBQVMsRUFBQSxHQUNBSixFQUFBSCxJQUFBTyxFQUFBLEtBY0FoQixNQUFBZ0MsVUFBQTlCLEtBQUEsV0FDQXhCLElBQUF1RCxVQUFBZixLQUFBdEIsTUFDQStCLElBQUFULEtBQUFYLElBQUFXLEtBQUFULElBQUFTLEtBQUF6QixJQUNBLElBQUF5QyxHQUFBLEdBQUFuRSxLQUNBVyxLQUFBeUQsS0FBQUQsRUFBQSxXQUNBeEQsSUFBQXVELFVBQUEsVUFDQXZELElBQUEwRCxVQUFBLFNBQ0ExRCxJQUFBMkQsU0FBQW5CLEtBQUFELEtBQUFDLEtBQUFYLElBQUFXLEtBQUFUIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2FudmFzO1xudmFyIGN0eDtcbnZhciBXSURUSDtcbnZhciBIRUlHSFQ7XG52YXIgdHJhZGVzID0gW107XG52YXIgc2NhbGUgPSAxO1xudmFyIGRyYWdnaW5nID0gbnVsbDtcblxuZnVuY3Rpb24gY1goKSB7XG4gICAgcmV0dXJuIChXSURUSCAvIDIpO1xufVxuXG5mdW5jdGlvbiBjWSgpIHtcbiAgICByZXR1cm4gKEhFSUdIVCAvIDIpO1xufVxuXG5mdW5jdGlvbiBzZmMoeCwgeSkge1xuICAgIHZhciBhID0gKHkgLSBjWSgpKS8oeCAtIGNYKCkpO1xuICAgIHZhciBkID0gTWF0aC5zcXJ0KE1hdGgucG93KCh4IC0gY1goKSksIDIpICsgTWF0aC5wb3coKHkgLSBjWSgpKSwgMikpO1xuICAgIGQgPSBkICogc2NhbGU7XG4gICAgdmFyIGFuZ2xlWSA9IChNYXRoLmF0YW4oYSkgLyBNYXRoLlBJKSAqIDE4MDtcbiAgICBpZihhbmdsZVkgPCAwKSB7XG4gICAgICAgIGFuZ2xlWSA9IC1hbmdsZVk7XG4gICAgfVxuICAgIHZhciBhbmdsZVggPSA5MCAtIGFuZ2xlWTtcbiAgICB2YXIgblggPSBkICogTWF0aC5zaW4oKChhbmdsZVggLyAxODApICogTWF0aC5QSSkpO1xuICAgIHZhciBuWSA9IGQgKiBNYXRoLnNpbigoKGFuZ2xlWSAvIDE4MCkgKiBNYXRoLlBJKSk7XG4gICAgaWYoeCA+IGNYKCkpIHtcbiAgICAgICAgblggPSAtblg7XG4gICAgfVxuICAgIGlmKHkgPiBjWSgpKSB7XG4gICAgICAgIG5ZID0gLW5ZO1xuICAgIH1cbiAgICByZXR1cm4gW2NYKCkgLSBuWCwgY1koKSAtIG5ZXTtcbn1cblxuZnVuY3Rpb24gc2JmYyh4LCB5KSB7XG4gICAgdmFyIGEgPSAoeSAtIGNZKCkpLyh4IC0gY1goKSk7XG4gICAgdmFyIGQgPSBNYXRoLnNxcnQoTWF0aC5wb3coKHggLSBjWCgpKSwgMikgKyBNYXRoLnBvdygoeSAtIGNZKCkpLCAyKSk7XG4gICAgZCA9IGQgKiAoMSAvIHNjYWxlKTtcbiAgICB2YXIgYW5nbGVZID0gKE1hdGguYXRhbihhKSAvIE1hdGguUEkpICogMTgwO1xuICAgIGlmKGFuZ2xlWSA8IDApIHtcbiAgICAgICAgYW5nbGVZID0gLWFuZ2xlWTtcbiAgICB9XG4gICAgdmFyIGFuZ2xlWCA9IDkwIC0gYW5nbGVZO1xuICAgIHZhciBuWCA9IE1hdGguY2VpbChkICogTWF0aC5zaW4oKChhbmdsZVggLyAxODApICogTWF0aC5QSSkpKTtcbiAgICB2YXIgblkgPSBNYXRoLmNlaWwoZCAqIE1hdGguc2luKCgoYW5nbGVZIC8gMTgwKSAqIE1hdGguUEkpKSk7XG4gICAgaWYoeCA+IGNYKCkpIHtcbiAgICAgICAgblggPSAtblg7XG4gICAgfVxuICAgIGlmKHkgPiBjWSgpKSB7XG4gICAgICAgIG5ZID0gLW5ZO1xuICAgIH1cbiAgICByZXR1cm4gW2NYKCkgLSBuWCwgY1koKSAtIG5ZXTtcbn1cblxudmFyIHJlY3QgPSBmdW5jdGlvbihsLHQsdyxoKSB7XG4gICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgIHZhciB4ID0gbCAtICh3LzIpO1xuICAgIHZhciB5ID0gdCAtIChoLzIpO1xuICAgIGN0eC5yZWN0KHgsIHksIHcgKiBzY2FsZSwgaCAqIHNjYWxlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbn07XG5cbnZhciBjaXIgPSBmdW5jdGlvbih4LCB5LCByYWQpIHtcbiAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgY3R4LmFyYyh4LCB5LCByYWQgKiBzY2FsZSwgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgY3R4LmZpbGwoKTtcbn07XG5cbmZ1bmN0aW9uIGNsZWFyKCkge1xuICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgV0lEVEgsIEhFSUdIVCk7XG59XG5cbmZ1bmN0aW9uIGluaXQoKSB7XG4gICAgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIik7XG4gICAgY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBXSURUSCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIEhFSUdIVCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXG4gICAgZm9yKHZhciBpID0gMDsgaSA8IDIwOyBpKyspIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBXSURUSCk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogSEVJR0hUKTtcbiAgICAgICAgdmFyIHJhZCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAxMDApICsgMjApO1xuICAgICAgICB2YXIgbGV0dGVycyA9ICcwMTIzNDU2Nzg5QUJDREVGJy5zcGxpdCgnJyk7XG4gICAgICAgIHZhciBjb2xvciA9ICcjJztcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA2OyBqKysgKSB7XG4gICAgICAgICAgICBjb2xvciArPSBsZXR0ZXJzW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDE2KV07XG4gICAgICAgIH1cbiAgICAgICAgdHJhZGVzLnB1c2gobmV3IFRyYWRlKGksIHgsIHksIHgsIHksIHJhZCwgY29sb3IpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2V0SW50ZXJ2YWwoZHJhdywgMTApO1xufVxuXG5mdW5jdGlvbiBkcmF3KCkge1xuICAgIGNsZWFyKCk7XG5cbiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdHJhZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHRyYWRlc1tpXS5kcmF3KCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBteU1vdmUoZSkge1xuICAgIGlmIChkcmFnZ2luZyAhPT0gbnVsbCkge1xuICAgICAgICBkcmFnZ2luZy5zY1ggPSBlLnBhZ2VYO1xuICAgICAgICBkcmFnZ2luZy5zY1kgPSBlLnBhZ2VZO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gbXlEb3duKGUpIHtcbiAgICBmb3IodmFyIGkgPSB0cmFkZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHRyYWRlID0gdHJhZGVzW2ldO1xuICAgICAgICBpZigoTWF0aC5wb3coKGUucGFnZVggLSB0cmFkZS5zY1gpLCAyKSArIE1hdGgucG93KChlLnBhZ2VZIC0gdHJhZGUuc2NZKSwgMikpIDw9IE1hdGgucG93KCh0cmFkZS5yYWQgKiBzY2FsZSksIDIpKSB7XG4gICAgICAgICAgICBkcmFnZ2luZyA9IHRyYWRlO1xuICAgICAgICAgICAgdHJhZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHRyYWRlcy5wdXNoKHRyYWRlKTtcbiAgICAgICAgICAgIGNhbnZhcy5vbm1vdXNlbW92ZSA9IG15TW92ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBteVVwKCkge1xuICAgIHZhciBwID0gc2JmYyhkcmFnZ2luZy5zY1gsIGRyYWdnaW5nLnNjWSk7XG4gICAgZHJhZ2dpbmcueCA9IHBbMF07XG4gICAgZHJhZ2dpbmcueSA9IHBbMV07XG4gICAgZHJhZ2dpbmcgPSBudWxsO1xuICAgIGNhbnZhcy5vbm1vdXNlbW92ZSA9IG51bGw7XG59XG5cbmluaXQoKTtcbmNhbnZhcy5vbm1vdXNlZG93biA9IG15RG93bjtcbmNhbnZhcy5vbm1vdXNldXAgPSBteVVwO1xuXG5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlQ2FudmFzXCIpLm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgc2NhbGUgPSB0aGlzLnZhbHVlO1xuICAgIGZvcih2YXIgaSA9IHRyYWRlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgdHJhZGUgPSB0cmFkZXNbaV07XG4gICAgICAgIHZhciBwID0gc2ZjKHRyYWRlLngsIHRyYWRlLnkpO1xuICAgICAgICB0cmFkZS5zY1ggPSBwWzBdO1xuICAgICAgICB0cmFkZS5zY1kgPSBwWzFdO1xuICAgIH1cbn07XG5cbmZ1bmN0aW9uIFRyYWRlKHRleHQsIHgsIHksIHNjWCwgc2NZLCByYWQsIGNvbG9yKSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG4gICAgdGhpcy5zY1ggPSBzY1g7XG4gICAgdGhpcy5zY1kgPSBzY1k7XG4gICAgdGhpcy5yYWQgPSByYWQ7XG4gICAgdGhpcy5jb2xvciA9IGNvbG9yO1xufVxuXG5UcmFkZS5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgIGNpcih0aGlzLnNjWCwgdGhpcy5zY1ksIHRoaXMucmFkKTtcbiAgICB2YXIgZm9udFNpemUgPSAzMCAqIHNjYWxlO1xuICAgIGN0eC5mb250ID0gZm9udFNpemUgKyBcInB4IEFyaWFsXCI7XG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiIzAwMDAwMFwiO1xuICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xuICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuc2NYLCB0aGlzLnNjWSk7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
