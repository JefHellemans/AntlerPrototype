function Trader(e,t,r,a,o){this.name=e,this.amount=t,this.inAt=r,this.comment=o,this.type=a,this.difference=0,this.drawable=new Drawable,this.drawable.color="#ffffff",this.drawable.borderColor="#B3B369",this.drawable.borderWidth=2,this.drawable.borderScaling=!1,this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(0,1),this.drawable.textBackground="#ffffff",this.drawable.textPadding=new Vector2D(0,0),this.drawable.textScaling=!1,this.drawable.textPos=new Vector2D(1,-1),this.drawable.textColor="#2C3E50",this.drawable.pos=new Vector2D(0,0),this.drawable.radius=25,this.drawable.show=!1,this["new"]=!0,this.open=!1,this.changeStockPrice=function(e){var a="[b]"+this.name+"[/b][align=right][color=",o=Math.floor((e-this.inAt)*this.amount*100)/100,i="#36B5DB",n="#E74C3C";0===this.type?this.difference=o:this.difference=-o,a+=this.difference>=0?i+"]":n+"]",a+=this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/align]\n[i][color=",a+=0===this.type?i+"]":n+"]",a+=t,a+=0===this.type?" long at ":" short at ",a+=r.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/i]\n",this.drawable.setText(a+this.comment)},this.draw=function(e,t){if(this.drawable.show){var r=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(r.x,r.y),this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),e.restore()}},this.postDraw=function(e,t){if(this.drawable.show){var r=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(r.x,r.y),this.drawable.drawText(e,t),e.restore()}},this.clicked=function(){var e=this;this.open?(this.drawable.animate("textSize",0,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),200,"easeInOut",function(t,r){t&&(e.open=!1)})):(this.drawable.animate("textSize",12,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(10,10),200,"easeInOut",function(t,r){t&&(e.open=!0)}))},this["delete"]=function(e,t){var r=0;"undefined"!=typeof t&&(r=t);for(var a=e.length;a>r;r++)if("undefined"!=typeof e[r].traders){var o=e[r].traders.indexOf(this);if(o>-1){e[r].traders.splice(o,1),e[r].calcTraders(),0===e[r].traders.length&&e[r].animateDelete(e,r);break}}},this.interaction=function(e,t){var r=e.subVector(this.drawable.pos.rotate(this.drawable.rotation).mul(t)),a=0;return 0!==this.drawable.radius&&(a=this.drawable.radius*t),0!==this.drawable.size.length()&&(a=this.drawable.size.length()*t),r.length()<=a&&this.drawable.show?(this["new"]&&(this["new"]=!1,this.drawable.borderColor="#eeeeee"),this):!1}}var Trade=function(e,r,a){this.stockPrice=e,this.traders=r,this.drawable=new Drawable,this.difference=0;for(var o=0,i=this.traders.length;i>o;o++)this.traders[o].changeStockPrice(this.stockPrice),this.difference+=this.traders[o].difference;if(this.difference=Math.floor(100*this.difference)/100,this.drawable.setText(this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),this.difference>=0?(this.drawable.textBackground="#36B5DB",this.drawable.textReplaceColor="#36B5DB"):(this.drawable.textBackground="#E74C3C",this.drawable.textReplaceColor="#E74C3C"),this.lineColor="#B3B369",this.open=!1,this.drawable.textSize=10,this.drawable.radius=Math.floor(35*Math.random()+35),this.drawable.imgFill=!1,null===a){for(var n=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);new Vector2D(n,s).length()<100+this.drawable.radius||new Vector2D(n,s).length()>new Vector2D(window.innerWidth,window.innerHeight-50).div(2).length()-this.drawable.radius;)n=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);this.drawable.animateVector("pos",new Vector2D(n,s),1e3,"easeInOut",null)}else this.drawable.animateVector("pos",a,1e3,"easeInOut",null);this.drawable.color="#ffffff",this.drawable.borderWidth=2,this.drawable.borderColor="#B3B369",this.drawable.borderScaling=!1,this.drawable.textColor="#ffffff",this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(.5,.5),this.drawable.textPos=new Vector2D(0,.5),this.drawable.textPadding=new Vector2D(10,10),this.drawable.textReplace=15;var l=this;setInterval(function(){var e=Math.random()/10,t=Math.floor(2*Math.random());1===t&&(e=-e),l.stockPrice=Math.floor(100*(l.stockPrice+e))/100,l.difference=0;for(var r=0,a=l.traders.length;a>r;r++)l.traders[r].changeStockPrice(l.stockPrice),l.difference+=l.traders[r].difference;l.difference=Math.floor(100*l.difference)/100,l.open?(l.difference>=0?l.drawable.textReplaceColor="#36B5DB":l.drawable.textReplaceColor="#E74C3C",l.drawable.textBackground="#2C3E50",l.drawable.setText(l.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"}))):(l.drawable.setText(l.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),l.difference>=0?(l.drawable.textBackground="#36B5DB",l.drawable.textReplaceColor="#36B5DB"):(l.drawable.textBackground="#E74C3C",l.drawable.textReplaceColor="#E74C3C")),l.drawable.requestRedraw=!0},2e3),this.interaction=function(e,r){var a=e.subVector(this.drawable.pos.mul(r)),o=0;if(0!==this.drawable.radius&&(o=this.drawable.radius*r),0!==this.drawable.size.length()&&(o=this.drawable.size.length()*r),a.length()<=o)return this;for(var i=e.subVector(this.drawable.pos.mul(r)),n=0,s=this.traders.length;s>n;n++){var l=this.traders[n].interaction(i,r);if(l!==!1){for(var d=0,c=this.traders.length;c>d;d++)t=this.traders[d],t.open&&t.clicked();return l}}return!1},this.calcTraders=function(){for(var e=180/(this.traders.length+1),t=0,r=this.traders.length;r>t;t++){var a=e*(t+1-(this.traders.length+1)/2)-90;this.traders[t].drawable.animate("rotation",a,300,"easeInOut",null)}},this.calcTraders(),this.preDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.strokeStyle=this.lineColor,e.lineWidth=.5;for(var r=!1,a=0,o=this.traders.length;o>a;a++)this.traders[a]["new"]&&(r=!0);r?this.lineColor="#B3B369":this.lineColor="#2C3E50",e.beginPath(),e.moveTo(0,0),e.lineTo(this.drawable.pos.x,this.drawable.pos.y),e.closePath(),e.stroke(),e.restore()}},this.draw=function(e,t){if(this.drawable.show){e.save(),e.translate(this.drawable.pos.x,this.drawable.pos.y),e.globalAlpha*=this.drawable.opacity;for(var r=!1,a=0,o=this.traders.length;o>a;a++)this.traders[a].draw(e,t),this.traders[a]["new"]&&(r=!0);r?this.drawable.borderColor="#B3B369":this.drawable.borderColor="#eeeeee",this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),this.drawable.drawText(e,t),e.restore()}},this["delete"]=function(e){for(var t=e.indexOf(this),r=0,a=this.traders.length;a>r;r++)this.traders[0]["delete"](e,t)},this.animateDelete=function(e,t){this.drawable.animate("textSize",0,300,"easeInOut",null),this.drawable.animate("textReplace",0,300,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),300,"easeInOut",null),this.drawable.animate("opacity",0,300,"easeInOut",null),this.drawable.animate("radius",0,300,"easeInOut",function(){e.splice(t,1)})},this.postDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(this.drawable.pos.x,this.drawable.pos.y);for(var r=0,a=this.traders.length;a>r;r++)this.traders[r].postDraw(e,t);e.restore()}},this.clicked=function(){var e=0,t=0,r=null,a=this;if(this.open){var o=function(e,t){t.show=!1};for(t=this.traders.length;t>e;e++)r=this.traders[e],r.open&&r.clicked(),r.drawable.animateVector("pos",new Vector2D(0,0),300,"easeInOut",o);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.setText(a.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),a.difference>=0?t.textBackground="#36B5DB":t.textBackground="#E74C3C",a.open=!1,t.animate("textSize",10,150,"easeOut",null)})}else{for(t=this.traders.length;t>e;e++)r=this.traders[e],r.drawable.show=!0,r.drawable.animateVector("pos",new Vector2D(0,this.drawable.radius+r.drawable.radius+15),300,"easeInOut",null);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.textBackground="#2C3E50",t.setText(a.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),a.open=!0,t.animate("textSize",10,150,"easeOut",null)})}},this.requestRedraw=function(){for(var e=0,t=this.traders.length;t>e;e++)this.traders[e].drawable.requestRedraw&&(this.drawable.requestRedraw=!0,this.traders[e].drawable.requestRedraw=!1);return this.drawable.requestRedraw?(this.drawable.requestRedraw=!1,!0):!1}},trades=[],traders=[],profile=new Drawable,trash=new Drawable,logos=["logo0.svg","logo1.svg","logo2.svg","logo3.svg","logo4.svg"],people=[["Crazy Heffe","trader0.jpg"],["Marino Hostino","trader1.jpg"],["Nicolsh Lavanda","trader2.jpg"],["xXrobke69Xx","trader3.jpg"]];!function(){profile.setImage("dist/images/profiles/profile.jpg"),profile.radius=100,profile.color="#ffffff",profile.borderColor="#eeeeee",profile.borderScaling=!1,profile.borderWidth=2,profile.textSize=12,profile.textColor="#ffffff",profile.textFont="SourceSansPro",profile.textAnchor=new Vector2D(.5,.5),profile.textPos=new Vector2D(0,.5),profile.textPadding=new Vector2D(10,10),profile.textReplace=15,trash.setImage("dist/images/misc/trash.svg"),trash.radius=50,trash.color="#eeeeee",trash.borderColor="#eeeeee",trash.borderScaling=!1,trash.borderWidth=2,trash.pos=new Vector2D(window.innerWidth-100,window.innerHeight-150);for(var e=0;4>e;e++){var t=Math.floor(50*Math.random()),r=Math.floor(2e4*Math.random())/100,a=Math.floor(2*Math.random()),o=[t,r,a];traders.push(o)}for(var i=0,n=0;5>n;n++){for(var s=Math.ceil(4*Math.random()),l=[],d=Math.floor(200*Math.random()*100)/100,c=0;s>c;c++){var h=new Trader(people[c][0],traders[c][0],traders[c][1],traders[c][2],"This looks good!\nI can even put a second line\n\nAnd even more");h.drawable.setImage("dist/images/profiles/"+people[c][1],function(){w.draw()}),h.percentage=.4*Math.random()+.1,l.push(h)}var f=new Trade(d,l,null);i+=f.difference,f.drawable.setImage("dist/images/logos/"+logos[n],function(){w.draw()}),trades.push(f)}trades.push(profile),trades.push(trash),i>=0?(profile.textBackground="#36B5DB",profile.textReplaceColor="#36B5DB"):(profile.textBackground="#E74C3C",profile.textReplaceColor="#E74C3C"),profile.setText((Math.floor(100*i)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}));var w=new Canvas(0,50,window.innerWidth,window.innerHeight-50,"trades",trades);w.drawCallback=function(){for(var e=0,t=0,r=w.objects.length;r>t;t++)"undefined"!=typeof w.objects[t].difference&&(e+=w.objects[t].difference);e>=0?(profile.textBackground="#36B5DB",profile.textReplaceColor="#36B5DB"):(profile.textBackground="#E74C3C",profile.textReplaceColor="#E74C3C"),profile.setText((Math.floor(100*e)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}))},profile.draw=function(e,t){this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),this.drawText(e,t)},trash.interaction=function(e){var t=e.subVector(w.margin).subVector(this.pos),r=this.radius*w.scale;return t.length()<=r&&this.show},trash.draw=function(e,t){var r=this.pos.subVector(w.offset).subVector(w.center).mul(1/w.scale);e.save(),e.translate(r.x,r.y),this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),e.restore()},w.draw(),document.getElementById("trades").addEventListener("mousedown",function(e){u(e)}),document.getElementById("trades").addEventListener("touchstart",function(e){var t=e.touches[0];u(t)});var u=function(e){w.interactionStart(e,function(e,t){var r;e instanceof Trade&&(r=w.objects.indexOf(e),w.objects.push(w.objects.splice(r,1)[0])),e instanceof Trader&&(e.drawable.returnPos=e.drawable.pos),"self"===e&&(r=w.objects.indexOf(trash),w.objects.splice(r,1),w.objects.push(trash),w.draw()),w.selected=e,w.mousePos=t})};document.getElementById("trades").addEventListener("mousemove",function(e){b(e)}),document.getElementById("trades").addEventListener("touchmove",function(e){var t=e.touches[0];b(t)});var b=function(e){w.interactionMove(e,function(t,r,a){t instanceof Trade&&(t.drawable.opacity=.5,t.drawable.pos=r),t instanceof Trader&&(t.drawable.opacity=.5,t.drawable.pos=t.drawable.pos.addVector(a.rotate(-t.drawable.rotation).mul(1/w.scale))),trash.interaction(new Vector2D(e.pageX,e.pageY))?trash.color="#E74C3C":trash.color="#eeeeee",w.draw()})};document.getElementById("trades").addEventListener("mouseup",function(e){p(e)}),document.getElementById("trades").addEventListener("touchend",function(e){var t=e.touches[0];p(t)}),document.body.addEventListener("touchstart",function(e){e.preventDefault()});var p=function(e){w.interactionStop(function(t,r){var a,o;if(t){if(r instanceof Trade)for(r.drawable.opacity=1,a=0,o=w.objects.length;o>a;a++)w.objects[a].open&&w.objects[a]!==r&&w.objects[a].clicked();if(r instanceof Trader&&(r.drawable.opacity=1),"self"===r)for(a=0,o=w.objects.length;o>a;a++)w.objects[a].open&&w.objects[a].clicked();"function"==typeof r.clicked&&r.clicked()}else r instanceof Trade&&(r.drawable.opacity=1,trash.interaction(new Vector2D(e.pageX,e.pageY))&&r["delete"](w.objects)),r instanceof Trader&&(r.drawable.opacity=1,r.drawable.returnPos.length()!==r.drawable.pos.length()&&r.drawable.returnPos.x!==r.drawable.pos.x&&r.drawable.animateVector("pos",r.drawable.returnPos,500,"easeInOut",null),trash.interaction(new Vector2D(e.pageX,e.pageY))&&r["delete"](w.objects));trash.color="#eeeeee"}),w.draw()};document.getElementById("trades").addEventListener("wheel",function(e){m(e)}),document.getElementById("trades").addEventListener("DOMMouseScroll",function(e){m(e)});var m=function(e){e.preventDefault();var t=0;t="undefined"!=typeof e.wheelDelta?e.wheelDelta/300:-e.detail/50;var r=w.scale+t;r>1.8&&(r=1.8),.4>r&&(r=.4),r=Math.floor(100*r)/100,w.scale=r,trash.radius=50/w.scale,document.getElementById("scaleCanvas").value=w.scale,w.draw()};document.getElementById("scaleCanvas").addEventListener("mousemove",function(){w.scale=parseFloat(this.value),trash.radius=50/w.scale,w.draw()}),document.getElementById("resetOffset").addEventListener("click",function(){w.moveToCenter()})}(),function(){"use strict";var e=angular.module("app",["ngRoute"]);e.config(function(e){e.when("/home",{templateUrl:"pages/home.html",controller:"mainController"}).when("/profile/:id",{templateUrl:"pages/profile.html",controller:"profileController"}).when("/balanceHistory/:id",{templateUrl:"pages/balanceHistory.html",controller:"balanceController"}).when("/deposit/:id",{templateUrl:"pages/deposit.html",controller:"balanceController"}).when("/withdraw/:id",{templateUrl:"pages/withdraw.html",controller:"balanceController"}).otherwise({redirectTo:"/home"})})}(),function(){"use strict";var e=function(e,t,r){e.user={},e.user.userId="1",e.user.firstName="Marijn",e.user.lastName="Hosten",e.user.depositAmount=0,e.user.currentAmount=2e3,e.deposit=function(t){e.user.currentAmount+=t.depositAmount,r.location.hash="/home"},e.isEnabled=function(){return 0===e.user.depositAmount||"undefined"==typeof e.user.depositAmount?!0:!1}};angular.module("app").controller("balanceController",["$scope","$routeParams","$window",e])}(),function(){"use strict";var e=function(e){e.user={},e.user.userId="1",e.user.firstName="Marijn",e.user.lastName="Hosten",e.user.currentAmount=2e3;var t={id:9,firstName:"Anna",lastName:"Abcd",followers:27},r={id:2,firstName:"Bob",lastName:"Abcd",followers:28},a={id:3,firstName:"Christine",lastName:"Abcd",followers:105},o={id:4,firstName:"Dave",lastName:"Abcd",followers:30},i={id:5,firstName:"Eric",lastName:"Abcd",followers:2},n={id:6,firstName:"Francis",lastName:"Abcd",followers:0},s={id:7,firstName:"Gaben",lastName:"Abcd",followers:299},l={id:8,firstName:"Harold",lastName:"Abcd",followers:4};e.traders=[t,r,a,o,i,n,s,l]};angular.module("app").controller("mainController",["$scope",e])}(),function(){"use strict";var e=function(e,t,r,a){var o=t.id;e.user=a.getById(o),e.isEnabled=function(){return!1},e.submitForm=function(e){alert("changes saved"),r.location.hash="/home"}};angular.module("app").controller("profileController",["$scope","$routeParams","$window","userService",e])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWRlci5qcyIsInRyYWRlLmpzIiwidHJhZGVDYW52YXMuanMiLCJhcHAuanMiLCJiYWxhbmNlQ29udHJvbGxlci5qcyIsIm1haW5Db250cm9sbGVyLmpzIiwicHJvZmlsZUNvbnRyb2xsZXIuanMiXSwibmFtZXMiOlsiVHJhZGVyIiwibmFtZSIsImFtb3VudCIsImluQXQiLCJ0eXBlIiwiY29tbWVudCIsInRoaXMiLCJkaWZmZXJlbmNlIiwiZHJhd2FibGUiLCJEcmF3YWJsZSIsImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclNjYWxpbmciLCJ0ZXh0Rm9udCIsInRleHRBbmNob3IiLCJWZWN0b3IyRCIsInRleHRCYWNrZ3JvdW5kIiwidGV4dFBhZGRpbmciLCJ0ZXh0U2NhbGluZyIsInRleHRQb3MiLCJ0ZXh0Q29sb3IiLCJwb3MiLCJyYWRpdXMiLCJzaG93Iiwib3BlbiIsImNoYW5nZVN0b2NrUHJpY2UiLCJzdG9ja1ByaWNlIiwicHJlc2V0IiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsIm5lZyIsInRvTG9jYWxlU3RyaW5nIiwic3R5bGUiLCJjdXJyZW5jeSIsInNldFRleHQiLCJkcmF3IiwiY3R4Iiwic2NhbGUiLCJwIiwicm90YXRlIiwicm90YXRpb24iLCJzYXZlIiwiZ2xvYmFsQWxwaGEiLCJvcGFjaXR5IiwidHJhbnNsYXRlIiwieCIsInkiLCJkcmF3Q2lyY2xlIiwiZHJhd0ltYWdlSW5DaXJjbGUiLCJkcmF3Qm9yZGVyRm9yQ2lyY2xlIiwicmVzdG9yZSIsInBvc3REcmF3IiwiZHJhd1RleHQiLCJjbGlja2VkIiwibWUiLCJhbmltYXRlIiwiYW5pbWF0ZVZlY3RvciIsImZpbmlzaGVkIiwiZWxlbWVudCIsInRyYWRlcyIsImluZGV4IiwiaSIsImwiLCJsZW5ndGgiLCJ0cmFkZXJzIiwiaW5kIiwiaW5kZXhPZiIsInNwbGljZSIsImNhbGNUcmFkZXJzIiwiYW5pbWF0ZURlbGV0ZSIsImludGVyYWN0aW9uIiwibW91c2VQb3MiLCJtb3VzZURpZmZlcmVuY2UiLCJzdWJWZWN0b3IiLCJtdWwiLCJzaXplIiwiVHJhZGUiLCJ0ZXh0UmVwbGFjZUNvbG9yIiwibGluZUNvbG9yIiwidGV4dFNpemUiLCJyYW5kb20iLCJpbWdGaWxsIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZGl2IiwidGV4dFJlcGxhY2UiLCJzZXRJbnRlcnZhbCIsImQiLCJwT20iLCJyZXF1ZXN0UmVkcmF3IiwicmVsUG9zIiwibyIsImoiLCJtIiwidCIsImFuZ2xlIiwiYWxwaGEiLCJwcmVEcmF3Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJuZXdUcmFkZXIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJmIiwiZG9uZSIsInByb2ZpbGUiLCJ0cmFzaCIsImxvZ29zIiwicGVvcGxlIiwic2V0SW1hZ2UiLCJ0cmFkZXIiLCJwdXNoIiwiciIsImNlaWwiLCJwcGwiLCJrIiwiY2FudmFzIiwicGVyY2VudGFnZSIsInRyYWRlIiwiQ2FudmFzIiwiZHJhd0NhbGxiYWNrIiwib2JqZWN0cyIsIm1hcmdpbiIsIm9mZnNldCIsImNlbnRlciIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImludGVyYWN0aW9uU3RhcnQiLCJ0b3VjaCIsInRvdWNoZXMiLCJvYmplY3QiLCJyZXR1cm5Qb3MiLCJzZWxlY3RlZCIsImludGVyYWN0aW9uTW92ZSIsImFkZFZlY3RvciIsInBhZ2VYIiwicGFnZVkiLCJpbnRlcmFjdGlvblN0b3AiLCJib2R5IiwicHJldmVudERlZmF1bHQiLCJjbGljayIsInNjcm9sbEludGVyYWN0aW9uIiwiZGVsdGEiLCJ3aGVlbERlbHRhIiwiZGV0YWlsIiwidmFsdWUiLCJwYXJzZUZsb2F0IiwibW92ZVRvQ2VudGVyIiwiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiY29udHJvbGxlciIsIm90aGVyd2lzZSIsInJlZGlyZWN0VG8iLCJiYWxhbmNlQ29udHJvbGxlciIsIiRzY29wZSIsIiRyb3V0ZVBhcmFtcyIsIiR3aW5kb3ciLCJ1c2VyIiwidXNlcklkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJkZXBvc2l0QW1vdW50IiwiY3VycmVudEFtb3VudCIsImRlcG9zaXQiLCJsb2NhdGlvbiIsImhhc2giLCJpc0VuYWJsZWQiLCJtYWluQ29udHJvbGxlciIsIkFubmEiLCJpZCIsImZvbGxvd2VycyIsIkJvYiIsIkNocmlzdGluZSIsIkRhdmUiLCJFcmljIiwiRnJhbmNpcyIsIkdhYmVuIiwiSGFyb2xkIiwicHJvZmlsZUNvbnRyb2xsZXIiLCJ1c2VyU2VydmljZSIsImdldEJ5SWQiLCJzdWJtaXRGb3JtIiwiYWxlcnQiXSwibWFwcGluZ3MiOiJBQUFBLFFBQUFBLFFBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0FDLEtBQUFMLEtBQUFBLEVBQ0FLLEtBQUFKLE9BQUFBLEVBQ0FJLEtBQUFILEtBQUFBLEVBQ0FHLEtBQUFELFFBQUFBLEVBQ0FDLEtBQUFGLEtBQUFBLEVBQ0FFLEtBQUFDLFdBQUEsRUFDQUQsS0FBQUUsU0FBQSxHQUFBQyxVQUVBSCxLQUFBRSxTQUFBRSxNQUFBLFVBRUFKLEtBQUFFLFNBQUFHLFlBQUEsVUFDQUwsS0FBQUUsU0FBQUksWUFBQSxFQUNBTixLQUFBRSxTQUFBSyxlQUFBLEVBQ0FQLEtBQUFFLFNBQUFNLFNBQUEsZ0JBQ0FSLEtBQUFFLFNBQUFPLFdBQUEsR0FBQUMsVUFBQSxFQUFBLEdBQ0FWLEtBQUFFLFNBQUFTLGVBQUEsVUFDQVgsS0FBQUUsU0FBQVUsWUFBQSxHQUFBRixVQUFBLEVBQUEsR0FDQVYsS0FBQUUsU0FBQVcsYUFBQSxFQUNBYixLQUFBRSxTQUFBWSxRQUFBLEdBQUFKLFVBQUEsRUFBQSxJQUNBVixLQUFBRSxTQUFBYSxVQUFBLFVBRUFmLEtBQUFFLFNBQUFjLElBQUEsR0FBQU4sVUFB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QWYsR0FBQUcsS0FBQXNCLEVBQUFDLFFBQUF0QixHQVdBSixFQUFBWSxVQUFBLFdBQ0EsT0FBQSxHQUdBWixFQUFBMkIsV0FBQSxTQUFBeEIsR0FDQXlCLE1BQUEsaUJBQ0ExQixFQUFBUSxTQUFBQyxLQUFBLFNBSUFyQixTQUFBQyxPQUFBLE9BQUFLLFdBQUEscUJBQUEsU0FBQSxlQUFBLFVBQUEsY0FBQTRCIiwiZmlsZSI6ImFwcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBUcmFkZXIobmFtZSwgYW1vdW50LCBpbkF0LCB0eXBlLCBjb21tZW50KSB7XG4gICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB0aGlzLmFtb3VudCA9IGFtb3VudDtcbiAgICB0aGlzLmluQXQgPSBpbkF0O1xuICAgIHRoaXMuY29tbWVudCA9IGNvbW1lbnQ7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICB0aGlzLmRpZmZlcmVuY2UgPSAwO1xuICAgIHRoaXMuZHJhd2FibGUgPSBuZXcgRHJhd2FibGUoKTtcblxuICAgIHRoaXMuZHJhd2FibGUuY29sb3IgPSBcIiNmZmZmZmZcIjtcblxuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyQ29sb3IgPSBcIiNCM0IzNjlcIjtcbiAgICB0aGlzLmRyYXdhYmxlLmJvcmRlcldpZHRoID0gMjtcbiAgICB0aGlzLmRyYXdhYmxlLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRGb250ID0gXCJTb3VyY2VTYW5zUHJvXCI7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0QW5jaG9yID0gbmV3IFZlY3RvcjJEKDAsIDEpO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiNmZmZmZmZcIjtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRQYWRkaW5nID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFNjYWxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRQb3MgPSBuZXcgVmVjdG9yMkQoMSwgLTEpO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dENvbG9yID0gXCIjMkMzRTUwXCI7XG5cbiAgICB0aGlzLmRyYXdhYmxlLnBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcblxuICAgIHRoaXMuZHJhd2FibGUucmFkaXVzID0gMjU7XG5cbiAgICB0aGlzLmRyYXdhYmxlLnNob3cgPSBmYWxzZTtcblxuICAgIHRoaXMubmV3ID0gdHJ1ZTtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcblxuICAgIHRoaXMuY2hhbmdlU3RvY2tQcmljZSA9IGZ1bmN0aW9uKHN0b2NrUHJpY2UpIHtcbiAgICAgICAgdmFyIHByZXNldCA9IFwiW2JdXCIgKyB0aGlzLm5hbWUgKyBcIlsvYl1bYWxpZ249cmlnaHRdW2NvbG9yPVwiO1xuICAgICAgICB2YXIgZGlmZiA9IE1hdGguZmxvb3IoKHN0b2NrUHJpY2UgLSB0aGlzLmluQXQpICogdGhpcy5hbW91bnQgKiAxMDApIC8gMTAwO1xuICAgICAgICB2YXIgcG9zID0gXCIjMzZCNURCXCI7XG4gICAgICAgIHZhciBuZWcgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRpZmZlcmVuY2UgPSBkaWZmO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kaWZmZXJlbmNlID0gLWRpZmY7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgIHByZXNldCArPSBwb3MgKyBcIl1cIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXNldCArPSBuZWcgKyBcIl1cIjtcbiAgICAgICAgfVxuICAgICAgICBwcmVzZXQgKz0gdGhpcy5kaWZmZXJlbmNlLnRvTG9jYWxlU3RyaW5nKCdiZS1OTCcsIHtzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkgKyBcIlsvY29sb3JdWy9hbGlnbl1cXG5baV1bY29sb3I9XCI7XG4gICAgICAgIGlmKHRoaXMudHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgcHJlc2V0ICs9IHBvcyArIFwiXVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlc2V0ICs9IG5lZyArIFwiXVwiO1xuICAgICAgICB9XG4gICAgICAgIHByZXNldCArPSBhbW91bnQ7XG4gICAgICAgIGlmKHRoaXMudHlwZSA9PT0gMCkge1xuICAgICAgICAgICAgcHJlc2V0ICs9IFwiIGxvbmcgYXQgXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gXCIgc2hvcnQgYXQgXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJlc2V0ICs9IGluQXQudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSArIFwiWy9jb2xvcl1bL2ldXFxuXCI7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuc2V0VGV4dChwcmVzZXQgKyB0aGlzLmNvbW1lbnQpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUuc2hvdykge1xuICAgICAgICAgICAgdmFyIHAgPSB0aGlzLmRyYXdhYmxlLnBvcy5yb3RhdGUodGhpcy5kcmF3YWJsZS5yb3RhdGlvbik7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocC54LCBwLnkpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3Q2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdCb3JkZXJGb3JDaXJjbGUoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucG9zdERyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUuc2hvdykge1xuICAgICAgICAgICAgdmFyIHAgPSB0aGlzLmRyYXdhYmxlLnBvcy5yb3RhdGUodGhpcy5kcmF3YWJsZS5yb3RhdGlvbik7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIGN0eC50cmFuc2xhdGUocC54LCBwLnkpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3VGV4dChjdHgsIHNjYWxlKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5jbGlja2VkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIGlmKCF0aGlzLm9wZW4pIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDEyLCAyMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwidGV4dFBhZGRpbmdcIiwgbmV3IFZlY3RvcjJEKDEwLCAxMCksIDIwMCwgXCJlYXNlSW5PdXRcIiwgZnVuY3Rpb24oZmluaXNoZWQsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZihmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZS5vcGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDAsIDIwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMCwgMCksIDIwMCwgXCJlYXNlSW5PdXRcIiwgZnVuY3Rpb24oZmluaXNoZWQsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZihmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICBtZS5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbih0cmFkZXMsIGluZGV4KSB7XG4gICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgaWYodHlwZW9mIGluZGV4ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgaSA9IGluZGV4O1xuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgbCA9IHRyYWRlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0cmFkZXNbaV0udHJhZGVycyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kID0gdHJhZGVzW2ldLnRyYWRlcnMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhZGVzW2ldLnRyYWRlcnMuc3BsaWNlKGluZCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIHRyYWRlc1tpXS5jYWxjVHJhZGVycygpO1xuICAgICAgICAgICAgICAgICAgICBpZih0cmFkZXNbaV0udHJhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWRlc1tpXS5hbmltYXRlRGVsZXRlKHRyYWRlcywgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zLCBzY2FsZSkge1xuICAgICAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMuZHJhd2FibGUucG9zLnJvdGF0ZSh0aGlzLmRyYXdhYmxlLnJvdGF0aW9uKS5tdWwoc2NhbGUpKTtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAwO1xuICAgICAgICBpZiAodGhpcy5kcmF3YWJsZS5yYWRpdXMgIT09IDApIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLmRyYXdhYmxlLnJhZGl1cyAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgIT09IDApIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VEaWZmZXJlbmNlLmxlbmd0aCgpIDw9IGRpZmZlcmVuY2UgJiYgdGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICBpZih0aGlzLm5ldykge1xuICAgICAgICAgICAgICAgIHRoaXMubmV3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9O1xufSIsInZhciBUcmFkZSA9IGZ1bmN0aW9uKHN0b2NrUHJpY2UsIHRyYWRlcnMsIHBvcykge1xuICAgIHRoaXMuc3RvY2tQcmljZSA9IHN0b2NrUHJpY2U7XG4gICAgdGhpcy50cmFkZXJzID0gdHJhZGVycztcbiAgICB0aGlzLmRyYXdhYmxlID0gbmV3IERyYXdhYmxlKCk7XG5cbiAgICB0aGlzLmRpZmZlcmVuY2UgPSAwO1xuICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMudHJhZGVyc1tpXS5jaGFuZ2VTdG9ja1ByaWNlKHRoaXMuc3RvY2tQcmljZSk7XG4gICAgICAgIHRoaXMuZGlmZmVyZW5jZSArPSB0aGlzLnRyYWRlcnNbaV0uZGlmZmVyZW5jZTtcbiAgICB9XG4gICAgdGhpcy5kaWZmZXJlbmNlID0gTWF0aC5mbG9vcih0aGlzLmRpZmZlcmVuY2UgKiAxMDApIC8gMTAwO1xuICAgIHRoaXMuZHJhd2FibGUuc2V0VGV4dCh0aGlzLmRpZmZlcmVuY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgIGlmKHRoaXMuZGlmZmVyZW5jZSA+PSAwKSB7XG4gICAgICAgIHRoaXMuZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICB9XG4gICAgdGhpcy5saW5lQ29sb3IgPSBcIiNCM0IzNjlcIjtcbiAgICB0aGlzLm9wZW4gPSBmYWxzZTtcblxuICAgIHRoaXMuZHJhd2FibGUudGV4dFNpemUgPSAxMDtcbiAgICB0aGlzLmRyYXdhYmxlLnJhZGl1cyA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAzNSkgKyAzNSk7XG4gICAgdGhpcy5kcmF3YWJsZS5pbWdGaWxsID0gZmFsc2U7XG4gICAgaWYocG9zID09PSBudWxsKSB7XG4gICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogd2luZG93LmlubmVyV2lkdGggLSAod2luZG93LmlubmVyV2lkdGggLyAyKSk7XG4gICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKSAtICgod2luZG93LmlubmVySGVpZ2h0IC0gNTApIC8gMikpO1xuICAgICAgICB3aGlsZShuZXcgVmVjdG9yMkQoeCwgeSkubGVuZ3RoKCkgPCAoMTAwICsgdGhpcy5kcmF3YWJsZS5yYWRpdXMpIHx8IG5ldyBWZWN0b3IyRCh4LCB5KS5sZW5ndGgoKSA+IChuZXcgVmVjdG9yMkQod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKS5kaXYoMikubGVuZ3RoKCkgLSB0aGlzLmRyYXdhYmxlLnJhZGl1cykpIHtcbiAgICAgICAgICAgIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCAtICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpKTtcbiAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAod2luZG93LmlubmVySGVpZ2h0IC0gNTApIC0gKCh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgLyAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG5ldyBWZWN0b3IyRCh4LCB5KSwgMTAwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJwb3NcIiwgcG9zLCAxMDAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICB9XG4gICAgdGhpcy5kcmF3YWJsZS5jb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyV2lkdGggPSAyO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyQ29sb3IgPSBcIiNCM0IzNjlcIjtcbiAgICB0aGlzLmRyYXdhYmxlLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRDb2xvciA9IFwiI2ZmZmZmZlwiO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEZvbnQgPSBcIlNvdXJjZVNhbnNQcm9cIjtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRBbmNob3IgPSBuZXcgVmVjdG9yMkQoMC41LCAwLjUpO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwLjUpO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBhZGRpbmcgPSBuZXcgVmVjdG9yMkQoMTAsIDEwKTtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRSZXBsYWNlID0gMTU7XG5cbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgZCA9IE1hdGgucmFuZG9tKCkgLyAxMDtcbiAgICAgICAgdmFyIHBPbSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICBpZihwT20gPT09IDEpIHtcbiAgICAgICAgICAgIGQgPSAtZDtcbiAgICAgICAgfVxuICAgICAgICBtZS5zdG9ja1ByaWNlID0gTWF0aC5mbG9vcigobWUuc3RvY2tQcmljZSArIGQpICogMTAwKSAvIDEwMDtcbiAgICAgICAgbWUuZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBtZS50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgbWUudHJhZGVyc1tpXS5jaGFuZ2VTdG9ja1ByaWNlKG1lLnN0b2NrUHJpY2UpO1xuICAgICAgICAgICAgbWUuZGlmZmVyZW5jZSArPSBtZS50cmFkZXJzW2ldLmRpZmZlcmVuY2U7XG4gICAgICAgIH1cbiAgICAgICAgbWUuZGlmZmVyZW5jZSA9IE1hdGguZmxvb3IobWUuZGlmZmVyZW5jZSAqIDEwMCkgLyAxMDA7XG4gICAgICAgIGlmKCFtZS5vcGVuKSB7XG4gICAgICAgICAgICBtZS5kcmF3YWJsZS5zZXRUZXh0KG1lLmRpZmZlcmVuY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgICAgICAgICAgaWYobWUuZGlmZmVyZW5jZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbWUuZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjRTc0QzNDXCI7XG4gICAgICAgICAgICAgICAgbWUuZHJhd2FibGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYobWUuZGlmZmVyZW5jZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgbWUuZHJhd2FibGUudGV4dFJlcGxhY2VDb2xvciA9IFwiIzM2QjVEQlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzJDM0U1MFwiO1xuICAgICAgICAgICAgbWUuZHJhd2FibGUuc2V0VGV4dChtZS5zdG9ja1ByaWNlLnRvTG9jYWxlU3RyaW5nKCdiZS1OTCcsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pKTtcbiAgICAgICAgfVxuICAgICAgICBtZS5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3ID0gdHJ1ZTtcbiAgICB9LCAyMDAwKTtcblxuICAgIHRoaXMuaW50ZXJhY3Rpb24gPSBmdW5jdGlvbihtb3VzZVBvcywgc2NhbGUpIHtcbiAgICAgICAgdmFyIG1vdXNlRGlmZmVyZW5jZSA9IG1vdXNlUG9zLnN1YlZlY3Rvcih0aGlzLmRyYXdhYmxlLnBvcy5tdWwoc2NhbGUpKTtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSAwO1xuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnJhZGl1cyAhPT0gMCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuZHJhd2FibGUucmFkaXVzICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaXplLmxlbmd0aCgpICE9PSAwKSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gdGhpcy5kcmF3YWJsZS5zaXplLmxlbmd0aCgpICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1vdXNlRGlmZmVyZW5jZS5sZW5ndGgoKSA8PSBkaWZmZXJlbmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVsUG9zID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMuZHJhd2FibGUucG9zLm11bChzY2FsZSkpO1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIG8gPSB0aGlzLnRyYWRlcnNbaV0uaW50ZXJhY3Rpb24ocmVsUG9zLCBzY2FsZSk7XG4gICAgICAgICAgICBpZihvICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDAsIG0gPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBqIDwgbTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHQgPSB0aGlzLnRyYWRlcnNbal07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0Lm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xpY2tlZCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBvO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5jYWxjVHJhZGVycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYW5nbGUgPSAxODAgLyAodGhpcy50cmFkZXJzLmxlbmd0aCArIDEpO1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIGFscGhhID0gKGFuZ2xlICogKGkgKyAxIC0gKCh0aGlzLnRyYWRlcnMubGVuZ3RoICsgMSkgLyAyKSkpIC0gOTA7XG4gICAgICAgICAgICB0aGlzLnRyYWRlcnNbaV0uZHJhd2FibGUuYW5pbWF0ZShcInJvdGF0aW9uXCIsIGFscGhhLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNhbGNUcmFkZXJzKCk7XG5cbiAgICB0aGlzLnByZURyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUuc2hvdykge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSAqPSB0aGlzLmRyYXdhYmxlLm9wYWNpdHk7XG4gICAgICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmxpbmVDb2xvcjtcbiAgICAgICAgICAgIGN0eC5saW5lV2lkdGggPSAwLjU7XG4gICAgICAgICAgICB2YXIgbmV3VHJhZGVyID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMudHJhZGVyc1tpXS5uZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VHJhZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihuZXdUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxpbmVDb2xvciA9IFwiIzJDM0U1MFwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgY3R4Lm1vdmVUbygwLCAwKTtcbiAgICAgICAgICAgIGN0eC5saW5lVG8odGhpcy5kcmF3YWJsZS5wb3MueCwgdGhpcy5kcmF3YWJsZS5wb3MueSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLmRyYXdhYmxlLnBvcy54LCB0aGlzLmRyYXdhYmxlLnBvcy55KTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSAqPSB0aGlzLmRyYXdhYmxlLm9wYWNpdHk7XG4gICAgICAgICAgICB2YXIgbmV3VHJhZGVyID0gZmFsc2U7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgIHRoaXMudHJhZGVyc1tpXS5kcmF3KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMudHJhZGVyc1tpXS5uZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3VHJhZGVyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihuZXdUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmJvcmRlckNvbG9yID0gXCIjQjNCMzY5XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyQ29sb3IgPSBcIiNlZWVlZWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuZHJhd0NpcmNsZShjdHgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3SW1hZ2VJbkNpcmNsZShjdHgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3Qm9yZGVyRm9yQ2lyY2xlKGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3VGV4dChjdHgsIHNjYWxlKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kZWxldGUgPSBmdW5jdGlvbih0cmFkZXMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdHJhZGVzLmluZGV4T2YodGhpcyk7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnRyYWRlcnNbMF0uZGVsZXRlKHRyYWRlcywgaW5kZXgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuYW5pbWF0ZURlbGV0ZSA9IGZ1bmN0aW9uKHRyYWRlcywgaW5kZXgpIHtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMCwgMzAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMCwgMzAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwidGV4dFBhZGRpbmdcIiwgbmV3IFZlY3RvcjJEKDAsIDApLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJvcGFjaXR5XCIsIDAsIDMwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInJhZGl1c1wiLCAwLCAzMDAsIFwiZWFzZUluT3V0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdHJhZGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLnBvc3REcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnNob3cpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5kcmF3YWJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSh0aGlzLmRyYXdhYmxlLnBvcy54LCB0aGlzLmRyYXdhYmxlLnBvcy55KTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFkZXJzW2ldLnBvc3REcmF3KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsaWNrZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGkgPSAwLCBsID0gMCwgdCA9IG51bGwsIG1lID0gdGhpcztcbiAgICAgICAgaWYoIXRoaXMub3Blbikge1xuICAgICAgICAgICAgZm9yKGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdCA9IHRoaXMudHJhZGVyc1tpXTtcbiAgICAgICAgICAgICAgICB0LmRyYXdhYmxlLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHQuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInBvc1wiLCBuZXcgVmVjdG9yMkQoMCwgdGhpcy5kcmF3YWJsZS5yYWRpdXMgKyB0LmRyYXdhYmxlLnJhZGl1cyArIDE1KSwgMzAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMTAsIDEwKSwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRSZXBsYWNlXCIsIDAsIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMTUsIDE1MCwgXCJlYXNlT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAwLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiMyQzNFNTBcIjtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5zZXRUZXh0KG1lLnN0b2NrUHJpY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgICAgICAgICAgICAgIG1lLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAxMCwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZm9yKGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdCA9IHRoaXMudHJhZGVyc1tpXTtcbiAgICAgICAgICAgICAgICBpZih0Lm9wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdC5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInBvc1wiLCBuZXcgVmVjdG9yMkQoMCwgMCksIDMwMCwgXCJlYXNlSW5PdXRcIiwgZik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMCwgMCksIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwidGV4dFBhZGRpbmdcIiwgbmV3IFZlY3RvcjJEKDEwLCAxMCksIDE1MCwgXCJlYXNlT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0UmVwbGFjZVwiLCAwLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZShcInRleHRSZXBsYWNlXCIsIDE1LCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMCwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLnNldFRleHQobWUuZGlmZmVyZW5jZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgICAgICAgICAgaWYobWUuZGlmZmVyZW5jZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbWUub3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAxMCwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLnJlcXVlc3RSZWRyYXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHRoaXMudHJhZGVyc1tpXS5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRlcnNbaV0uZHJhd2FibGUucmVxdWVzdFJlZHJhdyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUucmVxdWVzdFJlZHJhdykge1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbn07IiwidmFyIHRyYWRlcyA9IFtdO1xudmFyIHRyYWRlcnMgPSBbXTtcbnZhciBwcm9maWxlID0gbmV3IERyYXdhYmxlKCk7XG52YXIgdHJhc2ggPSBuZXcgRHJhd2FibGUoKTtcbnZhciBsb2dvcyA9IFtcImxvZ28wLnN2Z1wiLCBcImxvZ28xLnN2Z1wiLCBcImxvZ28yLnN2Z1wiLCBcImxvZ28zLnN2Z1wiLCBcImxvZ280LnN2Z1wiXTtcbnZhciBwZW9wbGUgPSBbW1wiQ3JhenkgSGVmZmVcIiwgXCJ0cmFkZXIwLmpwZ1wiXSwgW1wiTWFyaW5vIEhvc3Rpbm9cIiwgXCJ0cmFkZXIxLmpwZ1wiXSwgW1wiTmljb2xzaCBMYXZhbmRhXCIsIFwidHJhZGVyMi5qcGdcIl0sIFtcInhYcm9ia2U2OVh4XCIsIFwidHJhZGVyMy5qcGdcIl1dO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgcHJvZmlsZS5zZXRJbWFnZShcImRpc3QvaW1hZ2VzL3Byb2ZpbGVzL3Byb2ZpbGUuanBnXCIpO1xuICAgIHByb2ZpbGUucmFkaXVzID0gMTAwO1xuICAgIHByb2ZpbGUuY29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICBwcm9maWxlLmJvcmRlckNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgcHJvZmlsZS5ib3JkZXJTY2FsaW5nID0gZmFsc2U7XG4gICAgcHJvZmlsZS5ib3JkZXJXaWR0aCA9IDI7XG4gICAgcHJvZmlsZS50ZXh0U2l6ZSA9IDEyO1xuICAgIHByb2ZpbGUudGV4dENvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgcHJvZmlsZS50ZXh0Rm9udCA9IFwiU291cmNlU2Fuc1Byb1wiO1xuICAgIHByb2ZpbGUudGV4dEFuY2hvciA9IG5ldyBWZWN0b3IyRCgwLjUsIDAuNSk7XG4gICAgcHJvZmlsZS50ZXh0UG9zID0gbmV3IFZlY3RvcjJEKDAsIDAuNSk7XG4gICAgcHJvZmlsZS50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xuICAgIHByb2ZpbGUudGV4dFJlcGxhY2UgPSAxNTtcblxuICAgIHRyYXNoLnNldEltYWdlKFwiZGlzdC9pbWFnZXMvbWlzYy90cmFzaC5zdmdcIik7XG4gICAgdHJhc2gucmFkaXVzID0gNTA7XG4gICAgdHJhc2guY29sb3IgPSBcIiNlZWVlZWVcIjtcbiAgICB0cmFzaC5ib3JkZXJDb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgIHRyYXNoLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICB0cmFzaC5ib3JkZXJXaWR0aCA9IDI7XG4gICAgdHJhc2gucG9zID0gbmV3IFZlY3RvcjJEKHdpbmRvdy5pbm5lcldpZHRoIC0gMTAwLCB3aW5kb3cuaW5uZXJIZWlnaHQgLSAxNTApO1xuXG4gICAgZm9yKHZhciBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICB2YXIgYW1vdW50ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTApO1xuICAgICAgICB2YXIgaW5BdCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyMDAwMCkpIC8gMTAwO1xuICAgICAgICB2YXIgdHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICB2YXIgdHJhZGVyID0gW2Ftb3VudCwgaW5BdCwgdHlwZV07XG4gICAgICAgIHRyYWRlcnMucHVzaCh0cmFkZXIpO1xuICAgIH1cbiAgICB2YXIgZGlmZiA9IDA7XG4gICAgZm9yKHZhciBpID0gMDsgaSA8IDU7IGkrKykge1xuICAgICAgICB2YXIgciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogNCk7XG4gICAgICAgIHZhciBwcGwgPSBbXTtcbiAgICAgICAgdmFyIHN0b2NrUHJpY2UgPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMjAwKSAqIDEwMCkgLyAxMDA7XG4gICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCByOyBrKyspIHtcbiAgICAgICAgICAgIHZhciB0ID0gbmV3IFRyYWRlcihwZW9wbGVba11bMF0sIHRyYWRlcnNba11bMF0sIHRyYWRlcnNba11bMV0sIHRyYWRlcnNba11bMl0sIFwiVGhpcyBsb29rcyBnb29kIVxcbkkgY2FuIGV2ZW4gcHV0IGEgc2Vjb25kIGxpbmVcXG5cXG5BbmQgZXZlbiBtb3JlXCIpO1xuICAgICAgICAgICAgdC5kcmF3YWJsZS5zZXRJbWFnZShcImRpc3QvaW1hZ2VzL3Byb2ZpbGVzL1wiICsgcGVvcGxlW2tdWzFdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0LnBlcmNlbnRhZ2UgPSAoTWF0aC5yYW5kb20oKSAqIDAuNCkgKyAwLjE7XG4gICAgICAgICAgICBwcGwucHVzaCh0KTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJhZGUgPSBuZXcgVHJhZGUoc3RvY2tQcmljZSwgcHBsLCBudWxsKTtcbiAgICAgICAgZGlmZiArPSB0cmFkZS5kaWZmZXJlbmNlO1xuICAgICAgICB0cmFkZS5kcmF3YWJsZS5zZXRJbWFnZShcImRpc3QvaW1hZ2VzL2xvZ29zL1wiICsgbG9nb3NbaV0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWRlcy5wdXNoKHRyYWRlKTtcbiAgICB9XG4gICAgdHJhZGVzLnB1c2gocHJvZmlsZSk7XG4gICAgdHJhZGVzLnB1c2godHJhc2gpO1xuICAgIGlmKGRpZmYgPj0gMCkge1xuICAgICAgICBwcm9maWxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMzZCNURCXCI7XG4gICAgICAgIHByb2ZpbGUudGV4dFJlcGxhY2VDb2xvciA9IFwiIzM2QjVEQlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2ZpbGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgcHJvZmlsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgfVxuICAgIHByb2ZpbGUuc2V0VGV4dCgoTWF0aC5mbG9vcihkaWZmICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgdmFyIGNhbnZhcyA9IG5ldyBDYW52YXMoMCwgNTAsIHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCwgXCJ0cmFkZXNcIiwgdHJhZGVzKTtcbiAgICBjYW52YXMuZHJhd0NhbGxiYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaWZmID0gMDtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IGNhbnZhcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodHlwZW9mIGNhbnZhcy5vYmplY3RzW2ldLmRpZmZlcmVuY2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgZGlmZiArPSBjYW52YXMub2JqZWN0c1tpXS5kaWZmZXJlbmNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGRpZmYgPj0gMCkge1xuICAgICAgICAgICAgcHJvZmlsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzM2QjVEQlwiO1xuICAgICAgICAgICAgcHJvZmlsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRCYWNrZ3JvdW5kID0gXCIjRTc0QzNDXCI7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgfVxuICAgICAgICBwcm9maWxlLnNldFRleHQoKE1hdGguZmxvb3IoZGlmZiAqIDEwMCkgLyAxMDApLnRvTG9jYWxlU3RyaW5nKCdiZS1OTCcsIHtzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgIH07XG4gICAgcHJvZmlsZS5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICB0aGlzLmRyYXdDaXJjbGUoY3R4KTtcbiAgICAgICAgdGhpcy5kcmF3SW1hZ2VJbkNpcmNsZShjdHgpO1xuICAgICAgICB0aGlzLmRyYXdCb3JkZXJGb3JDaXJjbGUoY3R4LCBzY2FsZSk7XG4gICAgICAgIHRoaXMuZHJhd1RleHQoY3R4LCBzY2FsZSk7XG4gICAgfTtcbiAgICB0cmFzaC5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zKSB7XG4gICAgICAgIHZhciBtb3VzZURpZmZlcmVuY2UgPSBtb3VzZVBvcy5zdWJWZWN0b3IoY2FudmFzLm1hcmdpbikuc3ViVmVjdG9yKHRoaXMucG9zKTtcbiAgICAgICAgdmFyIGRpZmZlcmVuY2UgPSB0aGlzLnJhZGl1cyAqIGNhbnZhcy5zY2FsZTtcbiAgICAgICAgcmV0dXJuIChtb3VzZURpZmZlcmVuY2UubGVuZ3RoKCkgPD0gZGlmZmVyZW5jZSAmJiB0aGlzLnNob3cpO1xuICAgIH07XG4gICAgdHJhc2guZHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgdmFyIHAgPSB0aGlzLnBvcy5zdWJWZWN0b3IoY2FudmFzLm9mZnNldCkuc3ViVmVjdG9yKGNhbnZhcy5jZW50ZXIpLm11bCgxIC8gY2FudmFzLnNjYWxlKTtcbiAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgICAgIHRoaXMuZHJhd0NpcmNsZShjdHgpO1xuICAgICAgICB0aGlzLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgIHRoaXMuZHJhd0JvcmRlckZvckNpcmNsZShjdHgsIHNjYWxlKTtcbiAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICB9O1xuICAgIGNhbnZhcy5kcmF3KCk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGludGVyYWN0aW9uU3RhcnQoZSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgIGludGVyYWN0aW9uU3RhcnQodG91Y2gpO1xuICAgIH0pO1xuICAgIHZhciBpbnRlcmFjdGlvblN0YXJ0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBjYW52YXMuaW50ZXJhY3Rpb25TdGFydChlLCBmdW5jdGlvbihvYmplY3QsIG1vdXNlUG9zKSB7XG4gICAgICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gY2FudmFzLm9iamVjdHMuaW5kZXhPZihvYmplY3QpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5vYmplY3RzLnB1c2goY2FudmFzLm9iamVjdHMuc3BsaWNlKGluZGV4LCAxKVswXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUucmV0dXJuUG9zID0gb2JqZWN0LmRyYXdhYmxlLnBvcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG9iamVjdCA9PT0gXCJzZWxmXCIpIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGNhbnZhcy5vYmplY3RzLmluZGV4T2YodHJhc2gpO1xuICAgICAgICAgICAgICAgIGNhbnZhcy5vYmplY3RzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgY2FudmFzLm9iamVjdHMucHVzaCh0cmFzaCk7XG4gICAgICAgICAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbnZhcy5zZWxlY3RlZCA9IG9iamVjdDtcbiAgICAgICAgICAgIGNhbnZhcy5tb3VzZVBvcyA9IG1vdXNlUG9zO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhZGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpbnRlcmFjdGlvbk1vdmUoZSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIHZhciB0b3VjaCA9IGUudG91Y2hlc1swXTtcbiAgICAgICAgaW50ZXJhY3Rpb25Nb3ZlKHRvdWNoKTtcbiAgICB9KTtcbiAgICB2YXIgaW50ZXJhY3Rpb25Nb3ZlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBjYW52YXMuaW50ZXJhY3Rpb25Nb3ZlKGUsIGZ1bmN0aW9uKG9iamVjdCwgbW91c2VQb3MsIGRpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLnBvcyA9IG1vdXNlUG9zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGVyKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLnBvcyA9IG9iamVjdC5kcmF3YWJsZS5wb3MuYWRkVmVjdG9yKGRpZmZlcmVuY2Uucm90YXRlKC1vYmplY3QuZHJhd2FibGUucm90YXRpb24pLm11bCgxIC8gY2FudmFzLnNjYWxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0cmFzaC5pbnRlcmFjdGlvbihuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSkpKSB7XG4gICAgICAgICAgICAgICAgdHJhc2guY29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJhc2guY29sb3IgPSBcIiNlZWVlZWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhbnZhcy5kcmF3KCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpbnRlcmFjdGlvblN0b3AoZSk7XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgICAgICBpbnRlcmFjdGlvblN0b3AodG91Y2gpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuICAgIHZhciBpbnRlcmFjdGlvblN0b3AgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvblN0b3AoZnVuY3Rpb24oY2xpY2ssIG9iamVjdCkge1xuICAgICAgICAgICAgdmFyIGksIGw7XG4gICAgICAgICAgICBpZihjbGljaykge1xuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5kcmF3YWJsZS5vcGFjaXR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgbCA9IGNhbnZhcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbnZhcy5vYmplY3RzW2ldLm9wZW4gJiYgY2FudmFzLm9iamVjdHNbaV0gIT09IG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhcy5vYmplY3RzW2ldLmNsaWNrZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihvYmplY3QgPT09IFwic2VsZlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBjYW52YXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW52YXMub2JqZWN0c1tpXS5vcGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FudmFzLm9iamVjdHNbaV0uY2xpY2tlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBvYmplY3QuY2xpY2tlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuY2xpY2tlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZih0cmFzaC5pbnRlcmFjdGlvbihuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVsZXRlKGNhbnZhcy5vYmplY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihvYmplY3QgaW5zdGFuY2VvZiBUcmFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICBpZihvYmplY3QuZHJhd2FibGUucmV0dXJuUG9zLmxlbmd0aCgpICE9PSBvYmplY3QuZHJhd2FibGUucG9zLmxlbmd0aCgpICYmIG9iamVjdC5kcmF3YWJsZS5yZXR1cm5Qb3MueCAhPT0gb2JqZWN0LmRyYXdhYmxlLnBvcy54KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInBvc1wiLCBvYmplY3QuZHJhd2FibGUucmV0dXJuUG9zLCA1MDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHRyYXNoLmludGVyYWN0aW9uKG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5kZWxldGUoY2FudmFzLm9iamVjdHMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJhc2guY29sb3IgPSBcIiNlZWVlZWVcIjtcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbnZhcy5kcmF3KCk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBzY3JvbGxJbnRlcmFjdGlvbihlKTtcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICBzY3JvbGxJbnRlcmFjdGlvbihlKTtcbiAgICB9KTtcbiAgICB2YXIgc2Nyb2xsSW50ZXJhY3Rpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdmFyIGRlbHRhID0gMDtcbiAgICAgICAgaWYodHlwZW9mIGUud2hlZWxEZWx0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGRlbHRhID0gZS53aGVlbERlbHRhIC8gMzAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsdGEgPSAtZS5kZXRhaWwgLyA1MDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc2NhbGUgPSBjYW52YXMuc2NhbGUgKyBkZWx0YTtcbiAgICAgICAgaWYoc2NhbGUgPiAxLjgpIHtcbiAgICAgICAgICAgIHNjYWxlID0gMS44O1xuICAgICAgICB9XG4gICAgICAgIGlmKHNjYWxlIDwgMC40KSB7XG4gICAgICAgICAgICBzY2FsZSA9IDAuNDtcbiAgICAgICAgfVxuICAgICAgICBzY2FsZSA9IE1hdGguZmxvb3Ioc2NhbGUgKiAxMDApIC8gMTAwO1xuICAgICAgICBjYW52YXMuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgdHJhc2gucmFkaXVzID0gNTAgLyBjYW52YXMuc2NhbGU7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NhbGVDYW52YXNcIikudmFsdWUgPSBjYW52YXMuc2NhbGU7XG4gICAgICAgIGNhbnZhcy5kcmF3KCk7XG4gICAgfTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlQ2FudmFzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGNhbnZhcy5zY2FsZSA9IHBhcnNlRmxvYXQodGhpcy52YWx1ZSk7XG4gICAgICAgIHRyYXNoLnJhZGl1cyA9IDUwIC8gY2FudmFzLnNjYWxlO1xuICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgIH0pO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzZXRPZmZzZXRcIikuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYW52YXMubW92ZVRvQ2VudGVyKCk7XG4gICAgfSk7XG5cbn0pKCk7IiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKFwiYXBwXCIsIFtcIm5nUm91dGVcIl0pO1xuXG4gICAgYXBwLmNvbmZpZyhmdW5jdGlvbiAoJHJvdXRlUHJvdmlkZXIpIHtcbiAgICAgICAgJHJvdXRlUHJvdmlkZXJcbiAgICAgICAgICAgIC53aGVuKFwiL2hvbWVcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInBhZ2VzL2hvbWUuaHRtbFwiLFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFwibWFpbkNvbnRyb2xsZXJcIlxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC53aGVuKFwiL3Byb2ZpbGUvOmlkXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJwYWdlcy9wcm9maWxlLmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcInByb2ZpbGVDb250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9iYWxhbmNlSGlzdG9yeS86aWRcIiwge1xuICAgICAgICAgICAgICAgIHRlbXBsYXRlVXJsOiBcInBhZ2VzL2JhbGFuY2VIaXN0b3J5Lmh0bWxcIixcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBcImJhbGFuY2VDb250cm9sbGVyXCJcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAud2hlbihcIi9kZXBvc2l0LzppZFwiLCB7XG4gICAgICAgICAgICAgICAgdGVtcGxhdGVVcmw6IFwicGFnZXMvZGVwb3NpdC5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJiYWxhbmNlQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLndoZW4oXCIvd2l0aGRyYXcvOmlkXCIsIHtcbiAgICAgICAgICAgICAgICB0ZW1wbGF0ZVVybDogXCJwYWdlcy93aXRoZHJhdy5odG1sXCIsXG4gICAgICAgICAgICAgICAgY29udHJvbGxlcjogXCJiYWxhbmNlQ29udHJvbGxlclwiXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm90aGVyd2lzZSh7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbzogXCIvaG9tZVwiXG4gICAgICAgICAgICB9KTtcbiAgICB9KTtcblxufSkoKTsiLCIoZnVuY3Rpb24gKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgICB2YXIgYmFsYW5jZUNvbnRyb2xsZXIgPSBmdW5jdGlvbigkc2NvcGUsICRyb3V0ZVBhcmFtcywgJHdpbmRvdyl7XG4gICAgICAgIC8vbmV3IGNvZGUgZ29lcyBoZXJlXG5cbiAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLnVzZXIudXNlcklkID0gXCIxXCI7XG4gICAgICAgICRzY29wZS51c2VyLmZpcnN0TmFtZSA9IFwiTWFyaWpuXCI7XG4gICAgICAgICRzY29wZS51c2VyLmxhc3ROYW1lID0gXCJIb3N0ZW5cIjtcbiAgICAgICAgJHNjb3BlLnVzZXIuZGVwb3NpdEFtb3VudCA9IDA7XG4gICAgICAgICRzY29wZS51c2VyLmN1cnJlbnRBbW91bnQgPSAyMDAwO1xuXG4gICAgICAgICRzY29wZS5kZXBvc2l0ID0gZnVuY3Rpb24odXNlcil7XG4gICAgICAgICAgICAkc2NvcGUudXNlci5jdXJyZW50QW1vdW50ICs9IHVzZXIuZGVwb3NpdEFtb3VudDtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiL2hvbWVcIjtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuaXNFbmFibGVkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGlmKCRzY29wZS51c2VyLmRlcG9zaXRBbW91bnQgPT09IDAgfHwgdHlwZW9mICRzY29wZS51c2VyLmRlcG9zaXRBbW91bnQgPT0gXCJ1bmRlZmluZWRcIil7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwiYmFsYW5jZUNvbnRyb2xsZXJcIiwgWyBcIiRzY29wZVwiLCBcIiRyb3V0ZVBhcmFtc1wiLCBcIiR3aW5kb3dcIiwgYmFsYW5jZUNvbnRyb2xsZXJdKTtcbn0pKCk7IiwiKGZ1bmN0aW9uICgpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIG1haW5Db250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlKXtcbiAgICAgICAgLy9uZXcgY29kZSBnb2VzIGhlcmVcbiAgICAgICAgJHNjb3BlLnVzZXIgPSB7fTtcbiAgICAgICAgJHNjb3BlLnVzZXIudXNlcklkID0gXCIxXCI7XG4gICAgICAgICRzY29wZS51c2VyLmZpcnN0TmFtZSA9IFwiTWFyaWpuXCI7XG4gICAgICAgICRzY29wZS51c2VyLmxhc3ROYW1lID0gXCJIb3N0ZW5cIjtcbiAgICAgICAgJHNjb3BlLnVzZXIuY3VycmVudEFtb3VudCA9IDIwMDA7XG5cbiAgICAgICAgdmFyIEFubmEgPSB7aWQ6IDksIGZpcnN0TmFtZTogXCJBbm5hXCIsIGxhc3ROYW1lOiBcIkFiY2RcIiwgZm9sbG93ZXJzOiAyN307XG4gICAgICAgIHZhciBCb2IgPSB7aWQ6IDIsIGZpcnN0TmFtZTogXCJCb2JcIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDI4fTtcbiAgICAgICAgdmFyIENocmlzdGluZSA9IHtpZDogMywgZmlyc3ROYW1lOiBcIkNocmlzdGluZVwiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogMTA1fTtcbiAgICAgICAgdmFyIERhdmUgPSB7aWQ6IDQsIGZpcnN0TmFtZTogXCJEYXZlXCIsIGxhc3ROYW1lOiBcIkFiY2RcIiwgZm9sbG93ZXJzOiAzMH07XG4gICAgICAgIHZhciBFcmljID0ge2lkIDogNSwgZmlyc3ROYW1lOiBcIkVyaWNcIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDJ9O1xuICAgICAgICB2YXIgRnJhbmNpcyA9IHtpZDogNixmaXJzdE5hbWU6IFwiRnJhbmNpc1wiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogMH07XG4gICAgICAgIHZhciBHYWJlbiA9IHtpZDogNyxmaXJzdE5hbWU6IFwiR2FiZW5cIiwgbGFzdE5hbWU6IFwiQWJjZFwiLCBmb2xsb3dlcnM6IDI5OX07XG4gICAgICAgIHZhciBIYXJvbGQgPSB7aWQ6IDgsZmlyc3ROYW1lOiBcIkhhcm9sZFwiLCBsYXN0TmFtZTogXCJBYmNkXCIsIGZvbGxvd2VyczogNH07XG5cbiAgICAgICAgJHNjb3BlLnRyYWRlcnMgPSBbQW5uYSwgQm9iLCBDaHJpc3RpbmUsIERhdmUsIEVyaWMsIEZyYW5jaXMsIEdhYmVuLCBIYXJvbGRdO1xuICAgIH07XG5cbiAgICBhbmd1bGFyLm1vZHVsZShcImFwcFwiKS5jb250cm9sbGVyKFwibWFpbkNvbnRyb2xsZXJcIiwgWyBcIiRzY29wZVwiLCBtYWluQ29udHJvbGxlcl0pO1xufSkoKTsiLCIoZnVuY3Rpb24gKCl7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG5cblxuXG4gICAgdmFyIHByb2ZpbGVDb250cm9sbGVyID0gZnVuY3Rpb24oJHNjb3BlLCAkcm91dGVQYXJhbXMsICR3aW5kb3csIHVzZXJTZXJ2aWNlKXtcbiAgICAgICAgLy9uZXcgY29kZSBnb2VzIGhlcmVcblxuICAgICAgICB2YXIgdXNlcklkID0gJHJvdXRlUGFyYW1zLmlkO1xuICAgICAgICAkc2NvcGUudXNlciA9IHVzZXJTZXJ2aWNlLmdldEJ5SWQodXNlcklkKTtcblxuICAgICAgICAvKiRzY29wZS51c2VyID0ge1xuICAgICAgICAgICAgXCJpZFwiOiAxLFxuICAgICAgICAgICAgXCJmaXJzdE5hbWVcIjogXCJNYXJpam5cIixcbiAgICAgICAgICAgIFwibGFzdE5hbWVcIjogXCJIb3N0ZW5cIixcbiAgICAgICAgICAgIFwicGFzc3cxXCI6IFwiMTIzNDU2XCIsXG4gICAgICAgICAgICBcInBhc3N3MlwiOiBcIjEyMzQ1NlwiLFxuICAgICAgICAgICAgXCJjdXJyZW50QW1vdW50XCI6IDIwMDBcbiAgICAgICAgfTsqL1xuXG4gICAgICAgICRzY29wZS5pc0VuYWJsZWQgPSBmdW5jdGlvbiAoKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUuc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgICAgICAgIGFsZXJ0KFwiY2hhbmdlcyBzYXZlZFwiKTtcbiAgICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaGFzaCA9IFwiL2hvbWVcIjtcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgYW5ndWxhci5tb2R1bGUoXCJhcHBcIikuY29udHJvbGxlcihcInByb2ZpbGVDb250cm9sbGVyXCIsIFsgXCIkc2NvcGVcIiwgXCIkcm91dGVQYXJhbXNcIiwgXCIkd2luZG93XCIsIFwidXNlclNlcnZpY2VcIiwgcHJvZmlsZUNvbnRyb2xsZXJdKTtcbn0pKCk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
