function Trader(e,t,a,r,n){this.name=e,this.amount=t,this.inAt=a,this.comment=n,this.type=r,this.difference=0,this.drawable=new Drawable,this.drawable.color="#ffffff",this.drawable.borderColor="#B3B369",this.drawable.borderWidth=2,this.drawable.borderScaling=!1,this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(0,1),this.drawable.textBackground="#ffffff",this.drawable.textPadding=new Vector2D(0,0),this.drawable.textScaling=!1,this.drawable.textPos=new Vector2D(1,-1),this.drawable.textColor="#2C3E50",this.drawable.pos=new Vector2D(0,0),this.drawable.radius=25,this.drawable.show=!1,this["new"]=!0,this.open=!1,this.changeStockPrice=function(e){var r="[b]"+this.name+"[/b][align=right][color=",n=Math.floor((e-this.inAt)*this.amount*100)/100,i="#36B5DB",o="#E74C3C";0===this.type?this.difference=n:this.difference=-n,r+=this.difference>=0?i+"]":o+"]",r+=this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/align]\n[i][color=",r+=0===this.type?i+"]":o+"]",r+=t,r+=0===this.type?" long at ":" short at ",r+=a.toLocaleString("be-NL",{style:"currency",currency:"EUR"})+"[/color][/i]\n",this.drawable.setText(r+this.comment)},this.draw=function(e,t){if(this.drawable.show){var a=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(a.x,a.y),this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),e.restore()}},this.postDraw=function(e,t){if(this.drawable.show){var a=this.drawable.pos.rotate(this.drawable.rotation);e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(a.x,a.y),this.drawable.drawText(e,t),e.restore()}},this.clicked=function(){var e=this;this.open?(this.drawable.animate("textSize",0,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),200,"easeInOut",function(t,a){t&&(e.open=!1)})):(this.drawable.animate("textSize",12,200,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(10,10),200,"easeInOut",function(t,a){t&&(e.open=!0)}))},this["delete"]=function(e,t){var a=0;"undefined"!=typeof t&&(a=t);for(var r=e.length;r>a;a++)if("undefined"!=typeof e[a].traders){var n=e[a].traders.indexOf(this);if(n>-1){e[a].traders.splice(n,1),e[a].calcTraders(),0===e[a].traders.length&&e[a].animateDelete(e,a);break}}},this.interaction=function(e,t){var a=e.subVector(this.drawable.pos.rotate(this.drawable.rotation).mul(t)),r=0;return 0!==this.drawable.radius&&(r=this.drawable.radius*t),0!==this.drawable.size.length()&&(r=this.drawable.size.length()*t),a.length()<=r&&this.drawable.show?(this["new"]&&(this["new"]=!1,this.drawable.borderColor="#eeeeee"),this):!1}}var Trade=function(e,a,r){this.stockPrice=e,this.traders=a,this.drawable=new Drawable,this.difference=0;for(var n=0,i=this.traders.length;i>n;n++)this.traders[n].changeStockPrice(this.stockPrice),this.difference+=this.traders[n].difference;if(this.difference=Math.floor(100*this.difference)/100,this.drawable.setText(this.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),this.difference>=0?(this.drawable.textBackground="#36B5DB",this.drawable.textReplaceColor="#36B5DB"):(this.drawable.textBackground="#E74C3C",this.drawable.textReplaceColor="#E74C3C"),this.lineColor="#B3B369",this.open=!1,this.drawable.textSize=10,this.drawable.radius=Math.floor(35*Math.random()+35),this.drawable.imgFill=!1,null===r){for(var o=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);new Vector2D(o,s).length()<100+this.drawable.radius||new Vector2D(o,s).length()>new Vector2D(window.innerWidth,window.innerHeight-50).div(2).length()-this.drawable.radius;)o=Math.floor(Math.random()*window.innerWidth-window.innerWidth/2),s=Math.floor(Math.random()*(window.innerHeight-50)-(window.innerHeight-50)/2);this.drawable.animateVector("pos",new Vector2D(o,s),1e3,"easeInOut",null)}else this.drawable.animateVector("pos",r,1e3,"easeInOut",null);this.drawable.color="#ffffff",this.drawable.borderWidth=2,this.drawable.borderColor="#B3B369",this.drawable.borderScaling=!1,this.drawable.textColor="#ffffff",this.drawable.textFont="SourceSansPro",this.drawable.textAnchor=new Vector2D(.5,.5),this.drawable.textPos=new Vector2D(0,.5),this.drawable.textPadding=new Vector2D(10,10),this.drawable.textReplace=15;var d=this;setInterval(function(){var e=Math.random()/10,t=Math.floor(2*Math.random());1===t&&(e=-e),d.stockPrice=Math.floor(100*(d.stockPrice+e))/100,d.difference=0;for(var a=0,r=d.traders.length;r>a;a++)d.traders[a].changeStockPrice(d.stockPrice),d.difference+=d.traders[a].difference;d.difference=Math.floor(100*d.difference)/100,d.open?(d.difference>=0?d.drawable.textReplaceColor="#36B5DB":d.drawable.textReplaceColor="#E74C3C",d.drawable.textBackground="#2C3E50",d.drawable.setText(d.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"}))):(d.drawable.setText(d.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),d.difference>=0?(d.drawable.textBackground="#36B5DB",d.drawable.textReplaceColor="#36B5DB"):(d.drawable.textBackground="#E74C3C",d.drawable.textReplaceColor="#E74C3C")),d.drawable.requestRedraw=!0},2e3),this.interaction=function(e,a){var r=e.subVector(this.drawable.pos.mul(a)),n=0;if(0!==this.drawable.radius&&(n=this.drawable.radius*a),0!==this.drawable.size.length()&&(n=this.drawable.size.length()*a),r.length()<=n)return this;for(var i=e.subVector(this.drawable.pos.mul(a)),o=0,s=this.traders.length;s>o;o++){var d=this.traders[o].interaction(i,a);if(d!==!1){for(var l=0,c=this.traders.length;c>l;l++)t=this.traders[l],t.open&&t.clicked();return d}}return!1},this.calcTraders=function(){for(var e=180/(this.traders.length+1),t=0,a=this.traders.length;a>t;t++){var r=e*(t+1-(this.traders.length+1)/2)-90;this.traders[t].drawable.animate("rotation",r,300,"easeInOut",null)}},this.calcTraders(),this.preDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.strokeStyle=this.lineColor,e.lineWidth=.5;for(var a=!1,r=0,n=this.traders.length;n>r;r++)this.traders[r]["new"]&&(a=!0);a?this.lineColor="#B3B369":this.lineColor="#2C3E50",e.beginPath(),e.moveTo(0,0),e.lineTo(this.drawable.pos.x,this.drawable.pos.y),e.closePath(),e.stroke(),e.restore()}},this.draw=function(e,t){if(this.drawable.show){e.save(),e.translate(this.drawable.pos.x,this.drawable.pos.y),e.globalAlpha*=this.drawable.opacity;for(var a=!1,r=0,n=this.traders.length;n>r;r++)this.traders[r].draw(e,t),this.traders[r]["new"]&&(a=!0);a?this.drawable.borderColor="#B3B369":this.drawable.borderColor="#eeeeee",this.drawable.drawCircle(e),this.drawable.drawImageInCircle(e),this.drawable.drawBorderForCircle(e,t),this.drawable.drawText(e,t),e.restore()}},this["delete"]=function(e){for(var t=e.indexOf(this),a=0,r=this.traders.length;r>a;a++)this.traders[0]["delete"](e,t)},this.animateDelete=function(e,t){this.drawable.animate("textSize",0,300,"easeInOut",null),this.drawable.animate("textReplace",0,300,"easeInOut",null),this.drawable.animateVector("textPadding",new Vector2D(0,0),300,"easeInOut",null),this.drawable.animate("opacity",0,300,"easeInOut",null),this.drawable.animate("radius",0,300,"easeInOut",function(){e.splice(t,1)})},this.postDraw=function(e,t){if(this.drawable.show){e.save(),e.globalAlpha*=this.drawable.opacity,e.translate(this.drawable.pos.x,this.drawable.pos.y);for(var a=0,r=this.traders.length;r>a;a++)this.traders[a].postDraw(e,t);e.restore()}},this.clicked=function(){var e=0,t=0,a=null,r=this;if(this.open){var n=function(e,t){t.show=!1};for(t=this.traders.length;t>e;e++)a=this.traders[e],a.open&&a.clicked(),a.drawable.animateVector("pos",new Vector2D(0,0),300,"easeInOut",n);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.setText(r.difference.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),r.difference>=0?t.textBackground="#36B5DB":t.textBackground="#E74C3C",r.open=!1,t.animate("textSize",10,150,"easeOut",null)})}else{for(t=this.traders.length;t>e;e++)a=this.traders[e],a.drawable.show=!0,a.drawable.animateVector("pos",new Vector2D(0,this.drawable.radius+a.drawable.radius+15),300,"easeInOut",null);this.drawable.animateVector("textPadding",new Vector2D(0,0),150,"easeIn",function(e,t){t.animateVector("textPadding",new Vector2D(10,10),150,"easeOut",null)}),this.drawable.animate("textReplace",0,150,"easeIn",function(e,t){t.animate("textReplace",15,150,"easeOut",null)}),this.drawable.animate("textSize",0,150,"easeIn",function(e,t){t.textBackground="#2C3E50",t.setText(r.stockPrice.toLocaleString("be-NL",{style:"currency",currency:"EUR"})),r.open=!0,t.animate("textSize",10,150,"easeOut",null)})}},this.requestRedraw=function(){for(var e=0,t=this.traders.length;t>e;e++)this.traders[e].drawable.requestRedraw&&(this.drawable.requestRedraw=!0,this.traders[e].drawable.requestRedraw=!1);return this.drawable.requestRedraw?(this.drawable.requestRedraw=!1,!0):!1}},tradeCanvas=function(){if(null!==document.getElementById("trades")){var e=[],t=[],a=new Drawable,r=new Drawable,n=["logo0.svg","logo1.svg","logo2.svg","logo3.svg","logo4.svg"],i=[["Crazy Heffe","trader0.jpg"],["Marino Hostino","trader1.jpg"],["Nicolsh Lavanda","trader2.jpg"],["xXrobke69Xx","trader3.jpg"]];a.setImage("dist/images/profiles/profile.jpg"),a.radius=100,a.color="#ffffff",a.borderColor="#eeeeee",a.borderScaling=!1,a.borderWidth=2,a.textSize=12,a.textColor="#ffffff",a.textFont="SourceSansPro",a.textAnchor=new Vector2D(.5,.5),a.textPos=new Vector2D(0,.5),a.textPadding=new Vector2D(10,10),a.textReplace=15,r.setImage("dist/images/misc/trash.svg"),r.radius=50,r.color="#eeeeee",r.borderColor="#eeeeee",r.borderScaling=!1,r.borderWidth=2,r.pos=new Vector2D(window.innerWidth-100,window.innerHeight-150);for(var o=0;4>o;o++){var s=Math.floor(50*Math.random()),d=Math.floor(2e4*Math.random())/100,l=Math.floor(2*Math.random()),c=[s,d,l];t.push(c)}for(var h=0,w=0;5>w;w++){for(var f=Math.ceil(4*Math.random()),u=[],b=Math.floor(200*Math.random()*100)/100,g=0;f>g;g++){var p=new Trader(i[g][0],t[g][0],t[g][1],t[g][2],"This looks good!\nI can even put a second line\n\nAnd even more");p.drawable.setImage("dist/images/profiles/"+i[g][1],function(){v.draw()}),p.percentage=.4*Math.random()+.1,u.push(p)}var m=new Trade(b,u,null);h+=m.difference,m.drawable.setImage("dist/images/logos/"+n[w],function(){v.draw()}),e.push(m)}e.push(a),e.push(r),h>=0?(a.textBackground="#36B5DB",a.textReplaceColor="#36B5DB"):(a.textBackground="#E74C3C",a.textReplaceColor="#E74C3C"),a.setText((Math.floor(100*h)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}));var v=new Canvas(0,50,window.innerWidth,window.innerHeight-50,"trades",e);v.drawCallback=function(){for(var e=0,t=0,r=v.objects.length;r>t;t++)"undefined"!=typeof v.objects[t].difference&&(e+=v.objects[t].difference);e>=0?(a.textBackground="#36B5DB",a.textReplaceColor="#36B5DB"):(a.textBackground="#E74C3C",a.textReplaceColor="#E74C3C"),a.setText((Math.floor(100*e)/100).toLocaleString("be-NL",{style:"currency",currency:"EUR"}))},a.draw=function(e,t){this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),this.drawText(e,t)},r.interaction=function(e){var t=e.subVector(v.margin).subVector(this.pos),a=this.radius*v.scale;return t.length()<=a&&this.show},r.draw=function(e,t){var a=this.pos.subVector(v.offset).subVector(v.center).mul(1/v.scale);e.save(),e.translate(a.x,a.y),this.drawCircle(e),this.drawImageInCircle(e),this.drawBorderForCircle(e,t),e.restore()},v.draw(),document.getElementById("trades").addEventListener("mousedown",function(e){x(e)}),document.getElementById("trades").addEventListener("touchstart",function(e){var t=e.touches[0];x(t)});var x=function(e){v.interactionStart(e,function(e,t){var a;e instanceof Trade&&(a=v.objects.indexOf(e),v.objects.push(v.objects.splice(a,1)[0])),e instanceof Trader&&(e.drawable.returnPos=e.drawable.pos),"self"===e&&(a=v.objects.indexOf(r),v.objects.splice(a,1),v.objects.push(r),v.draw()),v.selected=e,v.mousePos=t})};document.getElementById("trades").addEventListener("mousemove",function(e){C(e)}),document.getElementById("trades").addEventListener("touchmove",function(e){var t=e.touches[0];C(t)});var C=function(e){v.interactionMove(e,function(t,a,n){t instanceof Trade&&(t.drawable.opacity=.5,t.drawable.pos=a),t instanceof Trader&&(t.drawable.opacity=.5,t.drawable.pos=t.drawable.pos.addVector(n.rotate(-t.drawable.rotation).mul(1/v.scale))),r.interaction(new Vector2D(e.pageX,e.pageY))?r.color="#E74C3C":r.color="#eeeeee",v.draw()})};document.getElementById("trades").addEventListener("mouseup",function(e){y(e)}),document.getElementById("trades").addEventListener("touchend",function(e){var t=e.touches[0];y(t)}),document.body.addEventListener("touchstart",function(e){e.preventDefault()});var y=function(e){v.interactionStop(function(t,a){var n,i;if(t){if(a instanceof Trade)for(a.drawable.opacity=1,n=0,i=v.objects.length;i>n;n++)v.objects[n].open&&v.objects[n]!==a&&v.objects[n].clicked();if(a instanceof Trader&&(a.drawable.opacity=1),"self"===a)for(n=0,i=v.objects.length;i>n;n++)v.objects[n].open&&v.objects[n].clicked();"function"==typeof a.clicked&&a.clicked()}else a instanceof Trade&&(a.drawable.opacity=1,r.interaction(new Vector2D(e.pageX,e.pageY))&&a["delete"](v.objects)),a instanceof Trader&&(a.drawable.opacity=1,a.drawable.returnPos.length()!==a.drawable.pos.length()&&a.drawable.returnPos.x!==a.drawable.pos.x&&a.drawable.animateVector("pos",a.drawable.returnPos,500,"easeInOut",null),r.interaction(new Vector2D(e.pageX,e.pageY))&&a["delete"](v.objects));r.color="#eeeeee"}),v.draw()};document.getElementById("trades").addEventListener("wheel",function(e){B(e)}),document.getElementById("trades").addEventListener("DOMMouseScroll",function(e){B(e)});var B=function(e){e.preventDefault();var t=0;t="undefined"!=typeof e.wheelDelta?e.wheelDelta/300:-e.detail/50;var a=v.scale+t;a>1.8&&(a=1.8),.4>a&&(a=.4),a=Math.floor(100*a)/100,v.scale=a,r.radius=50/v.scale,document.getElementById("scaleCanvas").value=v.scale,v.draw()};document.getElementById("scaleCanvas").addEventListener("mousemove",function(){v.scale=parseFloat(this.value),r.radius=50/v.scale,v.draw()}),document.getElementById("resetOffset").addEventListener("click",function(){v.moveToCenter()}),window.addEventListener("resize",function(){v.setSize(window.innerWidth,window.innerHeight-50),r.pos=new Vector2D(window.innerWidth-100,window.innerHeight-150)})}};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRyYWRlci5qcyIsInRyYWRlLmpzIiwidHJhZGVDYW52YXMuanMiXSwibmFtZXMiOlsiVHJhZGVyIiwibmFtZSIsImFtb3VudCIsImluQXQiLCJ0eXBlIiwiY29tbWVudCIsInRoaXMiLCJkaWZmZXJlbmNlIiwiZHJhd2FibGUiLCJEcmF3YWJsZSIsImNvbG9yIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclNjYWxpbmciLCJ0ZXh0Rm9udCIsInRleHRBbmNob3IiLCJWZWN0b3IyRCIsInRleHRCYWNrZ3JvdW5kIiwidGV4dFBhZGRpbmciLCJ0ZXh0U2NhbGluZyIsInRleHRQb3MiLCJ0ZXh0Q29sb3IiLCJwb3MiLCJyYWRpdXMiLCJzaG93Iiwib3BlbiIsImNoYW5nZVN0b2NrUHJpY2UiLCJzdG9ja1ByaWNlIiwicHJlc2V0IiwiZGlmZiIsIk1hdGgiLCJmbG9vciIsIm5lZyIsInRvTG9jYWxlU3RyaW5nIiwic3R5bGUiLCJjdXJyZW5jeSIsInNldFRleHQiLCJkcmF3IiwiY3R4Iiwic2NhbGUiLCJwIiwicm90YXRlIiwicm90YXRpb24iLCJzYXZlIiwiZ2xvYmFsQWxwaGEiLCJvcGFjaXR5IiwidHJhbnNsYXRlIiwieCIsInkiLCJkcmF3Q2lyY2xlIiwiZHJhd0ltYWdlSW5DaXJjbGUiLCJkcmF3Qm9yZGVyRm9yQ2lyY2xlIiwicmVzdG9yZSIsInBvc3REcmF3IiwiZHJhd1RleHQiLCJjbGlja2VkIiwibWUiLCJhbmltYXRlIiwiYW5pbWF0ZVZlY3RvciIsImZpbmlzaGVkIiwiZWxlbWVudCIsInRyYWRlcyIsImluZGV4IiwiaSIsImwiLCJsZW5ndGgiLCJ0cmFkZXJzIiwiaW5kIiwiaW5kZXhPZiIsInNwbGljZSIsImNhbGNUcmFkZXJzIiwiYW5pbWF0ZURlbGV0ZSIsImludGVyYWN0aW9uIiwibW91c2VQb3MiLCJtb3VzZURpZmZlcmVuY2UiLCJzdWJWZWN0b3IiLCJtdWwiLCJzaXplIiwiVHJhZGUiLCJ0ZXh0UmVwbGFjZUNvbG9yIiwibGluZUNvbG9yIiwidGV4dFNpemUiLCJyYW5kb20iLCJpbWdGaWxsIiwid2luZG93IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZGl2IiwidGV4dFJlcGxhY2UiLCJzZXRJbnRlcnZhbCIsImQiLCJwT20iLCJyZXF1ZXN0UmVkcmF3IiwicmVsUG9zIiwibyIsImoiLCJtIiwidCIsImFuZ2xlIiwiYWxwaGEiLCJwcmVEcmF3Iiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJuZXdUcmFkZXIiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJjbG9zZVBhdGgiLCJzdHJva2UiLCJmIiwiZG9uZSIsInRyYWRlQ2FudmFzIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInByb2ZpbGUiLCJ0cmFzaCIsImxvZ29zIiwicGVvcGxlIiwic2V0SW1hZ2UiLCJ0cmFkZXIiLCJwdXNoIiwiciIsImNlaWwiLCJwcGwiLCJrIiwiY2FudmFzIiwicGVyY2VudGFnZSIsInRyYWRlIiwiQ2FudmFzIiwiZHJhd0NhbGxiYWNrIiwib2JqZWN0cyIsIm1hcmdpbiIsIm9mZnNldCIsImNlbnRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwiaW50ZXJhY3Rpb25TdGFydCIsInRvdWNoIiwidG91Y2hlcyIsIm9iamVjdCIsInJldHVyblBvcyIsInNlbGVjdGVkIiwiaW50ZXJhY3Rpb25Nb3ZlIiwiYWRkVmVjdG9yIiwicGFnZVgiLCJwYWdlWSIsImludGVyYWN0aW9uU3RvcCIsImJvZHkiLCJwcmV2ZW50RGVmYXVsdCIsImNsaWNrIiwic2Nyb2xsSW50ZXJhY3Rpb24iLCJkZWx0YSIsIndoZWVsRGVsdGEiLCJkZXRhaWwiLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJtb3ZlVG9DZW50ZXIiLCJzZXRTaXplIl0sIm1hcHBpbmdzIjoiQUFBQSxRQUFBQSxRQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxHQUNBQyxLQUFBTCxLQUFBQSxFQUNBSyxLQUFBSixPQUFBQSxFQUNBSSxLQUFBSCxLQUFBQSxF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a0QsaUJBQUEsU0FBQSxXQUNBVCxFQUFBZ0MsUUFBQXpFLE9BQUFDLFdBQUFELE9BQUFFLFlBQUEsSUFDQTZCLEVBQUE3RixJQUFBLEdBQUFOLFVBQUFvRSxPQUFBQyxXQUFBLElBQUFELE9BQUFFLFlBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFRyYWRlcihuYW1lLCBhbW91bnQsIGluQXQsIHR5cGUsIGNvbW1lbnQpIHtcbiAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIHRoaXMuYW1vdW50ID0gYW1vdW50O1xuICAgIHRoaXMuaW5BdCA9IGluQXQ7XG4gICAgdGhpcy5jb21tZW50ID0gY29tbWVudDtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZGlmZmVyZW5jZSA9IDA7XG4gICAgdGhpcy5kcmF3YWJsZSA9IG5ldyBEcmF3YWJsZSgpO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5jb2xvciA9IFwiI2ZmZmZmZlwiO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyV2lkdGggPSAyO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyU2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEZvbnQgPSBcIlNvdXJjZVNhbnNQcm9cIjtcbiAgICB0aGlzLmRyYXdhYmxlLnRleHRBbmNob3IgPSBuZXcgVmVjdG9yMkQoMCwgMSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiI2ZmZmZmZlwiO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBhZGRpbmcgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0U2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFBvcyA9IG5ldyBWZWN0b3IyRCgxLCAtMSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0Q29sb3IgPSBcIiMyQzNFNTBcIjtcblxuICAgIHRoaXMuZHJhd2FibGUucG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuXG4gICAgdGhpcy5kcmF3YWJsZS5yYWRpdXMgPSAyNTtcblxuICAgIHRoaXMuZHJhd2FibGUuc2hvdyA9IGZhbHNlO1xuXG4gICAgdGhpcy5uZXcgPSB0cnVlO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5jaGFuZ2VTdG9ja1ByaWNlID0gZnVuY3Rpb24oc3RvY2tQcmljZSkge1xuICAgICAgICB2YXIgcHJlc2V0ID0gXCJbYl1cIiArIHRoaXMubmFtZSArIFwiWy9iXVthbGlnbj1yaWdodF1bY29sb3I9XCI7XG4gICAgICAgIHZhciBkaWZmID0gTWF0aC5mbG9vcigoc3RvY2tQcmljZSAtIHRoaXMuaW5BdCkgKiB0aGlzLmFtb3VudCAqIDEwMCkgLyAxMDA7XG4gICAgICAgIHZhciBwb3MgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgdmFyIG5lZyA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICBpZih0aGlzLnR5cGUgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmVyZW5jZSA9IGRpZmY7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpZmZlcmVuY2UgPSAtZGlmZjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRpZmZlcmVuY2UgPj0gMCkge1xuICAgICAgICAgICAgcHJlc2V0ICs9IHBvcyArIFwiXVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJlc2V0ICs9IG5lZyArIFwiXVwiO1xuICAgICAgICB9XG4gICAgICAgIHByZXNldCArPSB0aGlzLmRpZmZlcmVuY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSArIFwiWy9jb2xvcl1bL2FsaWduXVxcbltpXVtjb2xvcj1cIjtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAwKSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gcG9zICsgXCJdXCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gbmVnICsgXCJdXCI7XG4gICAgICAgIH1cbiAgICAgICAgcHJlc2V0ICs9IGFtb3VudDtcbiAgICAgICAgaWYodGhpcy50eXBlID09PSAwKSB7XG4gICAgICAgICAgICBwcmVzZXQgKz0gXCIgbG9uZyBhdCBcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByZXNldCArPSBcIiBzaG9ydCBhdCBcIjtcbiAgICAgICAgfVxuICAgICAgICBwcmVzZXQgKz0gaW5BdC50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7c3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pICsgXCJbL2NvbG9yXVsvaV1cXG5cIjtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5zZXRUZXh0KHByZXNldCArIHRoaXMuY29tbWVudCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZHJhd2FibGUucG9zLnJvdGF0ZSh0aGlzLmRyYXdhYmxlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5kcmF3YWJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdDaXJjbGUoY3R4KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuZHJhd0ltYWdlSW5DaXJjbGUoY3R4KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuZHJhd0JvcmRlckZvckNpcmNsZShjdHgsIHNjYWxlKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5wb3N0RHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRoaXMuZHJhd2FibGUucG9zLnJvdGF0ZSh0aGlzLmRyYXdhYmxlLnJvdGF0aW9uKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgKj0gdGhpcy5kcmF3YWJsZS5vcGFjaXR5O1xuICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZShwLngsIHAueSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdUZXh0KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmNsaWNrZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgaWYoIXRoaXMub3Blbikge1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMTIsIDIwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMTAsIDEwKSwgMjAwLCBcImVhc2VJbk91dFwiLCBmdW5jdGlvbihmaW5pc2hlZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lLm9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFNpemVcIiwgMCwgMjAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMjAwLCBcImVhc2VJbk91dFwiLCBmdW5jdGlvbihmaW5pc2hlZCwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIGlmKGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKHRyYWRlcywgaW5kZXgpIHtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBpZih0eXBlb2YgaW5kZXggIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBpID0gaW5kZXg7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBsID0gdHJhZGVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodHlwZW9mIHRyYWRlc1tpXS50cmFkZXJzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHZhciBpbmQgPSB0cmFkZXNbaV0udHJhZGVycy5pbmRleE9mKHRoaXMpO1xuICAgICAgICAgICAgICAgIGlmIChpbmQgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICB0cmFkZXNbaV0udHJhZGVycy5zcGxpY2UoaW5kLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgdHJhZGVzW2ldLmNhbGNUcmFkZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHRyYWRlc1tpXS50cmFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhZGVzW2ldLmFuaW1hdGVEZWxldGUodHJhZGVzLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmludGVyYWN0aW9uID0gZnVuY3Rpb24obW91c2VQb3MsIHNjYWxlKSB7XG4gICAgICAgIHZhciBtb3VzZURpZmZlcmVuY2UgPSBtb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5kcmF3YWJsZS5wb3Mucm90YXRlKHRoaXMuZHJhd2FibGUucm90YXRpb24pLm11bChzY2FsZSkpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIGlmICh0aGlzLmRyYXdhYmxlLnJhZGl1cyAhPT0gMCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuZHJhd2FibGUucmFkaXVzICogc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZHJhd2FibGUuc2l6ZS5sZW5ndGgoKSAhPT0gMCkge1xuICAgICAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuZHJhd2FibGUuc2l6ZS5sZW5ndGgoKSAqIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtb3VzZURpZmZlcmVuY2UubGVuZ3RoKCkgPD0gZGlmZmVyZW5jZSAmJiB0aGlzLmRyYXdhYmxlLnNob3cpIHtcbiAgICAgICAgICAgIGlmKHRoaXMubmV3KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmJvcmRlckNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH07XG59IiwidmFyIFRyYWRlID0gZnVuY3Rpb24oc3RvY2tQcmljZSwgdHJhZGVycywgcG9zKSB7XG4gICAgdGhpcy5zdG9ja1ByaWNlID0gc3RvY2tQcmljZTtcbiAgICB0aGlzLnRyYWRlcnMgPSB0cmFkZXJzO1xuICAgIHRoaXMuZHJhd2FibGUgPSBuZXcgRHJhd2FibGUoKTtcblxuICAgIHRoaXMuZGlmZmVyZW5jZSA9IDA7XG4gICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy50cmFkZXJzW2ldLmNoYW5nZVN0b2NrUHJpY2UodGhpcy5zdG9ja1ByaWNlKTtcbiAgICAgICAgdGhpcy5kaWZmZXJlbmNlICs9IHRoaXMudHJhZGVyc1tpXS5kaWZmZXJlbmNlO1xuICAgIH1cbiAgICB0aGlzLmRpZmZlcmVuY2UgPSBNYXRoLmZsb29yKHRoaXMuZGlmZmVyZW5jZSAqIDEwMCkgLyAxMDA7XG4gICAgdGhpcy5kcmF3YWJsZS5zZXRUZXh0KHRoaXMuZGlmZmVyZW5jZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgaWYodGhpcy5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzM2QjVEQlwiO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjRTc0QzNDXCI7XG4gICAgICAgIHRoaXMuZHJhd2FibGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgIH1cbiAgICB0aGlzLmxpbmVDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMub3BlbiA9IGZhbHNlO1xuXG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0U2l6ZSA9IDEwO1xuICAgIHRoaXMuZHJhd2FibGUucmFkaXVzID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDM1KSArIDM1KTtcbiAgICB0aGlzLmRyYXdhYmxlLmltZ0ZpbGwgPSBmYWxzZTtcbiAgICBpZihwb3MgPT09IG51bGwpIHtcbiAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB3aW5kb3cuaW5uZXJXaWR0aCAtICh3aW5kb3cuaW5uZXJXaWR0aCAvIDIpKTtcbiAgICAgICAgdmFyIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAod2luZG93LmlubmVySGVpZ2h0IC0gNTApIC0gKCh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgLyAyKSk7XG4gICAgICAgIHdoaWxlKG5ldyBWZWN0b3IyRCh4LCB5KS5sZW5ndGgoKSA8ICgxMDAgKyB0aGlzLmRyYXdhYmxlLnJhZGl1cykgfHwgbmV3IFZlY3RvcjJEKHgsIHkpLmxlbmd0aCgpID4gKG5ldyBWZWN0b3IyRCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC0gNTApLmRpdigyKS5sZW5ndGgoKSAtIHRoaXMuZHJhd2FibGUucmFkaXVzKSkge1xuICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdpbmRvdy5pbm5lcldpZHRoIC0gKHdpbmRvdy5pbm5lcldpZHRoIC8gMikpO1xuICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCkgLSAoKHdpbmRvdy5pbm5lckhlaWdodCAtIDUwKSAvIDIpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJwb3NcIiwgbmV3IFZlY3RvcjJEKHgsIHkpLCAxMDAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInBvc1wiLCBwb3MsIDEwMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgIH1cbiAgICB0aGlzLmRyYXdhYmxlLmNvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJXaWR0aCA9IDI7XG4gICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI0IzQjM2OVwiO1xuICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyU2NhbGluZyA9IGZhbHNlO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dENvbG9yID0gXCIjZmZmZmZmXCI7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0Rm9udCA9IFwiU291cmNlU2Fuc1Byb1wiO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dEFuY2hvciA9IG5ldyBWZWN0b3IyRCgwLjUsIDAuNSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0UG9zID0gbmV3IFZlY3RvcjJEKDAsIDAuNSk7XG4gICAgdGhpcy5kcmF3YWJsZS50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xuICAgIHRoaXMuZHJhd2FibGUudGV4dFJlcGxhY2UgPSAxNTtcblxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkID0gTWF0aC5yYW5kb20oKSAvIDEwO1xuICAgICAgICB2YXIgcE9tID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XG4gICAgICAgIGlmKHBPbSA9PT0gMSkge1xuICAgICAgICAgICAgZCA9IC1kO1xuICAgICAgICB9XG4gICAgICAgIG1lLnN0b2NrUHJpY2UgPSBNYXRoLmZsb29yKChtZS5zdG9ja1ByaWNlICsgZCkgKiAxMDApIC8gMTAwO1xuICAgICAgICBtZS5kaWZmZXJlbmNlID0gMDtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IG1lLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBtZS50cmFkZXJzW2ldLmNoYW5nZVN0b2NrUHJpY2UobWUuc3RvY2tQcmljZSk7XG4gICAgICAgICAgICBtZS5kaWZmZXJlbmNlICs9IG1lLnRyYWRlcnNbaV0uZGlmZmVyZW5jZTtcbiAgICAgICAgfVxuICAgICAgICBtZS5kaWZmZXJlbmNlID0gTWF0aC5mbG9vcihtZS5kaWZmZXJlbmNlICogMTAwKSAvIDEwMDtcbiAgICAgICAgaWYoIW1lLm9wZW4pIHtcbiAgICAgICAgICAgIG1lLmRyYXdhYmxlLnNldFRleHQobWUuZGlmZmVyZW5jZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzM2QjVEQlwiO1xuICAgICAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbWUuZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjRTc0QzNDXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICBtZS5kcmF3YWJsZS50ZXh0UmVwbGFjZUNvbG9yID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lLmRyYXdhYmxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMkMzRTUwXCI7XG4gICAgICAgICAgICBtZS5kcmF3YWJsZS5zZXRUZXh0KG1lLnN0b2NrUHJpY2UudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywgeyBzdHlsZTogJ2N1cnJlbmN5JywgY3VycmVuY3k6ICdFVVInfSkpO1xuICAgICAgICB9XG4gICAgICAgIG1lLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSB0cnVlO1xuICAgIH0sIDIwMDApO1xuXG4gICAgdGhpcy5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zLCBzY2FsZSkge1xuICAgICAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMuZHJhd2FibGUucG9zLm11bChzY2FsZSkpO1xuICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IDA7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUucmFkaXVzICE9PSAwKSB7XG4gICAgICAgICAgICBkaWZmZXJlbmNlID0gdGhpcy5kcmF3YWJsZS5yYWRpdXMgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgIT09IDApIHtcbiAgICAgICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLmRyYXdhYmxlLnNpemUubGVuZ3RoKCkgKiBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobW91c2VEaWZmZXJlbmNlLmxlbmd0aCgpIDw9IGRpZmZlcmVuY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWxQb3MgPSBtb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5kcmF3YWJsZS5wb3MubXVsKHNjYWxlKSk7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgbyA9IHRoaXMudHJhZGVyc1tpXS5pbnRlcmFjdGlvbihyZWxQb3MsIHNjYWxlKTtcbiAgICAgICAgICAgIGlmKG8gIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMCwgbSA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGogPCBtOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHRoaXMudHJhZGVyc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICB0aGlzLmNhbGNUcmFkZXJzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbmdsZSA9IDE4MCAvICh0aGlzLnRyYWRlcnMubGVuZ3RoICsgMSk7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYWxwaGEgPSAoYW5nbGUgKiAoaSArIDEgLSAoKHRoaXMudHJhZGVycy5sZW5ndGggKyAxKSAvIDIpKSkgLSA5MDtcbiAgICAgICAgICAgIHRoaXMudHJhZGVyc1tpXS5kcmF3YWJsZS5hbmltYXRlKFwicm90YXRpb25cIiwgYWxwaGEsIDMwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuY2FsY1RyYWRlcnMoKTtcblxuICAgIHRoaXMucHJlRHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5zaG93KSB7XG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMubGluZUNvbG9yO1xuICAgICAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDAuNTtcbiAgICAgICAgICAgIHZhciBuZXdUcmFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLm5ldykge1xuICAgICAgICAgICAgICAgICAgICBuZXdUcmFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG5ld1RyYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZUNvbG9yID0gXCIjQjNCMzY5XCI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMubGluZUNvbG9yID0gXCIjMkMzRTUwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHgubW92ZVRvKDAsIDApO1xuICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLmRyYXdhYmxlLnBvcy54LCB0aGlzLmRyYXdhYmxlLnBvcy55KTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5zdHJva2UoKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBpZih0aGlzLmRyYXdhYmxlLnNob3cpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMuZHJhd2FibGUucG9zLngsIHRoaXMuZHJhd2FibGUucG9zLnkpO1xuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhICo9IHRoaXMuZHJhd2FibGUub3BhY2l0eTtcbiAgICAgICAgICAgIHZhciBuZXdUcmFkZXIgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0aGlzLnRyYWRlcnMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFkZXJzW2ldLmRyYXcoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLm5ldykge1xuICAgICAgICAgICAgICAgICAgICBuZXdUcmFkZXIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG5ld1RyYWRlcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYm9yZGVyQ29sb3IgPSBcIiNCM0IzNjlcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5ib3JkZXJDb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5kcmF3Q2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdCb3JkZXJGb3JDaXJjbGUoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmRyYXdUZXh0KGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmRlbGV0ZSA9IGZ1bmN0aW9uKHRyYWRlcykge1xuICAgICAgICB2YXIgaW5kZXggPSB0cmFkZXMuaW5kZXhPZih0aGlzKTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMudHJhZGVyc1swXS5kZWxldGUodHJhZGVzLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlRGVsZXRlID0gZnVuY3Rpb24odHJhZGVzLCBpbmRleCkge1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAwLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0UmVwbGFjZVwiLCAwLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMCwgMCksIDMwMCwgXCJlYXNlSW5PdXRcIiwgbnVsbCk7XG4gICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcIm9wYWNpdHlcIiwgMCwgMzAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwicmFkaXVzXCIsIDAsIDMwMCwgXCJlYXNlSW5PdXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB0cmFkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHRoaXMucG9zdERyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMuZHJhd2FibGUuc2hvdykge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSAqPSB0aGlzLmRyYXdhYmxlLm9wYWNpdHk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHRoaXMuZHJhd2FibGUucG9zLngsIHRoaXMuZHJhd2FibGUucG9zLnkpO1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYWRlcnNbaV0ucG9zdERyYXcoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMuY2xpY2tlZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSA9IDAsIGwgPSAwLCB0ID0gbnVsbCwgbWUgPSB0aGlzO1xuICAgICAgICBpZighdGhpcy5vcGVuKSB7XG4gICAgICAgICAgICBmb3IobCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy50cmFkZXJzW2ldO1xuICAgICAgICAgICAgICAgIHQuZHJhd2FibGUuc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdC5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG5ldyBWZWN0b3IyRCgwLCB0aGlzLmRyYXdhYmxlLnJhZGl1cyArIHQuZHJhd2FibGUucmFkaXVzICsgMTUpLCAzMDAsIFwiZWFzZUluT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwidGV4dFBhZGRpbmdcIiwgbmV3IFZlY3RvcjJEKDAsIDApLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgxMCwgMTApLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5kcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMCwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0UmVwbGFjZVwiLCAxNSwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDAsIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiIzJDM0U1MFwiO1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLnNldFRleHQobWUuc3RvY2tQcmljZS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7IHN0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgICAgICAgICAgbWUub3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDEwLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLnNob3cgPSBmYWxzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IobCA9IHRoaXMudHJhZGVycy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0ID0gdGhpcy50cmFkZXJzW2ldO1xuICAgICAgICAgICAgICAgIGlmKHQub3Blbikge1xuICAgICAgICAgICAgICAgICAgICB0LmNsaWNrZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdC5kcmF3YWJsZS5hbmltYXRlVmVjdG9yKFwicG9zXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMzAwLCBcImVhc2VJbk91dFwiLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZVZlY3RvcihcInRleHRQYWRkaW5nXCIsIG5ldyBWZWN0b3IyRCgwLCAwKSwgMTUwLCBcImVhc2VJblwiLCBmdW5jdGlvbihkb25lLCBkcmF3YWJsZSkge1xuICAgICAgICAgICAgICAgIGRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJ0ZXh0UGFkZGluZ1wiLCBuZXcgVmVjdG9yMkQoMTAsIDEwKSwgMTUwLCBcImVhc2VPdXRcIiwgbnVsbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd2FibGUuYW5pbWF0ZShcInRleHRSZXBsYWNlXCIsIDAsIDE1MCwgXCJlYXNlSW5cIiwgZnVuY3Rpb24oZG9uZSwgZHJhd2FibGUpIHtcbiAgICAgICAgICAgICAgICBkcmF3YWJsZS5hbmltYXRlKFwidGV4dFJlcGxhY2VcIiwgMTUsIDE1MCwgXCJlYXNlT3V0XCIsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLmFuaW1hdGUoXCJ0ZXh0U2l6ZVwiLCAwLCAxNTAsIFwiZWFzZUluXCIsIGZ1bmN0aW9uKGRvbmUsIGRyYXdhYmxlKSB7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuc2V0VGV4dChtZS5kaWZmZXJlbmNlLnRvTG9jYWxlU3RyaW5nKCdiZS1OTCcsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pKTtcbiAgICAgICAgICAgICAgICBpZihtZS5kaWZmZXJlbmNlID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZHJhd2FibGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkcmF3YWJsZS50ZXh0QmFja2dyb3VuZCA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtZS5vcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZHJhd2FibGUuYW5pbWF0ZShcInRleHRTaXplXCIsIDEwLCAxNTAsIFwiZWFzZU91dFwiLCBudWxsKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMucmVxdWVzdFJlZHJhdyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGhpcy50cmFkZXJzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodGhpcy50cmFkZXJzW2ldLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMudHJhZGVyc1tpXS5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5kcmF3YWJsZS5yZXF1ZXN0UmVkcmF3KSB7XG4gICAgICAgICAgICB0aGlzLmRyYXdhYmxlLnJlcXVlc3RSZWRyYXcgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xufTsiLCJ2YXIgdHJhZGVDYW52YXMgPSBmdW5jdGlvbigpIHtcbiAgICBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKSAhPT0gbnVsbCkge1xuICAgICAgICB2YXIgdHJhZGVzID0gW107XG4gICAgICAgIHZhciB0cmFkZXJzID0gW107XG4gICAgICAgIHZhciBwcm9maWxlID0gbmV3IERyYXdhYmxlKCk7XG4gICAgICAgIHZhciB0cmFzaCA9IG5ldyBEcmF3YWJsZSgpO1xuICAgICAgICB2YXIgbG9nb3MgPSBbXCJsb2dvMC5zdmdcIiwgXCJsb2dvMS5zdmdcIiwgXCJsb2dvMi5zdmdcIiwgXCJsb2dvMy5zdmdcIiwgXCJsb2dvNC5zdmdcIl07XG4gICAgICAgIHZhciBwZW9wbGUgPSBbW1wiQ3JhenkgSGVmZmVcIiwgXCJ0cmFkZXIwLmpwZ1wiXSwgW1wiTWFyaW5vIEhvc3Rpbm9cIiwgXCJ0cmFkZXIxLmpwZ1wiXSwgW1wiTmljb2xzaCBMYXZhbmRhXCIsIFwidHJhZGVyMi5qcGdcIl0sIFtcInhYcm9ia2U2OVh4XCIsIFwidHJhZGVyMy5qcGdcIl1dO1xuXG4gICAgICAgIHByb2ZpbGUuc2V0SW1hZ2UoXCJkaXN0L2ltYWdlcy9wcm9maWxlcy9wcm9maWxlLmpwZ1wiKTtcbiAgICAgICAgcHJvZmlsZS5yYWRpdXMgPSAxMDA7XG4gICAgICAgIHByb2ZpbGUuY29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgcHJvZmlsZS5ib3JkZXJDb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICBwcm9maWxlLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICAgICAgcHJvZmlsZS5ib3JkZXJXaWR0aCA9IDI7XG4gICAgICAgIHByb2ZpbGUudGV4dFNpemUgPSAxMjtcbiAgICAgICAgcHJvZmlsZS50ZXh0Q29sb3IgPSBcIiNmZmZmZmZcIjtcbiAgICAgICAgcHJvZmlsZS50ZXh0Rm9udCA9IFwiU291cmNlU2Fuc1Byb1wiO1xuICAgICAgICBwcm9maWxlLnRleHRBbmNob3IgPSBuZXcgVmVjdG9yMkQoMC41LCAwLjUpO1xuICAgICAgICBwcm9maWxlLnRleHRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMC41KTtcbiAgICAgICAgcHJvZmlsZS50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgxMCwgMTApO1xuICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlID0gMTU7XG5cbiAgICAgICAgdHJhc2guc2V0SW1hZ2UoXCJkaXN0L2ltYWdlcy9taXNjL3RyYXNoLnN2Z1wiKTtcbiAgICAgICAgdHJhc2gucmFkaXVzID0gNTA7XG4gICAgICAgIHRyYXNoLmNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgICAgIHRyYXNoLmJvcmRlckNvbG9yID0gXCIjZWVlZWVlXCI7XG4gICAgICAgIHRyYXNoLmJvcmRlclNjYWxpbmcgPSBmYWxzZTtcbiAgICAgICAgdHJhc2guYm9yZGVyV2lkdGggPSAyO1xuICAgICAgICB0cmFzaC5wb3MgPSBuZXcgVmVjdG9yMkQod2luZG93LmlubmVyV2lkdGggLSAxMDAsIHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCk7XG5cbiAgICAgICAgZm9yKHZhciBqID0gMDsgaiA8IDQ7IGorKykge1xuICAgICAgICAgICAgdmFyIGFtb3VudCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwKTtcbiAgICAgICAgICAgIHZhciBpbkF0ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIDIwMDAwKSkgLyAxMDA7XG4gICAgICAgICAgICB2YXIgdHlwZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xuICAgICAgICAgICAgdmFyIHRyYWRlciA9IFthbW91bnQsIGluQXQsIHR5cGVdO1xuICAgICAgICAgICAgdHJhZGVycy5wdXNoKHRyYWRlcik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpZmYgPSAwO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogNCk7XG4gICAgICAgICAgICB2YXIgcHBsID0gW107XG4gICAgICAgICAgICB2YXIgc3RvY2tQcmljZSA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiAyMDApICogMTAwKSAvIDEwMDtcbiAgICAgICAgICAgIGZvcih2YXIgayA9IDA7IGsgPCByOyBrKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IG5ldyBUcmFkZXIocGVvcGxlW2tdWzBdLCB0cmFkZXJzW2tdWzBdLCB0cmFkZXJzW2tdWzFdLCB0cmFkZXJzW2tdWzJdLCBcIlRoaXMgbG9va3MgZ29vZCFcXG5JIGNhbiBldmVuIHB1dCBhIHNlY29uZCBsaW5lXFxuXFxuQW5kIGV2ZW4gbW9yZVwiKTtcbiAgICAgICAgICAgICAgICB0LmRyYXdhYmxlLnNldEltYWdlKFwiZGlzdC9pbWFnZXMvcHJvZmlsZXMvXCIgKyBwZW9wbGVba11bMV0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHQucGVyY2VudGFnZSA9IChNYXRoLnJhbmRvbSgpICogMC40KSArIDAuMTtcbiAgICAgICAgICAgICAgICBwcGwucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFkZSA9IG5ldyBUcmFkZShzdG9ja1ByaWNlLCBwcGwsIG51bGwpO1xuICAgICAgICAgICAgZGlmZiArPSB0cmFkZS5kaWZmZXJlbmNlO1xuICAgICAgICAgICAgdHJhZGUuZHJhd2FibGUuc2V0SW1hZ2UoXCJkaXN0L2ltYWdlcy9sb2dvcy9cIiArIGxvZ29zW2ldLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFkZXMucHVzaCh0cmFkZSk7XG4gICAgICAgIH1cbiAgICAgICAgdHJhZGVzLnB1c2gocHJvZmlsZSk7XG4gICAgICAgIHRyYWRlcy5wdXNoKHRyYXNoKTtcbiAgICAgICAgaWYoZGlmZiA+PSAwKSB7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRCYWNrZ3JvdW5kID0gXCIjMzZCNURCXCI7XG4gICAgICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByb2ZpbGUudGV4dEJhY2tncm91bmQgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgIHByb2ZpbGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICB9XG4gICAgICAgIHByb2ZpbGUuc2V0VGV4dCgoTWF0aC5mbG9vcihkaWZmICogMTAwKSAvIDEwMCkudG9Mb2NhbGVTdHJpbmcoJ2JlLU5MJywge3N0eWxlOiAnY3VycmVuY3knLCBjdXJyZW5jeTogJ0VVUid9KSk7XG4gICAgICAgIHZhciBjYW52YXMgPSBuZXcgQ2FudmFzKDAsIDUwLCB3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0IC0gNTAsIFwidHJhZGVzXCIsIHRyYWRlcyk7XG4gICAgICAgIGNhbnZhcy5kcmF3Q2FsbGJhY2sgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBkaWZmID0gMDtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBjYW52YXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgY2FudmFzLm9iamVjdHNbaV0uZGlmZmVyZW5jZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgZGlmZiArPSBjYW52YXMub2JqZWN0c1tpXS5kaWZmZXJlbmNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGRpZmYgPj0gMCkge1xuICAgICAgICAgICAgICAgIHByb2ZpbGUudGV4dEJhY2tncm91bmQgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgICAgICBwcm9maWxlLnRleHRSZXBsYWNlQ29sb3IgPSBcIiMzNkI1REJcIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHJvZmlsZS50ZXh0QmFja2dyb3VuZCA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgICAgIHByb2ZpbGUudGV4dFJlcGxhY2VDb2xvciA9IFwiI0U3NEMzQ1wiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvZmlsZS5zZXRUZXh0KChNYXRoLmZsb29yKGRpZmYgKiAxMDApIC8gMTAwKS50b0xvY2FsZVN0cmluZygnYmUtTkwnLCB7c3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJ30pKTtcbiAgICAgICAgfTtcbiAgICAgICAgcHJvZmlsZS5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdJbWFnZUluQ2lyY2xlKGN0eCk7XG4gICAgICAgICAgICB0aGlzLmRyYXdCb3JkZXJGb3JDaXJjbGUoY3R4LCBzY2FsZSk7XG4gICAgICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgc2NhbGUpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFzaC5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zKSB7XG4gICAgICAgICAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKGNhbnZhcy5tYXJnaW4pLnN1YlZlY3Rvcih0aGlzLnBvcyk7XG4gICAgICAgICAgICB2YXIgZGlmZmVyZW5jZSA9IHRoaXMucmFkaXVzICogY2FudmFzLnNjYWxlO1xuICAgICAgICAgICAgcmV0dXJuIChtb3VzZURpZmZlcmVuY2UubGVuZ3RoKCkgPD0gZGlmZmVyZW5jZSAmJiB0aGlzLnNob3cpO1xuICAgICAgICB9O1xuICAgICAgICB0cmFzaC5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICAgICAgdmFyIHAgPSB0aGlzLnBvcy5zdWJWZWN0b3IoY2FudmFzLm9mZnNldCkuc3ViVmVjdG9yKGNhbnZhcy5jZW50ZXIpLm11bCgxIC8gY2FudmFzLnNjYWxlKTtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHgudHJhbnNsYXRlKHAueCwgcC55KTtcbiAgICAgICAgICAgIHRoaXMuZHJhd0NpcmNsZShjdHgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3SW1hZ2VJbkNpcmNsZShjdHgpO1xuICAgICAgICAgICAgdGhpcy5kcmF3Qm9yZGVyRm9yQ2lyY2xlKGN0eCwgc2NhbGUpO1xuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBpbnRlcmFjdGlvblN0YXJ0KGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25TdGFydCh0b3VjaCk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgaW50ZXJhY3Rpb25TdGFydCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvblN0YXJ0KGUsIGZ1bmN0aW9uKG9iamVjdCwgbW91c2VQb3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXg7XG4gICAgICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXggPSBjYW52YXMub2JqZWN0cy5pbmRleE9mKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgIGNhbnZhcy5vYmplY3RzLnB1c2goY2FudmFzLm9iamVjdHMuc3BsaWNlKGluZGV4LCAxKVswXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUucmV0dXJuUG9zID0gb2JqZWN0LmRyYXdhYmxlLnBvcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYob2JqZWN0ID09PSBcInNlbGZcIikge1xuICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGNhbnZhcy5vYmplY3RzLmluZGV4T2YodHJhc2gpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0cy5wdXNoKHRyYXNoKTtcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzLmRyYXcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FudmFzLnNlbGVjdGVkID0gb2JqZWN0O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5tb3VzZVBvcyA9IG1vdXNlUG9zO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhZGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgaW50ZXJhY3Rpb25Nb3ZlKGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0cmFkZXNcIikuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvbk1vdmUodG91Y2gpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uTW92ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvbk1vdmUoZSwgZnVuY3Rpb24ob2JqZWN0LCBtb3VzZVBvcywgZGlmZmVyZW5jZSkge1xuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgIG9iamVjdC5kcmF3YWJsZS5vcGFjaXR5ID0gMC41O1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUucG9zID0gbW91c2VQb3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLnBvcyA9IG9iamVjdC5kcmF3YWJsZS5wb3MuYWRkVmVjdG9yKGRpZmZlcmVuY2Uucm90YXRlKC1vYmplY3QuZHJhd2FibGUucm90YXRpb24pLm11bCgxIC8gY2FudmFzLnNjYWxlKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRyYXNoLmludGVyYWN0aW9uKG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJhc2guY29sb3IgPSBcIiNFNzRDM0NcIjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0cmFzaC5jb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhZGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGludGVyYWN0aW9uU3RvcChlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidHJhZGVzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgdG91Y2ggPSBlLnRvdWNoZXNbMF07XG4gICAgICAgICAgICBpbnRlcmFjdGlvblN0b3AodG91Y2gpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGludGVyYWN0aW9uU3RvcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIGNhbnZhcy5pbnRlcmFjdGlvblN0b3AoZnVuY3Rpb24oY2xpY2ssIG9iamVjdCkge1xuICAgICAgICAgICAgICAgIHZhciBpLCBsO1xuICAgICAgICAgICAgICAgIGlmKGNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBsID0gY2FudmFzLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbnZhcy5vYmplY3RzW2ldLm9wZW4gJiYgY2FudmFzLm9iamVjdHNbaV0gIT09IG9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0c1tpXS5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdCA9PT0gXCJzZWxmXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGwgPSBjYW52YXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FudmFzLm9iamVjdHNbaV0ub3Blbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXMub2JqZWN0c1tpXS5jbGlja2VkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZiBvYmplY3QuY2xpY2tlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmNsaWNrZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKG9iamVjdCBpbnN0YW5jZW9mIFRyYWRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0cmFzaC5pbnRlcmFjdGlvbihuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRlbGV0ZShjYW52YXMub2JqZWN0cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYob2JqZWN0IGluc3RhbmNlb2YgVHJhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZHJhd2FibGUub3BhY2l0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvYmplY3QuZHJhd2FibGUucmV0dXJuUG9zLmxlbmd0aCgpICE9PSBvYmplY3QuZHJhd2FibGUucG9zLmxlbmd0aCgpICYmIG9iamVjdC5kcmF3YWJsZS5yZXR1cm5Qb3MueCAhPT0gb2JqZWN0LmRyYXdhYmxlLnBvcy54KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqZWN0LmRyYXdhYmxlLmFuaW1hdGVWZWN0b3IoXCJwb3NcIiwgb2JqZWN0LmRyYXdhYmxlLnJldHVyblBvcywgNTAwLCBcImVhc2VJbk91dFwiLCBudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHRyYXNoLmludGVyYWN0aW9uKG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmplY3QuZGVsZXRlKGNhbnZhcy5vYmplY3RzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFzaC5jb2xvciA9IFwiI2VlZWVlZVwiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwid2hlZWxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2Nyb2xsSW50ZXJhY3Rpb24oZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRyYWRlc1wiKS5hZGRFdmVudExpc3RlbmVyKFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgc2Nyb2xsSW50ZXJhY3Rpb24oZSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgc2Nyb2xsSW50ZXJhY3Rpb24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgZGVsdGEgPSAwO1xuICAgICAgICAgICAgaWYodHlwZW9mIGUud2hlZWxEZWx0YSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICBkZWx0YSA9IGUud2hlZWxEZWx0YSAvIDMwMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVsdGEgPSAtZS5kZXRhaWwgLyA1MDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzY2FsZSA9IGNhbnZhcy5zY2FsZSArIGRlbHRhO1xuICAgICAgICAgICAgaWYoc2NhbGUgPiAxLjgpIHtcbiAgICAgICAgICAgICAgICBzY2FsZSA9IDEuODtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHNjYWxlIDwgMC40KSB7XG4gICAgICAgICAgICAgICAgc2NhbGUgPSAwLjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzY2FsZSA9IE1hdGguZmxvb3Ioc2NhbGUgKiAxMDApIC8gMTAwO1xuICAgICAgICAgICAgY2FudmFzLnNjYWxlID0gc2NhbGU7XG4gICAgICAgICAgICB0cmFzaC5yYWRpdXMgPSA1MCAvIGNhbnZhcy5zY2FsZTtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2NhbGVDYW52YXNcIikudmFsdWUgPSBjYW52YXMuc2NhbGU7XG4gICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICB9O1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNjYWxlQ2FudmFzXCIpLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjYW52YXMuc2NhbGUgPSBwYXJzZUZsb2F0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgdHJhc2gucmFkaXVzID0gNTAgLyBjYW52YXMuc2NhbGU7XG4gICAgICAgICAgICBjYW52YXMuZHJhdygpO1xuICAgICAgICB9KTtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXNldE9mZnNldFwiKS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjYW52YXMubW92ZVRvQ2VudGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNhbnZhcy5zZXRTaXplKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQgLSA1MCk7XG4gICAgICAgICAgICB0cmFzaC5wb3MgPSBuZXcgVmVjdG9yMkQod2luZG93LmlubmVyV2lkdGggLSAxMDAsIHdpbmRvdy5pbm5lckhlaWdodCAtIDE1MCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
