Math.square=function(t){return t*t},Math.toRadians=function(t){return t*Math.PI/180},Math.toDegrees=function(t){return 180*t/Math.PI};var Vector2D=function(t,i){this.x=t,this.y=i};Vector2D.prototype={length:function(){return Math.sqrt(Math.square(this.x)+Math.square(this.y))},dot:function(t){return this.x*t.x+this.y*t.y},normalize:function(){var t=this.length();this.x/=t,this.y/=t},add:function(t){return new Vector2D(this.x+t,this.y+t)},addVector:function(t){return new Vector2D(this.x+t.x,this.y+t.y)},sub:function(t){return new Vector2D(this.x-t,this.y-t)},subVector:function(t){return new Vector2D(this.x-t.x,this.y-t.y)},mul:function(t){return new Vector2D(this.x*t,this.y*t)},mulVector:function(t){return new Vector2D(this.x*t.x,this.y*t.y)},div:function(t){return new Vector2D(this.x/t,this.y/t)},divVector:function(t){return new Vector2D(this.x/t.x,this.y/t.y)},rotate:function(t){var i=Math.toRadians(t),e=Math.cos(i),s=Math.sin(i);return new Vector2D(this.x*e-this.y*s,this.x*s+this.y*e)}};var Animation=function(t,i,e,s,h,o){this.element=t,this.from=i,this.difference=e-i,this.easing=h,this.cb=o,this.pos=0,this.end=s/10,this.timer=null};Animation.prototype.start=function(t){var i=this;this.timer=setInterval(function(){i.pos++;var e=0;switch(i.easing){case"linear":e=i.linear(i.difference,i.pos,i.end,i.from);break;case"easeIn":e=i.easeIn(i.difference,i.pos,i.end,i.from);break;case"easeOut":e=i.easeOut(i.difference,i.pos,i.end,i.from);break;case"easeInOut":e=i.easeInOut(i.difference,i.pos,i.end,i.from)}t(e),i.pos>=i.end&&(clearInterval(i.timer),i.timer=null,i.pos=0,"function"==typeof i.cb&&i.cb(!0,i.element))},10)},Animation.prototype.stop=function(){clearInterval(this.timer),this.timer=null,"function"==typeof this.cb&&this.cb(!1,this.element)},Animation.prototype.linear=function(t,i,e,s){return t*i/e+s},Animation.prototype.easeIn=function(t,i,e,s){return i/=e,t*i*i+s},Animation.prototype.easeOut=function(t,i,e,s){return i/=e,-t*i*(i-2)+s},Animation.prototype.easeInOut=function(t,i,e,s){return i/=e/2,1>i?t/2*i*i+s:(i--,-t/2*(i*(i-2)-1)+s)};var Paragraph=function(t){this.parts=[],this.checkForStyle(t,"[i]","[/i]","italic")||this.checkForStyle(t,"[b]","[/b]","bold")||this.checkForStyle(t,"[size=","[/size]","size")||this.checkForStyle(t,"[font=","[/font]","font")||this.checkForStyle(t,"[align=","[/align]","align")||this.checkForStyle(t,"[color=","[/color]","color")||(this.parts=[t])};Paragraph.prototype.getFont=function(t,i,e,s){return"undefined"!=typeof this.italic&&(t=this.italic),"undefined"!=typeof this.bold&&(i=this.bold),"undefined"!=typeof this.size&&(e=this.size),"undefined"!=typeof this.font&&(s=this.font),[t,i,e,s]},Paragraph.prototype.fontToText=function(t,i,e,s){var h="";return t&&(h+="italic "),i&&(h+="bold "),h+=e+"pt "+s},Paragraph.prototype.draw=function(t,i,e,s,h,o,n,r,a,c,l){var u=this.getFont(e,s,h,o),f=c.x;if("undefined"!=typeof this.align&&(n=this.align),"undefined"!=typeof this.color&&(r=this.color),1===this.parts.length)a||(u[2]*=1/i),"center"===n&&(c=c.addVector(new Vector2D(l,0).mul(.5))),"right"===n&&(c=c.addVector(new Vector2D(l,0))),t.font=this.fontToText(u[0],u[1],u[2],u[3]),t.textAlign=n,t.fillStyle=r,t.fillText(this.parts[0],c.x,c.y);else{for(var d=0,g=this.parts.length;g>d;d++)if("function"==typeof this.parts[d].draw&&this.parts[d].draw(t,i,u[0],u[1],u[2],u[3],n,r,a,c,l),1===this.parts[d].length&&"function"==typeof this.parts[d].measure){var x=this.parts[d].measure(t,i,u[0],u[1],u[2],u[3],a);c.x+=x.x}c.x=f}},Paragraph.prototype.measure=function(t,i,e,s,h,o,n){var r=new Vector2D(0,0),a=this.getFont(e,s,h,o);if(1===this.parts.length)n||(a[2]*=1/i),t.font=this.fontToText(a[0],a[1],a[2],a[3]),r.y=a[2],r.x=t.measureText(this.parts[0]).width;else for(var c=0,l=this.parts.length;l>c;c++)if("function"==typeof this.parts[c].measure){var u=this.parts[c].measure(t,i,a[0],a[1],a[2],a[3],n);u.y>r.y&&(r.y=u.y),r.x+=u.x}return r},Paragraph.prototype.checkForStyle=function(t,i,e,s){var h=t.split(i);if(h.length>=2){var o=h.shift();o.length>0&&this.parts.push(o);for(var n=0,r=h.length;r>n;n++){var a=h[n].split(e),c=new Paragraph(a[0]);if(i.indexOf("=")>-1){a[0]=a[0].split("]");var l=a[0].shift();a[0]=a[0][0]}switch(0===a[1].length&&0===o.length?(this.parts=[a[0]],c=this):0===a[1].length?this.parts.push(c):(this.parts.push(c),this.parts.push(new Paragraph(a[1]))),s){case"italic":c.italic=!0;break;case"bold":c.bold=!0;break;case"size":c.size=l;break;case"font":c.font=l;break;case"align":c.align=l;break;case"color":c.color=l}}return!0}return!1};var Drawable=function(){this.color="#000000",this.img=null,this.imgFill=!0,this.borderColor="#000000",this.borderWidth=0,this.borderScaling=!0,this.text=[],this.textItalic=!1,this.textBold=!1,this.textSize=0,this.textMinSize=6,this.textFont="Arial",this.textAlign="left",this.textColor="#000000",this.textPos=new Vector2D(0,0),this.textAnchor=new Vector2D(0,0),this.textBackground=null,this.textReplace=20,this.textReplaceColor=null,this.textSpacing=1.2,this.textPadding=new Vector2D(0,0),this.textScaling=!0,this.pos=new Vector2D(0,0),this.radius=0,this.size=new Vector2D(0,0),this.show=!0,this.requestRedraw=!1,this.animations=[],this.drawRectangle=function(t){t.fillStyle=this.color;var i=new Vector2D(0,0).subVector(this.size.div(2));t.fillRect(i.x,i.y,this.size.x,this.size.y)},this.drawImage=function(t){if(null!==this.img){var i=0;i=this.imgFill?this.img.width>this.img.height?this.img.height:this.img.width:this.img.width>this.img.height?this.img.width:this.img.height;var e=new Vector2D(this.img.width,this.img.height).div(i).mulVector(this.size).subVector(this.size).mul(-.5),s=new Vector2D(0,0).subVector(this.size.div(2));t.drawImage(this.img,e.x,e.y,this.size.x,this.size.y,s.x,s.y,this.size.x,this.size.y)}else console.log("[DRAWABLE][drawImage]: Could not draw image for",this,"since this.img is null")},this.drawBorder=function(t,i){t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e;var s=new Vector2D(0,0).subVector(this.size.div(2));t.strokeRect(s.x,s.y,this.size.x,this.size.y)},this.drawCircle=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},this.drawImageInCircle=function(t){if(null!==this.img){t.save(),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!0),t.clip();var i=1,e=new Vector2D(0,0).sub(this.radius),s=new Vector2D(this.radius,this.radius).mul(2),h=new Vector2D(0,0);if(this.imgFill)i=this.img.width>this.img.height?this.img.height:this.img.width,h=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(i).div(2);else{i=this.img.width>this.img.height?this.img.width:this.img.height;var o=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(-1);0!==o.x&&(o.x=1),0!==o.y&&(o.y=1),s=new Vector2D(this.img.width,this.img.height).div(i).mulVector(s),e=e.subVector(o.mulVector(s).div(2)),e=e.addVector(o.mul(this.radius))}t.drawImage(this.img,h.x,h.y,this.img.width-2*h.x,this.img.height-2*h.y,e.x,e.y,s.x,s.y),t.closePath(),t.restore()}else console.log("[DRAWABLE][drawImageInCircle]: Could not draw image for",this,"since this.img is null")},this.drawBorderForCircle=function(t,i){t.beginPath(),t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e,t.arc(0,0,this.radius,0,2*Math.PI,!0),t.stroke(),t.closePath()},this.drawText=function(t,i){if(null!==this.text){var e=this.textSize;if(this.textScaling&&(e*=i),e>=this.textMinSize){var s=0,h=0,o=0,n=0,r=new Vector2D(0,0);for(n=this.text.length;n>o;o++){var a=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling);if(a.x>s&&(s=a.x),h+=a.y,n-o>1){var c=this.textSpacing*this.textSize;this.textScaling||(c*=1/i),h+=c}}if(null!==this.textBackground){t.fillStyle=this.textBackground;var l=this.textPadding;this.textScaling||(l=l.mul(1/i));var u=l.mul(2).addVector(new Vector2D(s,h)),f=this.textPos;0!==this.radius&&(f=f.mul(this.radius)),0!==this.size.length()&&(f=f.mulVector(this.size));var d=f.subVector(u.mulVector(this.textAnchor));t.fillRect(d.x,d.y,u.x,u.y),r=d.addVector(l)}for(o=0,n=this.text.length;n>o;o++){t.fillStyle=this.textColor;var g=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling).y,x=this.textSpacing*this.textSize;this.textScaling||(x*=1/i),g+=x,this.text[o].draw(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textAlign,this.textColor,this.textScaling,r,s),r=r.addVector(new Vector2D(0,g))}}else if(null!==this.textReplaceColor){t.fillStyle=this.textReplaceColor;var m;this.textReplace instanceof Vector2D?(m=this.textPos.mulVector(this.size).subVector(this.textReplace.mulVector(this.textAnchor)),t.fillRect(m.x,m.y,this.textReplace.x,this.textReplace.y)):this.textReplace>0&&(m=this.textPos.mul(this.radius).subVector(this.textAnchor.sub(.5).mul(this.textReplace)),t.beginPath(),t.arc(m.x,m.y,this.textReplace,0,2*Math.PI,!1),t.closePath(),t.fill())}}else console.log("[DRAWABLE][drawText]: Could not draw text for",this,"since this.text is null")},this.animate=function(t,i,e,s,h){var o=new Animation(this,this[t],i,e,s,h);this.animations.push(o);var n=this;return o.start(function(i){n[t]=i,n.requestRedraw=!0}),o},this.animateVector=function(t,i,e,s,h){var o=this,n=new Animation(this,this[t].x,i.x,e,s,h),r=new Animation(this,this[t].y,i.y,e,s,h);this.animations.push(n),this.animations.push(r),n.start(function(i){o[t].x=i,o.requestRedraw=!0}),r.start(function(i){o[t].y=i,o.requestRedraw=!0})},this.stopAnimation=function(t){t.stop();var i=this.animations.indexOf(t);i>-1&&this.animations.splice(i,1)},this.stopAnimating=function(){for(var t=this.animations.length-1;t>=0;t--)this.animations[t].stop();this.animations=[]}};Drawable.prototype.setImage=function(t,i){this.img=new Image,this.img.src=t,"function"==typeof i&&this.show&&(this.img.onload=i)},Drawable.prototype.setText=function(t){for(var i=t.split("\n"),e=0,s=i.length;s>e;e++)this.text.push(new Paragraph(i[e]))},Drawable.prototype.interaction=function(t,i){var e=t.subVector(this.pos.mul(i)),s=0;return 0!==this.radius&&(s=this.radius*i),0!==this.size.length()&&(s=this.size.length()*i),e.length()<=s&&this.show?this:!1};var Canvas=function(t,i,e,s,h,o){this.width=e,this.height=s,this.margin=new Vector2D(t,i),this.ctx=document.getElementById(h).getContext("2d"),this.ctx.canvas.width=e,this.ctx.canvas.height=s,this.center=new Vector2D(e/2,s/2),this.offset=new Vector2D(0,0),this.scale=1,this.objects=o,this.selected=null,this.startPos=new Vector2D(0,0),this.mousePos=new Vector2D(0,0),this.focus=null,this.movingCanvas=null;var n=this;setInterval(function(){for(var t=!1,i=0,e=n.objects.length;e>i;i++)"function"==typeof n.objects[i].requestRedraw?n.objects[i].requestRedraw()&&(t=!0):n.objects[i].requestRedraw&&(t=!0,n.objects[i].requestRedraw=!1);t&&n.draw()},10)};Canvas.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},Canvas.prototype.draw=function(t){this.clear(),this.ctx.save(),this.ctx.textBaseline="hanging";var i=this.center.addVector(this.offset);this.ctx.setTransform(this.scale,0,0,this.scale,i.x,i.y);var e,s;for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].preDraw&&this.objects[e].preDraw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)this.objects[e].draw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].postDraw&&this.objects[e].postDraw(this.ctx,this.scale);this.ctx.restore(),"function"==typeof t&&t()},Canvas.prototype.findObjectOnCanvas=function(t){for(var i=!1,e=this.objects.length-1;e>=0;e--){var s=this.objects[e].interaction(this.mousePos,this.scale);if(s!==!1){t(s),i=!0;break}}i||t(null)},Canvas.prototype.moveToCenter=function(t){if(null===this.movingCanvas){var i=this;this.movingCanvas=setInterval(function(){0===i.offset.x&&0===i.offset.y&&(clearInterval(i.movingCanvas),i.movingCanvas=null);var e=i.offset;e=e.div(30),i.offset=i.offset.subVector(e),Math.abs(i.offset.x)<=1&&(i.offset.x=0),Math.abs(i.offset.y)<=1&&(i.offset.y=0),"function"==typeof t&&t(),i.draw()},10)}},Canvas.prototype.interactionStart=function(t,i){clearInterval(this.movingCanvas),this.movingCanvas=null,this.mousePos=new Vector2D(t.pageX,t.pageY),this.mousePos=this.mousePos.subVector(this.margin),this.mousePos=this.mousePos.subVector(this.center),this.mousePos=this.mousePos.subVector(this.offset);var e=this.mousePos,s=this.offset;this.findObjectOnCanvas(function(t){var h=t;null===h&&(h="self",e=e.addVector(s)),"function"==typeof i&&i(h,e)})},Canvas.prototype.interactionMove=function(t,i){var e=new Vector2D(t.pageX,t.pageY);e=e.subVector(this.margin),e=e.subVector(this.center);var s=e.subVector(this.mousePos);this.mousePos=e,"self"===this.selected?(this.offset=this.offset.addVector(s),this.draw()):null!==this.selected&&(this.startPos=this.startPos.addVector(s),this.mousePos=this.mousePos.subVector(this.offset),i(this.selected,this.mousePos.mul(1/this.scale)))},Canvas.prototype.interactionStop=function(t){t(this.startPos.length()<=10?this.selected:null),this.startPos=new Vector2D(0,0),this.selected=null,this.mousePos=new Vector2D(0,0)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGguanMiLCJhbmltYXRpb24uanMiLCJwYXJhZ3JhcGguanMiLCJkcmF3YWJsZS5qcyIsImNhbnZhcy5qcyJdLCJuYW1lcyI6WyJNYXRoIiwic3F1YXJlIiwieCIsInRvUmFkaWFucyIsIlBJIiwidG9EZWdyZWVzIiwiVmVjdG9yMkQiLCJ5IiwidGhpcyIsInByb3RvdHlwZSIsImxlbmd0aCIsInNxcnQiLCJkb3QiLCJ2MiIsIm5vcm1hbGl6ZSIsImwiLCJhZGQiLCJ6IiwiYWRkVmVjdG9yIiwic3ViIiwic3ViVmVjdG9yIiwibXVsIiwibXVsVmVjdG9yIiwiZGl2IiwiZGl2VmVjdG9yIiwicm90YXRlIiwiYW5nbGUiLCJyIiwiY29zIiwic2luIiwiQW5pbWF0aW9uIiwiZWxlbWVudCIsImZyb20iLCJnb2FsIiwidGltZSIsImVhc2luZyIsImNiIiwiZGlmZmVyZW5jZSIsInBvcyIsImVuZCIsInRpbWVyIiwic3RhcnQiLCJtZSIsInNldEludGVydmFsIiwidmFsIiwibGluZWFyIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImNsZWFySW50ZXJ2YWwiLCJzdG9wIiwiYyIsInQiLCJkIiwiYiIsIlBhcmFncmFwaCIsInRleHQiLCJwYXJ0cyIsImNoZWNrRm9yU3R5bGUiLCJnZXRGb250IiwiaXRhbGljIiwiYm9sZCIsInNpemUiLCJmb250IiwiZm9udFRvVGV4dCIsImRyYXciLCJjdHgiLCJzY2FsZSIsImFsaWduIiwiY29sb3IiLCJzY2FsaW5nIiwid2lkdGgiLCJmIiwidGV4dEFsaWduIiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJpIiwibWVhc3VyZSIsInMiLCJtZWFzdXJlVGV4dCIsInBhcnRTaXplIiwib3BlbmluZyIsImNsb3NpbmciLCJzdHlsZSIsInRlbXAiLCJzcGxpdCIsInNoaWZ0IiwicHVzaCIsInAiLCJzdHlsZWQiLCJpbmRleE9mIiwidiIsIkRyYXdhYmxlIiwiaW1nIiwiaW1nRmlsbCIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJTY2FsaW5nIiwidGV4dEl0YWxpYyIsInRleHRCb2xkIiwidGV4dFNpemUiLCJ0ZXh0TWluU2l6ZSIsInRleHRGb250IiwidGV4dENvbG9yIiwidGV4dFBvcyIsInRleHRBbmNob3IiLCJ0ZXh0QmFja2dyb3VuZCIsInRleHRSZXBsYWNlIiwidGV4dFJlcGxhY2VDb2xvciIsInRleHRTcGFjaW5nIiwidGV4dFBhZGRpbmciLCJ0ZXh0U2NhbGluZyIsInJhZGl1cyIsInNob3ciLCJyZXF1ZXN0UmVkcmF3IiwiYW5pbWF0aW9ucyIsImRyYXdSZWN0YW5nbGUiLCJmaWxsUmVjdCIsImRyYXdJbWFnZSIsImhlaWdodCIsImNsaXAiLCJjb25zb2xlIiwibG9nIiwiZHJhd0JvcmRlciIsInN0cm9rZVN0eWxlIiwiYnJkdyIsImxpbmVXaWR0aCIsInN0cm9rZVJlY3QiLCJkcmF3Q2lyY2xlIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsImRyYXdJbWFnZUluQ2lyY2xlIiwic2F2ZSIsInJhdGlvIiwicmVzdG9yZSIsImRyYXdCb3JkZXJGb3JDaXJjbGUiLCJzdHJva2UiLCJkcmF3VGV4dCIsInciLCJoIiwicGFyYWdyYXBoUG9zIiwicGFyYWdyYXBoU2l6ZSIsInNwYWNpbmciLCJwYWRkaW5nIiwiYmxvY2tTaXplIiwidHh0UG9zIiwiYmxvY2tQb3MiLCJzcGFjZSIsInJlcGxhY2VQb3MiLCJhbmltYXRlIiwicHJvcGVydHkiLCJyZXN1bHQiLCJhbmltYXRpb24iLCJhbmltYXRlVmVjdG9yIiwiYW5pbVgiLCJhbmltWSIsInN0b3BBbmltYXRpb24iLCJpbmRleCIsInNwbGljZSIsInN0b3BBbmltYXRpbmciLCJzZXRJbWFnZSIsImltZ1NyYyIsIkltYWdlIiwic3JjIiwib25sb2FkIiwic2V0VGV4dCIsInR4dCIsImludGVyYWN0aW9uIiwibW91c2VQb3MiLCJtb3VzZURpZmZlcmVuY2UiLCJDYW52YXMiLCJlbGVtZW50SWQiLCJvYmplY3RzIiwibWFyZ2luIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjYW52YXMiLCJjZW50ZXIiLCJvZmZzZXQiLCJzZWxlY3RlZCIsInN0YXJ0UG9zIiwiZm9jdXMiLCJtb3ZpbmdDYW52YXMiLCJyZWRyYXciLCJjbGVhciIsImNsZWFyUmVjdCIsInRleHRCYXNlbGluZSIsInNldFRyYW5zZm9ybSIsInByZURyYXciLCJwb3N0RHJhdyIsImZpbmRPYmplY3RPbkNhbnZhcyIsImZvdW5kIiwibyIsIm1vdmVUb0NlbnRlciIsImFicyIsImludGVyYWN0aW9uU3RhcnQiLCJlIiwicGFnZVgiLCJwYWdlWSIsImludGVyYWN0aW9uTW92ZSIsIm5ld1BvcyIsImludGVyYWN0aW9uU3RvcCJdLCJtYXBwaW5ncyI6IkFBQUFBLEtBQUFDLE9BQUEsU0FBQUMsR0FDQSxNQUFBQSxHQUFBQSxHQUdBRixLQUFBRyxVQUFBLFNBQUFELEdBQ0EsTUFBQUEsR0FBQUYsS0FBQUksR0FBQSxLQUdBSixLQUFBSyxVQUFBLFNBQUFILEdBQ0EsTUFBQSxLQUFBQSxFQUFBRixLQUFBSSxHQUdBLElBQUFFLFVBQUEsU0FBQUosRUFBQUssR0FDQUMsS0FBQU4sRUFBQUEsRUFDQU0sS0FBQUQsRUFBQUEsRUFHQUQsVUFBQUcsV0FDQUMsT0FBQSxXQUNBLE1BQUFWLE1BQUFXLEtBQUFYLEtBQUFDLE9BQUFPLEtBQUFOLEdBQUFGLEtBQUFDLE9BQUFPLEtBQUFELEtBRUFLLElBQUEsU0FBQUMsR0FDQSxNQUFBTCxNQUFBTixFQUFBVyxFQUFBWCxFQUFBTSxLQUFBRCxFQUFBTSxFQUFBTixHQUVBTyxVQUFBLFdBQ0EsR0FBQUMsR0FBQVAsS0FBQUUsUUFDQUYsTUFBQU4sR0FBQWEsRUFDQVAsS0FBQUQsR0FBQVEsR0FFQUMsSUFBQSxTQUFBQyxHQUNBLE1BQUEsSUFBQVgsVUFBQUUsS0FBQU4sRUFBQWUsRUFBQVQsS0FBQUQsRUFBQVUsSUFFQUMsVUFBQSxTQUFBTCxHQUNBLE1BQUEsSUFBQVAsVUFBQUUsS0FBQU4sRUFBQVcs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LEVBQUFiLEtBQUEyRCxVQUlBeUcsT0FBQW5LLFVBQUFtTSxnQkFBQSxTQUFBeEssR0FFQUEsRUFEQTVCLEtBQUErSyxTQUFBN0ssVUFBQSxHQUNBRixLQUFBOEssU0FFQSxNQUVBOUssS0FBQStLLFNBQUEsR0FBQWpMLFVBQUEsRUFBQSxHQUNBRSxLQUFBOEssU0FBQSxLQUNBOUssS0FBQWtLLFNBQUEsR0FBQXBLLFVBQUEsRUFBQSIsImZpbGUiOiJjYW52YXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiTWF0aC5zcXVhcmUgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuIHggKiB4O1xufTtcblxuTWF0aC50b1JhZGlhbnMgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4ICogTWF0aC5QSSkgLyAxODA7XG59O1xuXG5NYXRoLnRvRGVncmVlcyA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKHggKiAxODApIC8gTWF0aC5QSTtcbn07XG5cbnZhciBWZWN0b3IyRCA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICB0aGlzLnggPSB4O1xuICAgIHRoaXMueSA9IHk7XG59O1xuXG5WZWN0b3IyRC5wcm90b3R5cGUgPSB7XG4gICAgbGVuZ3RoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydChNYXRoLnNxdWFyZSh0aGlzLngpICsgTWF0aC5zcXVhcmUodGhpcy55KSk7XG4gICAgfSxcbiAgICBkb3Q6IGZ1bmN0aW9uKHYyKSB7XG4gICAgICAgIHJldHVybiAodGhpcy54ICogdjIueCkgKyAodGhpcy55ICogdjIueSk7XG4gICAgfSxcbiAgICBub3JtYWxpemU6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbCA9IHRoaXMubGVuZ3RoKCk7XG4gICAgICAgIHRoaXMueCAvPSBsO1xuICAgICAgICB0aGlzLnkgLz0gbDtcbiAgICB9LFxuICAgIGFkZDogZnVuY3Rpb24oeikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCArIHosIHRoaXMueSArIHopO1xuICAgIH0sXG4gICAgYWRkVmVjdG9yOiBmdW5jdGlvbih2Mikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCArIHYyLngsIHRoaXMueSArIHYyLnkpO1xuICAgIH0sXG4gICAgc3ViOiBmdW5jdGlvbih6KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC0geiwgdGhpcy55IC0geik7XG4gICAgfSxcbiAgICBzdWJWZWN0b3I6IGZ1bmN0aW9uKHYyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC0gdjIueCwgdGhpcy55IC0gdjIueSk7XG4gICAgfSxcbiAgICBtdWw6IGZ1bmN0aW9uKHopIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKiB6LCB0aGlzLnkgKiB6KTtcbiAgICB9LFxuICAgIG11bFZlY3RvcjogZnVuY3Rpb24odjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKiB2Mi54LCB0aGlzLnkgKiB2Mi55KTtcbiAgICB9LFxuICAgIGRpdjogZnVuY3Rpb24oeikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAvIHosIHRoaXMueSAvIHopO1xuICAgIH0sXG4gICAgZGl2VmVjdG9yOiBmdW5jdGlvbih2Mikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAvIHYyLngsIHRoaXMueSAvIHYyLnkpO1xuICAgIH0sXG4gICAgcm90YXRlOiBmdW5jdGlvbihhbmdsZSkge1xuICAgICAgICB2YXIgciA9IE1hdGgudG9SYWRpYW5zKGFuZ2xlKTtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKHIpO1xuICAgICAgICB2YXIgc2luID0gTWF0aC5zaW4ocik7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQoKHRoaXMueCAqIGNvcykgLSAodGhpcy55ICogc2luKSwgKHRoaXMueCAqIHNpbikgKyAodGhpcy55ICogY29zKSk7XG4gICAgfVxufTsiLCJ2YXIgQW5pbWF0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgZ29hbCwgdGltZSwgZWFzaW5nLCBjYikge1xuICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgdGhpcy5mcm9tID0gZnJvbTtcbiAgICB0aGlzLmRpZmZlcmVuY2UgPSBnb2FsIC0gZnJvbTtcblxuICAgIHRoaXMuZWFzaW5nID0gZWFzaW5nO1xuICAgIHRoaXMuY2IgPSBjYjtcblxuICAgIHRoaXMucG9zID0gMDtcbiAgICB0aGlzLmVuZCA9IHRpbWUgLyAxMDtcbiAgICB0aGlzLnRpbWVyID0gbnVsbDtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbihjYikge1xuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICBtZS5wb3MrKztcbiAgICAgICAgdmFyIHZhbCA9IDA7XG4gICAgICAgIHN3aXRjaChtZS5lYXNpbmcpIHtcbiAgICAgICAgICAgIGNhc2UgXCJsaW5lYXJcIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBtZS5saW5lYXIobWUuZGlmZmVyZW5jZSwgbWUucG9zLCBtZS5lbmQsIG1lLmZyb20pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVhc2VJblwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IG1lLmVhc2VJbihtZS5kaWZmZXJlbmNlLCBtZS5wb3MsIG1lLmVuZCwgbWUuZnJvbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWFzZU91dFwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IG1lLmVhc2VPdXQobWUuZGlmZmVyZW5jZSwgbWUucG9zLCBtZS5lbmQsIG1lLmZyb20pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVhc2VJbk91dFwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IG1lLmVhc2VJbk91dChtZS5kaWZmZXJlbmNlLCBtZS5wb3MsIG1lLmVuZCwgbWUuZnJvbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2IodmFsKTtcbiAgICAgICAgaWYobWUucG9zID49IG1lLmVuZCkge1xuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChtZS50aW1lcik7XG4gICAgICAgICAgICBtZS50aW1lciA9IG51bGw7XG4gICAgICAgICAgICBtZS5wb3MgPSAwO1xuICAgICAgICAgICAgaWYodHlwZW9mIG1lLmNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgbWUuY2IodHJ1ZSwgbWUuZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCAxMCk7XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIHRoaXMudGltZXIgPSBudWxsO1xuICAgIGlmKHR5cGVvZiB0aGlzLmNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMuY2IoZmFsc2UsIHRoaXMuZWxlbWVudCk7XG4gICAgfVxufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5saW5lYXIgPSBmdW5jdGlvbihjLCB0LCBkLCBiKSB7XG4gICAgcmV0dXJuIChjICogdCAvIGQgKyBiKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuZWFzZUluID0gZnVuY3Rpb24oYywgdCwgZCwgYikge1xuICAgIHQgLz0gZDtcbiAgICByZXR1cm4gKGMgKiB0ICogdCArIGIpO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5lYXNlT3V0ID0gZnVuY3Rpb24oYywgdCwgZCwgYikge1xuICAgIHQgLz0gZDtcbiAgICByZXR1cm4gKC1jICogdCAqICh0LTIpICsgYik7XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLmVhc2VJbk91dCA9IGZ1bmN0aW9uKGMsIHQsIGQsIGIpIHtcbiAgICB0IC89IGQgLyAyO1xuICAgIGlmICh0IDwgMSkge1xuICAgICAgICByZXR1cm4gKGMvMip0KnQgKyBiKTtcbiAgICB9XG4gICAgdC0tO1xuICAgIHJldHVybiAoLWMgLyAyICogKHQgKiAodCAtIDIpIC0gMSkgKyBiKTtcbn07IiwidmFyIFBhcmFncmFwaCA9IGZ1bmN0aW9uKHRleHQpIHtcbiAgICB0aGlzLnBhcnRzID0gW107XG5cbiAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW2ldXCIsIFwiWy9pXVwiLCBcIml0YWxpY1wiKSkge1xuICAgICAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW2JdXCIsIFwiWy9iXVwiLCBcImJvbGRcIikpIHtcbiAgICAgICAgICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbc2l6ZT1cIiwgXCJbL3NpemVdXCIsIFwic2l6ZVwiKSkge1xuICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbZm9udD1cIiwgXCJbL2ZvbnRdXCIsIFwiZm9udFwiKSkge1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW2FsaWduPVwiLCBcIlsvYWxpZ25dXCIsIFwiYWxpZ25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbY29sb3I9XCIsIFwiWy9jb2xvcl1cIiwgXCJjb2xvclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGFydHMgPSBbdGV4dF07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLmdldEZvbnQgPSBmdW5jdGlvbihpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQpIHtcbiAgICBpZih0eXBlb2YgdGhpcy5pdGFsaWMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGl0YWxpYyA9IHRoaXMuaXRhbGljO1xuICAgIH1cbiAgICBpZih0eXBlb2YgdGhpcy5ib2xkICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBib2xkID0gdGhpcy5ib2xkO1xuICAgIH1cbiAgICBpZih0eXBlb2YgdGhpcy5zaXplICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBzaXplID0gdGhpcy5zaXplO1xuICAgIH1cbiAgICBpZih0eXBlb2YgdGhpcy5mb250ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmb250ID0gdGhpcy5mb250O1xuICAgIH1cbiAgICByZXR1cm4gW2l0YWxpYywgYm9sZCwgc2l6ZSwgZm9udF07XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLmZvbnRUb1RleHQgPSBmdW5jdGlvbihpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQpIHtcbiAgICB2YXIgdCA9IFwiXCI7XG4gICAgaWYoaXRhbGljKSB7XG4gICAgICAgIHQgKz0gXCJpdGFsaWMgXCI7XG4gICAgfVxuICAgIGlmKGJvbGQpIHtcbiAgICAgICAgdCArPSBcImJvbGQgXCI7XG4gICAgfVxuICAgIHQgKz0gc2l6ZSArIFwicHQgXCIgKyBmb250O1xuICAgIHJldHVybiB0O1xufTtcblxuUGFyYWdyYXBoLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oY3R4LCBzY2FsZSwgaXRhbGljLCBib2xkLCBzaXplLCBmb250LCBhbGlnbiwgY29sb3IsIHNjYWxpbmcsIHBvcywgd2lkdGgpIHtcbiAgICB2YXIgZiA9IHRoaXMuZ2V0Rm9udChpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQpO1xuICAgIHZhciB4ID0gcG9zLng7XG4gICAgaWYodHlwZW9mIHRoaXMuYWxpZ24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFsaWduID0gdGhpcy5hbGlnbjtcbiAgICB9XG4gICAgaWYodHlwZW9mIHRoaXMuY29sb3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICB9XG4gICAgaWYodGhpcy5wYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgaWYoIXNjYWxpbmcpIHtcbiAgICAgICAgICAgIGZbMl0gKj0gMSAvIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgICBwb3MgPSBwb3MuYWRkVmVjdG9yKG5ldyBWZWN0b3IyRCh3aWR0aCwgMCkubXVsKC41KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYWxpZ24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgcG9zID0gcG9zLmFkZFZlY3RvcihuZXcgVmVjdG9yMkQod2lkdGgsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFRvVGV4dChmWzBdLCBmWzFdLCBmWzJdLCBmWzNdKTtcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IGFsaWduO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnBhcnRzWzBdLCBwb3MueCwgcG9zLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5wYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLnBhcnRzW2ldLmRyYXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzW2ldLmRyYXcoY3R4LCBzY2FsZSwgZlswXSwgZlsxXSwgZlsyXSwgZlszXSwgYWxpZ24sIGNvbG9yLCBzY2FsaW5nLCBwb3MsIHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMucGFydHNbaV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMucGFydHNbaV0ubWVhc3VyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMucGFydHNbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCBmWzBdLCBmWzFdLCBmWzJdLCBmWzNdLCBzY2FsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zLnggKz0gcy54O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3MueCA9IHg7XG4gICAgfVxufTtcblxuUGFyYWdyYXBoLnByb3RvdHlwZS5tZWFzdXJlID0gZnVuY3Rpb24oY3R4LCBzY2FsZSwgaXRhbGljLCBib2xkLCBzaXplLCBmb250LCBzY2FsaW5nKSB7XG4gICAgdmFyIHMgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdmFyIGYgPSB0aGlzLmdldEZvbnQoaXRhbGljLCBib2xkLCBzaXplLCBmb250KTtcbiAgICBpZih0aGlzLnBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZighc2NhbGluZykge1xuICAgICAgICAgICAgZlsyXSAqPSAxIC8gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRUb1RleHQoZlswXSwgZlsxXSwgZlsyXSwgZlszXSk7XG4gICAgICAgIHMueSA9IGZbMl07XG4gICAgICAgIHMueCA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLnBhcnRzWzBdKS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMucGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5wYXJ0c1tpXS5tZWFzdXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRTaXplID0gdGhpcy5wYXJ0c1tpXS5tZWFzdXJlKGN0eCwgc2NhbGUsIGZbMF0sIGZbMV0sIGZbMl0sIGZbM10sIHNjYWxpbmcpO1xuICAgICAgICAgICAgICAgIGlmKHBhcnRTaXplLnkgPiBzLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy55ID0gcGFydFNpemUueTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy54ICs9IHBhcnRTaXplLng7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHM7XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLmNoZWNrRm9yU3R5bGUgPSBmdW5jdGlvbih0ZXh0LCBvcGVuaW5nLCBjbG9zaW5nLCBzdHlsZSkge1xuICAgIHZhciB0ZW1wID0gdGV4dC5zcGxpdChvcGVuaW5nKTtcbiAgICBpZih0ZW1wLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciB0ID0gdGVtcC5zaGlmdCgpO1xuICAgICAgICBpZih0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucGFydHMucHVzaCh0KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gdGVtcC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gdGVtcFtpXS5zcGxpdChjbG9zaW5nKTtcbiAgICAgICAgICAgIHZhciBzdHlsZWQgPSBuZXcgUGFyYWdyYXBoKHBbMF0pO1xuICAgICAgICAgICAgaWYob3BlbmluZy5pbmRleE9mKFwiPVwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcFswXSA9IHBbMF0uc3BsaXQoXCJdXCIpO1xuICAgICAgICAgICAgICAgIHZhciB2ID0gcFswXS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHBbMF0gPSBwWzBdWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZihwWzFdLmxlbmd0aCA9PT0gMCAmJiB0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydHMgPSBbcFswXV07XG4gICAgICAgICAgICAgICAgc3R5bGVkID0gdGhpcztcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocFsxXS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goc3R5bGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHN0eWxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKG5ldyBQYXJhZ3JhcGgocFsxXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIml0YWxpY1wiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuaXRhbGljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvbGRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVkLmJvbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuc2l6ZSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmb250XCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5mb250ID0gdjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFsaWduXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5hbGlnbiA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuY29sb3IgPSB2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTsiLCJ2YXIgRHJhd2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgdGhpcy5pbWcgPSBudWxsO1xuICAgIHRoaXMuaW1nRmlsbCA9IHRydWU7XG5cbiAgICB0aGlzLmJvcmRlckNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgdGhpcy5ib3JkZXJXaWR0aCA9IDA7XG4gICAgdGhpcy5ib3JkZXJTY2FsaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMudGV4dCA9IFtdO1xuICAgIHRoaXMudGV4dEl0YWxpYyA9IGZhbHNlO1xuICAgIHRoaXMudGV4dEJvbGQgPSBmYWxzZTtcbiAgICB0aGlzLnRleHRTaXplID0gMDtcbiAgICB0aGlzLnRleHRNaW5TaXplID0gNjtcbiAgICB0aGlzLnRleHRGb250ID0gXCJBcmlhbFwiO1xuICAgIHRoaXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgdGhpcy50ZXh0Q29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICB0aGlzLnRleHRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy50ZXh0QW5jaG9yID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMudGV4dEJhY2tncm91bmQgPSBudWxsO1xuICAgIHRoaXMudGV4dFJlcGxhY2UgPSAyMDtcbiAgICB0aGlzLnRleHRSZXBsYWNlQ29sb3IgPSBudWxsO1xuICAgIHRoaXMudGV4dFNwYWNpbmcgPSAxLjI7XG4gICAgdGhpcy50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnRleHRTY2FsaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMucG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMucmFkaXVzID0gMDtcbiAgICB0aGlzLnNpemUgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG5cbiAgICB0aGlzLnNob3cgPSB0cnVlO1xuICAgIHRoaXMucmVxdWVzdFJlZHJhdyA9IGZhbHNlO1xuICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuXG4gICAgdGhpcy5kcmF3UmVjdGFuZ2xlID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICB2YXIgcCA9IG5ldyBWZWN0b3IyRCgwLCAwKS5zdWJWZWN0b3IodGhpcy5zaXplLmRpdigyKSk7XG4gICAgICAgIGN0eC5maWxsUmVjdChwLngsIHAueSwgdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55KTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd0ltYWdlID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgICAgIGlmKHRoaXMuaW1nICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgZGl2ID0gMDtcbiAgICAgICAgICAgIGlmKHRoaXMuaW1nRmlsbCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1nLndpZHRoID4gdGhpcy5pbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1nLndpZHRoID4gdGhpcy5pbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY2xpcCA9IG5ldyBWZWN0b3IyRCh0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0KS5kaXYoZGl2KS5tdWxWZWN0b3IodGhpcy5zaXplKS5zdWJWZWN0b3IodGhpcy5zaXplKS5tdWwoLS41KTtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFZlY3RvcjJEKDAsIDApLnN1YlZlY3Rvcih0aGlzLnNpemUuZGl2KDIpKTtcbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIGNsaXAueCwgY2xpcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnksIHAueCwgcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRFJBV0FCTEVdW2RyYXdJbWFnZV06IENvdWxkIG5vdCBkcmF3IGltYWdlIGZvclwiLCB0aGlzLCBcInNpbmNlIHRoaXMuaW1nIGlzIG51bGxcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZHJhd0JvcmRlciA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5ib3JkZXJDb2xvcjtcbiAgICAgICAgdmFyIGJyZHcgPSB0aGlzLmJvcmRlcldpZHRoO1xuICAgICAgICBpZighdGhpcy5ib3JkZXJTY2FsaW5nKSB7XG4gICAgICAgICAgICBicmR3ICo9IDEgLyBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJkdztcbiAgICAgICAgdmFyIHAgPSBuZXcgVmVjdG9yMkQoMCwgMCkuc3ViVmVjdG9yKHRoaXMuc2l6ZS5kaXYoMikpO1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChwLngsIHAueSwgdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3Q2lyY2xlID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMoMCwgMCwgdGhpcy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd0ltYWdlSW5DaXJjbGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgaWYodGhpcy5pbWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguYXJjKDAsIDAsIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICAgICAgICBjdHguY2xpcCgpO1xuICAgICAgICAgICAgdmFyIGRpdiA9IDE7XG4gICAgICAgICAgICB2YXIgcCA9IG5ldyBWZWN0b3IyRCgwLCAwKS5zdWIodGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgdmFyIHMgPSBuZXcgVmVjdG9yMkQodGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzKS5tdWwoMik7XG4gICAgICAgICAgICB2YXIgY2xpcCA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICAgICAgICAgIGlmKHRoaXMuaW1nRmlsbCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1nLndpZHRoID4gdGhpcy5pbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xpcCA9IG5ldyBWZWN0b3IyRCh0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0KS5kaXYoZGl2KS5zdWIoMSkubXVsKGRpdikuZGl2KDIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmltZy53aWR0aCA+IHRoaXMuaW1nLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByYXRpbyA9IG5ldyBWZWN0b3IyRCh0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0KS5kaXYoZGl2KS5zdWIoMSkubXVsKC0xKTtcbiAgICAgICAgICAgICAgICBpZihyYXRpby54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGlvLnggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihyYXRpby55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGlvLnkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLm11bFZlY3RvcihzKTtcbiAgICAgICAgICAgICAgICBwID0gcC5zdWJWZWN0b3IocmF0aW8ubXVsVmVjdG9yKHMpLmRpdigyKSk7XG4gICAgICAgICAgICAgICAgcCA9IHAuYWRkVmVjdG9yKHJhdGlvLm11bCh0aGlzLnJhZGl1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltZywgY2xpcC54LCBjbGlwLnksIHRoaXMuaW1nLndpZHRoIC0gKGNsaXAueCAqIDIpLCB0aGlzLmltZy5oZWlnaHQgLSAoY2xpcC55ICogMiksIHAueCwgcC55LCBzLngsIHMueSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRFJBV0FCTEVdW2RyYXdJbWFnZUluQ2lyY2xlXTogQ291bGQgbm90IGRyYXcgaW1hZ2UgZm9yXCIsIHRoaXMsIFwic2luY2UgdGhpcy5pbWcgaXMgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kcmF3Qm9yZGVyRm9yQ2lyY2xlID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICAgIHZhciBicmR3ID0gdGhpcy5ib3JkZXJXaWR0aDtcbiAgICAgICAgaWYoIXRoaXMuYm9yZGVyU2NhbGluZykge1xuICAgICAgICAgICAgYnJkdyAqPSAxIC8gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGJyZHc7XG4gICAgICAgIGN0eC5hcmMoMCwgMCwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhd1RleHQgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMudGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHRleHRTaXplID0gdGhpcy50ZXh0U2l6ZTtcbiAgICAgICAgICAgIGlmKHRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZSAqPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRleHRTaXplID49IHRoaXMudGV4dE1pblNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGggPSAwO1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICAgICAgICAgICAgICBmb3IobCA9IHRoaXMudGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFNpemUgPSB0aGlzLnRleHRbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCB0aGlzLnRleHRJdGFsaWMsIHRoaXMudGV4dEJvbGQsIHRoaXMudGV4dFNpemUsIHRoaXMudGV4dEZvbnQsIHRoaXMudGV4dFNjYWxpbmcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYWdyYXBoU2l6ZS54ID4gdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IHBhcmFncmFwaFNpemUueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoICs9IHBhcmFncmFwaFNpemUueTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgLSBpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLnRleHRTcGFjaW5nICogdGhpcy50ZXh0U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZXh0U2NhbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNpbmcgKj0gMSAvIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaCArPSBzcGFjaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dEJhY2tncm91bmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGV4dEJhY2tncm91bmQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy50ZXh0UGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nLm11bCgxIC8gc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9ja1NpemUgPSBwYWRkaW5nLm11bCgyKS5hZGRWZWN0b3IobmV3IFZlY3RvcjJEKHcsIGgpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR4dFBvcyA9IHRoaXMudGV4dFBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yYWRpdXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4dFBvcyA9IHR4dFBvcy5tdWwodGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2l6ZS5sZW5ndGgoKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHh0UG9zID0gdHh0UG9zLm11bFZlY3Rvcih0aGlzLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9ja1BvcyA9IHR4dFBvcy5zdWJWZWN0b3IoYmxvY2tTaXplLm11bFZlY3Rvcih0aGlzLnRleHRBbmNob3IpKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGJsb2NrUG9zLngsIGJsb2NrUG9zLnksIGJsb2NrU2l6ZS54LCBibG9ja1NpemUueSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFBvcyA9IGJsb2NrUG9zLmFkZFZlY3RvcihwYWRkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwLCBsID0gdGhpcy50ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50ZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnRleHRbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCB0aGlzLnRleHRJdGFsaWMsIHRoaXMudGV4dEJvbGQsIHRoaXMudGV4dFNpemUsIHRoaXMudGV4dEZvbnQsIHRoaXMudGV4dFNjYWxpbmcpLnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IHRoaXMudGV4dFNwYWNpbmcgKiB0aGlzLnRleHRTaXplO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlICo9IDEgLyBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gc3BhY2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS5kcmF3KGN0eCwgc2NhbGUsIHRoaXMudGV4dEl0YWxpYywgdGhpcy50ZXh0Qm9sZCwgdGhpcy50ZXh0U2l6ZSwgdGhpcy50ZXh0Rm9udCwgdGhpcy50ZXh0QWxpZ24sIHRoaXMudGV4dENvbG9yLCB0aGlzLnRleHRTY2FsaW5nLCBwYXJhZ3JhcGhQb3MsIHcpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhZ3JhcGhQb3MgPSBwYXJhZ3JhcGhQb3MuYWRkVmVjdG9yKG5ldyBWZWN0b3IyRCgwLCBoZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dFJlcGxhY2VDb2xvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50ZXh0UmVwbGFjZUNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZVBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0UmVwbGFjZSBpbnN0YW5jZW9mIFZlY3RvcjJEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlUG9zID0gdGhpcy50ZXh0UG9zLm11bFZlY3Rvcih0aGlzLnNpemUpLnN1YlZlY3Rvcih0aGlzLnRleHRSZXBsYWNlLm11bFZlY3Rvcih0aGlzLnRleHRBbmNob3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChyZXBsYWNlUG9zLngsIHJlcGxhY2VQb3MueSwgdGhpcy50ZXh0UmVwbGFjZS54LCB0aGlzLnRleHRSZXBsYWNlLnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy50ZXh0UmVwbGFjZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VQb3MgPSB0aGlzLnRleHRQb3MubXVsKHRoaXMucmFkaXVzKS5zdWJWZWN0b3IodGhpcy50ZXh0QW5jaG9yLnN1YigwLjUpLm11bCh0aGlzLnRleHRSZXBsYWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYXJjKHJlcGxhY2VQb3MueCwgcmVwbGFjZVBvcy55LCB0aGlzLnRleHRSZXBsYWNlLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RSQVdBQkxFXVtkcmF3VGV4dF06IENvdWxkIG5vdCBkcmF3IHRleHQgZm9yXCIsIHRoaXMsIFwic2luY2UgdGhpcy50ZXh0IGlzIG51bGxcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24ocHJvcGVydHksIHJlc3VsdCwgdGltZSwgZWFzaW5nLCBjYikge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbih0aGlzLCB0aGlzW3Byb3BlcnR5XSwgcmVzdWx0LCB0aW1lLCBlYXNpbmcsIGNiKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgbWVbcHJvcGVydHldID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgIH07XG4gICAgdGhpcy5hbmltYXRlVmVjdG9yID0gZnVuY3Rpb24ocHJvcGVydHksIHJlc3VsdCwgdGltZSwgZWFzaW5nLCBjYikge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB2YXIgYW5pbVggPSBuZXcgQW5pbWF0aW9uKHRoaXMsIHRoaXNbcHJvcGVydHldLngsIHJlc3VsdC54LCB0aW1lLCBlYXNpbmcsIGNiKTtcbiAgICAgICAgdmFyIGFuaW1ZID0gbmV3IEFuaW1hdGlvbih0aGlzLCB0aGlzW3Byb3BlcnR5XS55LCByZXN1bHQueSwgdGltZSwgZWFzaW5nLCBjYik7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1YKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbVkpO1xuICAgICAgICBhbmltWC5zdGFydChmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIG1lW3Byb3BlcnR5XS54ID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBhbmltWS5zdGFydChmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIG1lW3Byb3BlcnR5XS55ID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uID0gZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGlvbik7XG4gICAgICAgIGlmKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnN0b3BBbmltYXRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2ldLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcbiAgICB9O1xufTtcblxuRHJhd2FibGUucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24oaW1nU3JjLCBjYikge1xuICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWcuc3JjID0gaW1nU3JjO1xuICAgIGlmKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnNob3cpIHtcbiAgICAgICAgdGhpcy5pbWcub25sb2FkID0gY2I7XG4gICAgfVxufTtcbkRyYXdhYmxlLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHZhciB0eHQgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHR4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy50ZXh0LnB1c2gobmV3IFBhcmFncmFwaCh0eHRbaV0pKTtcbiAgICB9XG59O1xuXG5EcmF3YWJsZS5wcm90b3R5cGUuaW50ZXJhY3Rpb24gPSBmdW5jdGlvbihtb3VzZVBvcywgc2NhbGUpIHtcbiAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMucG9zLm11bChzY2FsZSkpO1xuICAgIHZhciBkaWZmZXJlbmNlID0gMDtcbiAgICBpZih0aGlzLnJhZGl1cyAhPT0gMCkge1xuICAgICAgICBkaWZmZXJlbmNlID0gdGhpcy5yYWRpdXMgKiBzY2FsZTtcbiAgICB9XG4gICAgaWYodGhpcy5zaXplLmxlbmd0aCgpICE9PSAwKSB7XG4gICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLnNpemUubGVuZ3RoKCkgKiBzY2FsZTtcbiAgICB9XG4gICAgaWYgKG1vdXNlRGlmZmVyZW5jZS5sZW5ndGgoKSA8PSBkaWZmZXJlbmNlICYmIHRoaXMuc2hvdykge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTsiLCJ2YXIgQ2FudmFzID0gZnVuY3Rpb24oeCwgeSwgd2lkdGgsIGhlaWdodCwgZWxlbWVudElkLCBvYmplY3RzKSB7XG4gICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMubWFyZ2luID0gbmV3IFZlY3RvcjJEKHgsIHkpO1xuICAgIHRoaXMuY3R4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkKS5nZXRDb250ZXh0KFwiMmRcIik7XG4gICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcblxuICAgIHRoaXMuY2VudGVyID0gbmV3IFZlY3RvcjJEKHdpZHRoIC8gMiwgaGVpZ2h0IC8gMik7XG4gICAgdGhpcy5vZmZzZXQgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5zY2FsZSA9IDE7XG5cbiAgICB0aGlzLm9iamVjdHMgPSBvYmplY3RzO1xuICAgIHRoaXMuc2VsZWN0ZWQgPSBudWxsO1xuXG4gICAgdGhpcy5zdGFydFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMuZm9jdXMgPSBudWxsO1xuXG4gICAgdGhpcy5tb3ZpbmdDYW52YXMgPSBudWxsO1xuXG4gICAgdmFyIG1lID0gdGhpcztcbiAgICBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHJlZHJhdyA9IGZhbHNlO1xuICAgICAgICBmb3IodmFyIGkgPSAwLCBsID0gbWUub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBtZS5vYmplY3RzW2ldLnJlcXVlc3RSZWRyYXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBpZihtZS5vYmplY3RzW2ldLnJlcXVlc3RSZWRyYXcoKSkge1xuICAgICAgICAgICAgICAgICAgICByZWRyYXcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYobWUub2JqZWN0c1tpXS5yZXF1ZXN0UmVkcmF3KSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZHJhdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIG1lLm9iamVjdHNbaV0ucmVxdWVzdFJlZHJhdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZihyZWRyYXcpIHtcbiAgICAgICAgICAgIG1lLmRyYXcoKTtcbiAgICAgICAgfVxuICAgIH0sIDEwKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24oY2IpIHtcbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IFwiaGFuZ2luZ1wiO1xuICAgIHZhciBjID0gdGhpcy5jZW50ZXIuYWRkVmVjdG9yKHRoaXMub2Zmc2V0KTtcbiAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0odGhpcy5zY2FsZSwgMCwgMCwgdGhpcy5zY2FsZSwgYy54LCBjLnkpO1xuICAgIHZhciBpLCBsO1xuICAgIGZvcihpID0gMCwgbCA9IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMub2JqZWN0c1tpXS5wcmVEcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdHNbaV0ucHJlRHJhdyh0aGlzLmN0eCwgdGhpcy5zY2FsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yKGkgPSAwLCBsID0gdGhpcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLm9iamVjdHNbaV0uZHJhdyh0aGlzLmN0eCwgdGhpcy5zY2FsZSk7XG4gICAgfVxuICAgIGZvcihpID0gMCwgbCA9IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMub2JqZWN0c1tpXS5wb3N0RHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2ldLnBvc3REcmF3KHRoaXMuY3R4LCB0aGlzLnNjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgaWYodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiKCk7XG4gICAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5maW5kT2JqZWN0T25DYW52YXMgPSBmdW5jdGlvbihjYikge1xuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIGZvcih2YXIgaSA9IHRoaXMub2JqZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgbyA9IHRoaXMub2JqZWN0c1tpXS5pbnRlcmFjdGlvbih0aGlzLm1vdXNlUG9zLCB0aGlzLnNjYWxlKTtcbiAgICAgICAgaWYobyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNiKG8pO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYoIWZvdW5kKSB7XG4gICAgICAgIGNiKG51bGwpO1xuICAgIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUubW92ZVRvQ2VudGVyID0gZnVuY3Rpb24oY2IpIHtcbiAgICBpZih0aGlzLm1vdmluZ0NhbnZhcyA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vdmluZ0NhbnZhcyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYobWUub2Zmc2V0LnggPT09IDAgJiYgbWUub2Zmc2V0LnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1lLm1vdmluZ0NhbnZhcyk7XG4gICAgICAgICAgICAgICAgbWUubW92aW5nQ2FudmFzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkID0gbWUub2Zmc2V0O1xuICAgICAgICAgICAgZCA9IGQuZGl2KDMwKTtcbiAgICAgICAgICAgIG1lLm9mZnNldCA9IG1lLm9mZnNldC5zdWJWZWN0b3IoZCk7XG4gICAgICAgICAgICBpZihNYXRoLmFicyhtZS5vZmZzZXQueCkgPD0gMSkge1xuICAgICAgICAgICAgICAgIG1lLm9mZnNldC54ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE1hdGguYWJzKG1lLm9mZnNldC55KSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgbWUub2Zmc2V0LnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lLmRyYXcoKTtcbiAgICAgICAgfSwgMTApO1xuICAgIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuaW50ZXJhY3Rpb25TdGFydCA9IGZ1bmN0aW9uKGUsIGNiKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmluZ0NhbnZhcyk7XG4gICAgdGhpcy5tb3ZpbmdDYW52YXMgPSBudWxsO1xuICAgIHRoaXMubW91c2VQb3MgPSBuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSk7XG4gICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMubW91c2VQb3Muc3ViVmVjdG9yKHRoaXMubWFyZ2luKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gdGhpcy5tb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5jZW50ZXIpO1xuICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLm1vdXNlUG9zLnN1YlZlY3Rvcih0aGlzLm9mZnNldCk7XG4gICAgdmFyIG1vdXNlUG9zID0gdGhpcy5tb3VzZVBvcztcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy5maW5kT2JqZWN0T25DYW52YXMoZnVuY3Rpb24oZm91bmQpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gZm91bmQ7XG4gICAgICAgIGlmKHNlbGVjdGVkID09PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IFwic2VsZlwiO1xuICAgICAgICAgICAgbW91c2VQb3MgPSBtb3VzZVBvcy5hZGRWZWN0b3Iob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiKHNlbGVjdGVkLCBtb3VzZVBvcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuaW50ZXJhY3Rpb25Nb3ZlID0gZnVuY3Rpb24oZSwgY2IpIHtcbiAgICB2YXIgbmV3UG9zID0gbmV3IFZlY3RvcjJEKGUucGFnZVgsIGUucGFnZVkpO1xuICAgIG5ld1BvcyA9IG5ld1Bvcy5zdWJWZWN0b3IodGhpcy5tYXJnaW4pO1xuICAgIG5ld1BvcyA9IG5ld1Bvcy5zdWJWZWN0b3IodGhpcy5jZW50ZXIpO1xuICAgIHZhciBkaWZmZXJlbmNlID0gbmV3UG9zLnN1YlZlY3Rvcih0aGlzLm1vdXNlUG9zKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gbmV3UG9zO1xuICAgIGlmKHRoaXMuc2VsZWN0ZWQgPT09IFwic2VsZlwiKSB7XG4gICAgICAgIHRoaXMub2Zmc2V0ID0gdGhpcy5vZmZzZXQuYWRkVmVjdG9yKGRpZmZlcmVuY2UpO1xuICAgICAgICB0aGlzLmRyYXcoKTtcbiAgICB9IGVsc2UgaWYodGhpcy5zZWxlY3RlZCAhPT0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXJ0UG9zID0gdGhpcy5zdGFydFBvcy5hZGRWZWN0b3IoZGlmZmVyZW5jZSk7XG4gICAgICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLm1vdXNlUG9zLnN1YlZlY3Rvcih0aGlzLm9mZnNldCk7XG4gICAgICAgIGNiKHRoaXMuc2VsZWN0ZWQsIHRoaXMubW91c2VQb3MubXVsKDEgLyB0aGlzLnNjYWxlKSk7XG4gICAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5pbnRlcmFjdGlvblN0b3AgPSBmdW5jdGlvbihjYikge1xuICAgIGlmKHRoaXMuc3RhcnRQb3MubGVuZ3RoKCkgPD0gMTApIHtcbiAgICAgICAgY2IodGhpcy5zZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgfVxuICAgIHRoaXMuc3RhcnRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG4gICAgdGhpcy5tb3VzZVBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbn07Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
