Math.square=function(t){return t*t},Math.toRadians=function(t){return t*Math.PI/180},Math.toDegrees=function(t){return 180*t/Math.PI};var Vector2D=function(t,i){this.x=t,this.y=i};Vector2D.prototype={length:function(){return Math.sqrt(Math.square(this.x)+Math.square(this.y))},dot:function(t){return this.x*t.x+this.y*t.y},normalize:function(){var t=this.length();this.x/=t,this.y/=t},add:function(t){return new Vector2D(this.x+t,this.y+t)},addVector:function(t){return new Vector2D(this.x+t.x,this.y+t.y)},sub:function(t){return new Vector2D(this.x-t,this.y-t)},subVector:function(t){return new Vector2D(this.x-t.x,this.y-t.y)},mul:function(t){return new Vector2D(this.x*t,this.y*t)},mulVector:function(t){return new Vector2D(this.x*t.x,this.y*t.y)},div:function(t){return new Vector2D(this.x/t,this.y/t)},divVector:function(t){return new Vector2D(this.x/t.x,this.y/t.y)},rotate:function(t){var i=Math.toRadians(t),e=Math.cos(i),s=Math.sin(i);return new Vector2D(this.x*e-this.y*s,this.x*s+this.y*e)}};var Animation=function(t,i,e,s,h,o){this.element=t,this.from=i,this.difference=e-i,this.easing=h,this.cb=o,this.pos=0,this.end=s/10,this.timer=null};Animation.prototype.start=function(t){var i=this;this.timer=setInterval(function(){i.pos++;var e=0;switch(i.easing){case"linear":e=i.linear(i.difference,i.pos,i.end,i.from);break;case"easeIn":e=i.easeIn(i.difference,i.pos,i.end,i.from);break;case"easeOut":e=i.easeOut(i.difference,i.pos,i.end,i.from);break;case"easeInOut":e=i.easeInOut(i.difference,i.pos,i.end,i.from)}t(e),i.pos>=i.end&&(clearInterval(i.timer),i.timer=null,i.pos=0,"function"==typeof i.cb&&i.cb(!0,i.element))},10)},Animation.prototype.stop=function(){clearInterval(this.timer),this.timer=null,"function"==typeof this.cb&&this.cb(!1,this.element)},Animation.prototype.linear=function(t,i,e,s){return t*i/e+s},Animation.prototype.easeIn=function(t,i,e,s){return i/=e,t*i*i+s},Animation.prototype.easeOut=function(t,i,e,s){return i/=e,-t*i*(i-2)+s},Animation.prototype.easeInOut=function(t,i,e,s){return i/=e/2,1>i?t/2*i*i+s:(i--,-t/2*(i*(i-2)-1)+s)};var Paragraph=function(t){this.parts=[],this.checkForStyle(t,"[i]","[/i]","italic")||this.checkForStyle(t,"[b]","[/b]","bold")||this.checkForStyle(t,"[size=","[/size]","size")||this.checkForStyle(t,"[font=","[/font]","font")||this.checkForStyle(t,"[align=","[/align]","align")||this.checkForStyle(t,"[color=","[/color]","color")||(this.parts=[t])};Paragraph.prototype.getFont=function(t,i,e,s){return"undefined"!=typeof this.italic&&(t=this.italic),"undefined"!=typeof this.bold&&(i=this.bold),"undefined"!=typeof this.size&&(e=this.size),"undefined"!=typeof this.font&&(s=this.font),[t,i,e,s]},Paragraph.prototype.fontToText=function(t,i,e,s){var h="";return t&&(h+="italic "),i&&(h+="bold "),h+=e+"pt "+s},Paragraph.prototype.draw=function(t,i,e,s,h,o,n,r,a,c,l){var u=this.getFont(e,s,h,o),f=c.x;if("undefined"!=typeof this.align&&(n=this.align),"undefined"!=typeof this.color&&(r=this.color),1!==this.parts.length||this.parts[0]instanceof Paragraph){for(var d=0,g=this.parts.length;g>d;d++)if("function"==typeof this.parts[d].draw&&this.parts[d].draw(t,i,u[0],u[1],u[2],u[3],n,r,a,c,l),1===this.parts[d].length&&"function"==typeof this.parts[d].measure){var p=this.parts[d].measure(t,i,u[0],u[1],u[2],u[3],a);c.x+=p.x}c.x=f}else a||(u[2]*=1/i),"center"===n&&(c=c.addVector(new Vector2D(l,0).mul(.5))),"right"===n&&(c=c.addVector(new Vector2D(l,0))),t.font=this.fontToText(u[0],u[1],u[2],u[3]),t.textAlign=n,t.fillStyle=r,t.fillText(this.parts[0],c.x,c.y)},Paragraph.prototype.measure=function(t,i,e,s,h,o,n){var r=new Vector2D(0,0),a=this.getFont(e,s,h,o);if(1===this.parts.length)n||(a[2]*=1/i),t.font=this.fontToText(a[0],a[1],a[2],a[3]),r.y=a[2],r.x=t.measureText(this.parts[0]).width;else for(var c=0,l=this.parts.length;l>c;c++)if("function"==typeof this.parts[c].measure){var u=this.parts[c].measure(t,i,a[0],a[1],a[2],a[3],n);u.y>r.y&&(r.y=u.y),r.x+=u.x}return r},Paragraph.prototype.checkForStyle=function(t,i,e,s){var h=t.split(i);if(h.length>=2){var o=h.shift();o.length>0&&!(o instanceof Paragraph)?this.parts.push(new Paragraph(o)):o instanceof Paragraph&&this.parts.push(o);for(var n=0,r=h.length;r>n;n++){var a=h[n].split(e);if(i.indexOf("=")>-1){a[0]=a[0].split("]");for(var c=a[0].shift(),l="",u=0,f=a[0].length;f>u;u++)l+=a[0][u],f-1>u&&(l+="]");a[0]=l}var d=new Paragraph(a[0]);switch(0!==a[1].length||a[1]instanceof Paragraph?a[1]instanceof Paragraph?(this.parts.push(d),this.parts.push(a[1])):(this.parts.push(d),this.parts.push(new Paragraph(a[1]))):this.parts.push(d),s){case"italic":d.italic=!0;break;case"bold":d.bold=!0;break;case"size":d.size=c;break;case"font":d.font=c;break;case"align":d.align=c;break;case"color":d.color=c}}return!0}return!1};var Drawable=function(){this.color="#000000",this.img=null,this.imgFill=!0,this.borderColor="#000000",this.borderWidth=0,this.borderScaling=!0,this.text=[],this.textItalic=!1,this.textBold=!1,this.textSize=0,this.textMinSize=6,this.textFont="Arial",this.textAlign="left",this.textColor="#000000",this.textPos=new Vector2D(0,0),this.textAnchor=new Vector2D(0,0),this.textBackground=null,this.textReplace=20,this.textReplaceColor=null,this.textSpacing=1.2,this.textPadding=new Vector2D(0,0),this.textScaling=!0,this.pos=new Vector2D(0,0),this.radius=0,this.size=new Vector2D(0,0),this.show=!0,this.requestRedraw=!1,this.animations=[],this.drawRectangle=function(t){t.fillStyle=this.color;var i=new Vector2D(0,0).subVector(this.size.div(2));t.fillRect(i.x,i.y,this.size.x,this.size.y)},this.drawImage=function(t){if(null!==this.img){var i=0;i=this.imgFill?this.img.width>this.img.height?this.img.height:this.img.width:this.img.width>this.img.height?this.img.width:this.img.height;var e=new Vector2D(this.img.width,this.img.height).div(i).mulVector(this.size).subVector(this.size).mul(-.5),s=new Vector2D(0,0).subVector(this.size.div(2));t.drawImage(this.img,e.x,e.y,this.size.x,this.size.y,s.x,s.y,this.size.x,this.size.y)}else console.log("[DRAWABLE][drawImage]: Could not draw image for",this,"since this.img is null")},this.drawBorder=function(t,i){t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e;var s=new Vector2D(0,0).subVector(this.size.div(2));t.strokeRect(s.x,s.y,this.size.x,this.size.y)},this.drawCircle=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},this.drawImageInCircle=function(t){if(null!==this.img){t.save(),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!0),t.clip();var i=1,e=new Vector2D(0,0).sub(this.radius),s=new Vector2D(this.radius,this.radius).mul(2),h=new Vector2D(0,0);if(this.imgFill)i=this.img.width>this.img.height?this.img.height:this.img.width,h=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(i).div(2);else{i=this.img.width>this.img.height?this.img.width:this.img.height;var o=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(-1);0!==o.x&&(o.x=1),0!==o.y&&(o.y=1),s=new Vector2D(this.img.width,this.img.height).div(i).mulVector(s),e=e.subVector(o.mulVector(s).div(2)),e=e.addVector(o.mul(this.radius))}t.drawImage(this.img,h.x,h.y,this.img.width-2*h.x,this.img.height-2*h.y,e.x,e.y,s.x,s.y),t.closePath(),t.restore()}else console.log("[DRAWABLE][drawImageInCircle]: Could not draw image for",this,"since this.img is null")},this.drawBorderForCircle=function(t,i){t.beginPath(),t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e,t.arc(0,0,this.radius,0,2*Math.PI,!0),t.stroke(),t.closePath()},this.drawText=function(t,i){if(null!==this.text){var e=this.textSize;if(this.textScaling&&(e*=i),e>=this.textMinSize){var s=0,h=0,o=0,n=0,r=new Vector2D(0,0);for(n=this.text.length;n>o;o++){var a=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling);if(a.x>s&&(s=a.x),h+=a.y,n-o>1){var c=this.textSpacing*this.textSize;this.textScaling||(c*=1/i),h+=c}}if(null!==this.textBackground){t.fillStyle=this.textBackground;var l=this.textPadding;this.textScaling||(l=l.mul(1/i));var u=l.mul(2).addVector(new Vector2D(s,h)),f=this.textPos;0!==this.radius&&(f=f.mul(this.radius)),0!==this.size.length()&&(f=f.mulVector(this.size));var d=f.subVector(u.mulVector(this.textAnchor));t.fillRect(d.x,d.y,u.x,u.y),r=d.addVector(l)}for(o=0,n=this.text.length;n>o;o++){t.fillStyle=this.textColor;var g=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling).y,p=this.textSpacing*this.textSize;this.textScaling||(p*=1/i),g+=p,this.text[o].draw(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textAlign,this.textColor,this.textScaling,r,s),r=r.addVector(new Vector2D(0,g))}}else if(null!==this.textReplaceColor){t.fillStyle=this.textReplaceColor;var x;this.textReplace instanceof Vector2D?(x=this.textPos.mulVector(this.size).subVector(this.textReplace.mulVector(this.textAnchor)),t.fillRect(x.x,x.y,this.textReplace.x,this.textReplace.y)):this.textReplace>0&&(x=this.textPos.mul(this.radius).subVector(this.textAnchor.sub(.5).mul(this.textReplace)),t.beginPath(),t.arc(x.x,x.y,this.textReplace,0,2*Math.PI,!1),t.closePath(),t.fill())}}else console.log("[DRAWABLE][drawText]: Could not draw text for",this,"since this.text is null")},this.animate=function(t,i,e,s,h){var o=new Animation(this,this[t],i,e,s,h);this.animations.push(o);var n=this;return o.start(function(i){n[t]=i,n.requestRedraw=!0}),o},this.animateVector=function(t,i,e,s,h){var o=this,n=new Animation(this,this[t].x,i.x,e,s,h),r=new Animation(this,this[t].y,i.y,e,s,h);this.animations.push(n),this.animations.push(r),n.start(function(i){o[t].x=i,o.requestRedraw=!0}),r.start(function(i){o[t].y=i,o.requestRedraw=!0})},this.stopAnimation=function(t){t.stop();var i=this.animations.indexOf(t);i>-1&&this.animations.splice(i,1)},this.stopAnimating=function(){for(var t=this.animations.length-1;t>=0;t--)this.animations[t].stop();this.animations=[]}};Drawable.prototype.setImage=function(t,i){this.img=new Image,this.img.src=t,"function"==typeof i&&this.show&&(this.img.onload=i)},Drawable.prototype.setText=function(t){for(var i=t.split("\n"),e=0,s=i.length;s>e;e++)this.text.push(new Paragraph(i[e]))},Drawable.prototype.interaction=function(t,i){var e=t.subVector(this.pos.mul(i)),s=0;return 0!==this.radius&&(s=this.radius*i),0!==this.size.length()&&(s=this.size.length()*i),e.length()<=s&&this.show?this:!1};var Canvas=function(t,i,e,s,h,o){this.width=e,this.height=s,this.margin=new Vector2D(t,i),this.ctx=document.getElementById(h).getContext("2d"),this.ctx.canvas.width=e,this.ctx.canvas.height=s,this.center=new Vector2D(e/2,s/2),this.offset=new Vector2D(0,0),this.scale=1,this.objects=o,this.selected=null,this.startPos=new Vector2D(0,0),this.mousePos=new Vector2D(0,0),this.focus=null,this.movingCanvas=null;var n=this;setInterval(function(){for(var t=!1,i=0,e=n.objects.length;e>i;i++)"function"==typeof n.objects[i].requestRedraw?n.objects[i].requestRedraw()&&(t=!0):n.objects[i].requestRedraw&&(t=!0,n.objects[i].requestRedraw=!1);t&&n.draw()},10)};Canvas.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},Canvas.prototype.draw=function(t){this.clear(),this.ctx.save(),this.ctx.textBaseline="hanging";var i=this.center.addVector(this.offset);this.ctx.setTransform(this.scale,0,0,this.scale,i.x,i.y);var e,s;for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].preDraw&&this.objects[e].preDraw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)this.objects[e].draw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].postDraw&&this.objects[e].postDraw(this.ctx,this.scale);this.ctx.restore(),"function"==typeof t&&t()},Canvas.prototype.findObjectOnCanvas=function(t){for(var i=!1,e=this.objects.length-1;e>=0;e--){var s=this.objects[e].interaction(this.mousePos,this.scale);if(s!==!1){t(s),i=!0;break}}i||t(null)},Canvas.prototype.moveToCenter=function(t){if(null===this.movingCanvas){var i=this;this.movingCanvas=setInterval(function(){0===i.offset.x&&0===i.offset.y&&(clearInterval(i.movingCanvas),i.movingCanvas=null);var e=i.offset;e=e.div(30),i.offset=i.offset.subVector(e),Math.abs(i.offset.x)<=1&&(i.offset.x=0),Math.abs(i.offset.y)<=1&&(i.offset.y=0),"function"==typeof t&&t(),i.draw()},10)}},Canvas.prototype.interactionStart=function(t,i){clearInterval(this.movingCanvas),this.movingCanvas=null,this.mousePos=new Vector2D(t.pageX,t.pageY),this.mousePos=this.mousePos.subVector(this.margin),this.mousePos=this.mousePos.subVector(this.center),this.mousePos=this.mousePos.subVector(this.offset);var e=this.mousePos,s=this.offset;this.findObjectOnCanvas(function(t){var h=t;null===h&&(h="self",e=e.addVector(s)),"function"==typeof i&&i(h,e)})},Canvas.prototype.interactionMove=function(t,i){var e=new Vector2D(t.pageX,t.pageY);e=e.subVector(this.margin),e=e.subVector(this.center);var s=e.subVector(this.mousePos);this.mousePos=e,"self"===this.selected?(this.offset=this.offset.addVector(s),this.draw()):null!==this.selected&&(this.startPos=this.startPos.addVector(s),this.mousePos=this.mousePos.subVector(this.offset),i(this.selected,this.mousePos.mul(1/this.scale)))},Canvas.prototype.interactionStop=function(t){t(this.startPos.length()<=10?this.selected:null),this.startPos=new Vector2D(0,0),this.selected=null,this.mousePos=new Vector2D(0,0)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGguanMiLCJhbmltYXRpb24uanMiLCJwYXJhZ3JhcGguanMiLCJkcmF3YWJsZS5qcyIsImNhbnZhcy5qcyJdLCJuYW1lcyI6WyJNYXRoIiwic3F1YXJlIiwieCIsInRvUmFkaWFucyIsIlBJIiwidG9EZWdyZWVzIiwiVmVjdG9yMkQiLCJ5IiwidGhpcyIsInByb3RvdHlwZSIsImxlbmd0aCIsInNxcnQiLCJkb3QiLCJ2MiIsIm5vcm1hbGl6ZSIsImwiLCJhZGQiLCJ6IiwiYWRkVmVjdG9yIiwic3ViIiwic3ViVmVjdG9yIiwibXVsIiwibXVsVmVjdG9yIiwiZGl2IiwiZGl2VmVjdG9yIiwicm90YXRlIiwiYW5nbGUiLCJyIiwiY29zIiwic2luIiwiQW5pbWF0aW9uIiwiZWxlbWVudCIsImZyb20iLCJnb2FsIiwidGltZSIsImVhc2luZyIsImNiIiwiZGlmZmVyZW5jZSIsInBvcyIsImVuZCIsInRpbWVyIiwic3RhcnQiLCJtZSIsInNldEludGVydmFsIiwidmFsIiwibGluZWFyIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImNsZWFySW50ZXJ2YWwiLCJzdG9wIiwiYyIsInQiLCJkIiwiYiIsIlBhcmFncmFwaCIsInRleHQiLCJwYXJ0cyIsImNoZWNrRm9yU3R5bGUiLCJnZXRGb250IiwiaXRhbGljIiwiYm9sZCIsInNpemUiLCJmb250IiwiZm9udFRvVGV4dCIsImRyYXciLCJjdHgiLCJzY2FsZSIsImFsaWduIiwiY29sb3IiLCJzY2FsaW5nIiwid2lkdGgiLCJmIiwiaSIsIm1lYXN1cmUiLCJzIiwidGV4dEFsaWduIiwiZmlsbFN0eWxlIiwiZmlsbFRleHQiLCJtZWFzdXJlVGV4dCIsInBhcnRTaXplIiwib3BlbmluZyIsImNsb3NpbmciLCJzdHlsZSIsInRlbXAiLCJzcGxpdCIsInNoaWZ0IiwicHVzaCIsInAiLCJpbmRleE9mIiwidiIsImoiLCJtIiwic3R5bGVkIiwiRHJhd2FibGUiLCJpbWciLCJpbWdGaWxsIiwiYm9yZGVyQ29sb3IiLCJib3JkZXJXaWR0aCIsImJvcmRlclNjYWxpbmciLCJ0ZXh0SXRhbGljIiwidGV4dEJvbGQiLCJ0ZXh0U2l6ZSIsInRleHRNaW5TaXplIiwidGV4dEZvbnQiLCJ0ZXh0Q29sb3IiLCJ0ZXh0UG9zIiwidGV4dEFuY2hvciIsInRleHRCYWNrZ3JvdW5kIiwidGV4dFJlcGxhY2UiLCJ0ZXh0UmVwbGFjZUNvbG9yIiwidGV4dFNwYWNpbmciLCJ0ZXh0UGFkZGluZyIsInRleHRTY2FsaW5nIiwicmFkaXVzIiwic2hvdyIsInJlcXVlc3RSZWRyYXciLCJhbmltYXRpb25zIiwiZHJhd1JlY3RhbmdsZSIsImZpbGxSZWN0IiwiZHJhd0ltYWdlIiwiaGVpZ2h0IiwiY2xpcCIsImNvbnNvbGUiLCJsb2ciLCJkcmF3Qm9yZGVyIiwic3Ryb2tlU3R5bGUiLCJicmR3IiwibGluZVdpZHRoIiwic3Ryb2tlUmVjdCIsImRyYXdDaXJjbGUiLCJiZWdpblBhdGgiLCJhcmMiLCJjbG9zZVBhdGgiLCJmaWxsIiwiZHJhd0ltYWdlSW5DaXJjbGUiLCJzYXZlIiwicmF0aW8iLCJyZXN0b3JlIiwiZHJhd0JvcmRlckZvckNpcmNsZSIsInN0cm9rZSIsImRyYXdUZXh0IiwidyIsImgiLCJwYXJhZ3JhcGhQb3MiLCJwYXJhZ3JhcGhTaXplIiwic3BhY2luZyIsInBhZGRpbmciLCJibG9ja1NpemUiLCJ0eHRQb3MiLCJibG9ja1BvcyIsInNwYWNlIiwicmVwbGFjZVBvcyIsImFuaW1hdGUiLCJwcm9wZXJ0eSIsInJlc3VsdCIsImFuaW1hdGlvbiIsImFuaW1hdGVWZWN0b3IiLCJhbmltWCIsImFuaW1ZIiwic3RvcEFuaW1hdGlvbiIsImluZGV4Iiwic3BsaWNlIiwic3RvcEFuaW1hdGluZyIsInNldEltYWdlIiwiaW1nU3JjIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJzZXRUZXh0IiwidHh0IiwiaW50ZXJhY3Rpb24iLCJtb3VzZVBvcyIsIm1vdXNlRGlmZmVyZW5jZSIsIkNhbnZhcyIsImVsZW1lbnRJZCIsIm9iamVjdHMiLCJtYXJnaW4iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsImNhbnZhcyIsImNlbnRlciIsIm9mZnNldCIsInNlbGVjdGVkIiwic3RhcnRQb3MiLCJmb2N1cyIsIm1vdmluZ0NhbnZhcyIsInJlZHJhdyIsImNsZWFyIiwiY2xlYXJSZWN0IiwidGV4dEJhc2VsaW5lIiwic2V0VHJhbnNmb3JtIiwicHJlRHJhdyIsInBvc3REcmF3IiwiZmluZE9iamVjdE9uQ2FudmFzIiwiZm91bmQiLCJvIiwibW92ZVRvQ2VudGVyIiwiYWJzIiwiaW50ZXJhY3Rpb25TdGFydCIsImUiLCJwYWdlWCIsInBhZ2VZIiwiaW50ZXJhY3Rpb25Nb3ZlIiwibmV3UG9zIiwiaW50ZXJhY3Rpb25TdG9wIl0sIm1hcHBpbmdzIjoiQUFBQUEsS0FBQUMsT0FBQSxTQUFBQyxHQUNBLE1BQUFBLEdBQUFBLEdBR0FGLEtBQUFHLFVBQUEsU0FBQUQsR0FDQSxNQUFBQSxHQUFBRixLQUFBSSxHQUFBLEtBR0FKLEtBQUFLLFVBQUEsU0FBQUgsR0FDQSxNQUFBLEtBQUFBLEVBQUFGLEtBQUFJLEdBR0EsSUFBQUUsVUFBQSxTQUFBSixFQUFBSyxHQUNBQyxLQUFBTixFQUFBQSxFQUNBTSxLQUFBRCxFQUFBQSxFQUdBRCxVQUFBRyxXQUNBQyxPQUFBLFdBQ0EsTUFBQVYsTUFBQVcsS0FBQVgsS0FBQUMsT0FBQU8sS0FBQU4sR0FBQUYsS0FBQUMsT0FBQU8sS0FBQUQsS0FFQUssSUFBQSxTQUFBQyxHQUNBLE1BQUFMLE1BQUFOLEVBQUFXLEVBQUFYLEVBQUFNLEtBQUFELEVBQUFNLEVBQUFOLEdBRUFPLFVBQUEsV0FDQSxHQUFBQyxHQUFBUCxLQUFBRSxRQUNBRixNQUFBTixHQUFBYSxFQUNBUCxLQUFBRCxHQUFBUSxHQUVBQyxJQUFBLFNBQUFDLEdBQ0EsTUFBQSxJQUFBWCxVQUFBRSxLQUFBTixFQUFBZSxFQUFBVCxLQUFBRCxFQUFBVSxJQUVBQyxVQUFBLFNBQUFMLEdBQ0EsTUFBQSxJQUFBUCxVQUFBRSxLQUFB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QyxFQUNBLFNBQUFyTSxLQUFBZ0wsVUFDQWhMLEtBQUErSyxPQUFBL0ssS0FBQStLLE9BQUFySyxVQUFBbUIsR0FDQTdCLEtBQUF5RCxRQUNBLE9BQUF6RCxLQUFBZ0wsV0FDQWhMLEtBQUFpTCxTQUFBakwsS0FBQWlMLFNBQUF2SyxVQUFBbUIsR0FDQTdCLEtBQUFvSyxTQUFBcEssS0FBQW9LLFNBQUF4SixVQUFBWixLQUFBK0ssUUFDQW5KLEVBQUE1QixLQUFBZ0wsU0FBQWhMLEtBQUFvSyxTQUFBdkosSUFBQSxFQUFBYixLQUFBMkQsVUFJQTJHLE9BQUFySyxVQUFBcU0sZ0JBQUEsU0FBQTFLLEdBRUFBLEVBREE1QixLQUFBaUwsU0FBQS9LLFVBQUEsR0FDQUYsS0FBQWdMLFNBRUEsTUFFQWhMLEtBQUFpTCxTQUFBLEdBQUFuTCxVQUFBLEVBQUEsR0FDQUUsS0FBQWdMLFNBQUEsS0FDQWhMLEtBQUFvSyxTQUFBLEdBQUF0SyxVQUFBLEVBQUEiLCJmaWxlIjoiY2FudmFzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIk1hdGguc3F1YXJlID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiB4ICogeDtcbn07XG5cbk1hdGgudG9SYWRpYW5zID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoeCAqIE1hdGguUEkpIC8gMTgwO1xufTtcblxuTWF0aC50b0RlZ3JlZXMgPSBmdW5jdGlvbih4KSB7XG4gICAgcmV0dXJuICh4ICogMTgwKSAvIE1hdGguUEk7XG59O1xuXG52YXIgVmVjdG9yMkQgPSBmdW5jdGlvbih4LCB5KSB7XG4gICAgdGhpcy54ID0geDtcbiAgICB0aGlzLnkgPSB5O1xufTtcblxuVmVjdG9yMkQucHJvdG90eXBlID0ge1xuICAgIGxlbmd0aDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5zcXVhcmUodGhpcy54KSArIE1hdGguc3F1YXJlKHRoaXMueSkpO1xuICAgIH0sXG4gICAgZG90OiBmdW5jdGlvbih2Mikge1xuICAgICAgICByZXR1cm4gKHRoaXMueCAqIHYyLngpICsgKHRoaXMueSAqIHYyLnkpO1xuICAgIH0sXG4gICAgbm9ybWFsaXplOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGwgPSB0aGlzLmxlbmd0aCgpO1xuICAgICAgICB0aGlzLnggLz0gbDtcbiAgICAgICAgdGhpcy55IC89IGw7XG4gICAgfSxcbiAgICBhZGQ6IGZ1bmN0aW9uKHopIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKyB6LCB0aGlzLnkgKyB6KTtcbiAgICB9LFxuICAgIGFkZFZlY3RvcjogZnVuY3Rpb24odjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggKyB2Mi54LCB0aGlzLnkgKyB2Mi55KTtcbiAgICB9LFxuICAgIHN1YjogZnVuY3Rpb24oeikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAtIHosIHRoaXMueSAtIHopO1xuICAgIH0sXG4gICAgc3ViVmVjdG9yOiBmdW5jdGlvbih2Mikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAtIHYyLngsIHRoaXMueSAtIHYyLnkpO1xuICAgIH0sXG4gICAgbXVsOiBmdW5jdGlvbih6KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICogeiwgdGhpcy55ICogeik7XG4gICAgfSxcbiAgICBtdWxWZWN0b3I6IGZ1bmN0aW9uKHYyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICogdjIueCwgdGhpcy55ICogdjIueSk7XG4gICAgfSxcbiAgICBkaXY6IGZ1bmN0aW9uKHopIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggLyB6LCB0aGlzLnkgLyB6KTtcbiAgICB9LFxuICAgIGRpdlZlY3RvcjogZnVuY3Rpb24odjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggLyB2Mi54LCB0aGlzLnkgLyB2Mi55KTtcbiAgICB9LFxuICAgIHJvdGF0ZTogZnVuY3Rpb24oYW5nbGUpIHtcbiAgICAgICAgdmFyIHIgPSBNYXRoLnRvUmFkaWFucyhhbmdsZSk7XG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhyKTtcbiAgICAgICAgdmFyIHNpbiA9IE1hdGguc2luKHIpO1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKCh0aGlzLnggKiBjb3MpIC0gKHRoaXMueSAqIHNpbiksICh0aGlzLnggKiBzaW4pICsgKHRoaXMueSAqIGNvcykpO1xuICAgIH1cbn07IiwidmFyIEFuaW1hdGlvbiA9IGZ1bmN0aW9uKGVsZW1lbnQsIGZyb20sIGdvYWwsIHRpbWUsIGVhc2luZywgY2IpIHtcbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgdGhpcy5kaWZmZXJlbmNlID0gZ29hbCAtIGZyb207XG5cbiAgICB0aGlzLmVhc2luZyA9IGVhc2luZztcbiAgICB0aGlzLmNiID0gY2I7XG5cbiAgICB0aGlzLnBvcyA9IDA7XG4gICAgdGhpcy5lbmQgPSB0aW1lIC8gMTA7XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oY2IpIHtcbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgbWUucG9zKys7XG4gICAgICAgIHZhciB2YWwgPSAwO1xuICAgICAgICBzd2l0Y2gobWUuZWFzaW5nKSB7XG4gICAgICAgICAgICBjYXNlIFwibGluZWFyXCI6XG4gICAgICAgICAgICAgICAgdmFsID0gbWUubGluZWFyKG1lLmRpZmZlcmVuY2UsIG1lLnBvcywgbWUuZW5kLCBtZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlYXNlSW5cIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBtZS5lYXNlSW4obWUuZGlmZmVyZW5jZSwgbWUucG9zLCBtZS5lbmQsIG1lLmZyb20pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcImVhc2VPdXRcIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBtZS5lYXNlT3V0KG1lLmRpZmZlcmVuY2UsIG1lLnBvcywgbWUuZW5kLCBtZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlYXNlSW5PdXRcIjpcbiAgICAgICAgICAgICAgICB2YWwgPSBtZS5lYXNlSW5PdXQobWUuZGlmZmVyZW5jZSwgbWUucG9zLCBtZS5lbmQsIG1lLmZyb20pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNiKHZhbCk7XG4gICAgICAgIGlmKG1lLnBvcyA+PSBtZS5lbmQpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWUudGltZXIpO1xuICAgICAgICAgICAgbWUudGltZXIgPSBudWxsO1xuICAgICAgICAgICAgbWUucG9zID0gMDtcbiAgICAgICAgICAgIGlmKHR5cGVvZiBtZS5jYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIG1lLmNiKHRydWUsIG1lLmVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgMTApO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKTtcbiAgICB0aGlzLnRpbWVyID0gbnVsbDtcbiAgICBpZih0eXBlb2YgdGhpcy5jYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmNiKGZhbHNlLCB0aGlzLmVsZW1lbnQpO1xuICAgIH1cbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUubGluZWFyID0gZnVuY3Rpb24oYywgdCwgZCwgYikge1xuICAgIHJldHVybiAoYyAqIHQgLyBkICsgYik7XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLmVhc2VJbiA9IGZ1bmN0aW9uKGMsIHQsIGQsIGIpIHtcbiAgICB0IC89IGQ7XG4gICAgcmV0dXJuIChjICogdCAqIHQgKyBiKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuZWFzZU91dCA9IGZ1bmN0aW9uKGMsIHQsIGQsIGIpIHtcbiAgICB0IC89IGQ7XG4gICAgcmV0dXJuICgtYyAqIHQgKiAodC0yKSArIGIpO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5lYXNlSW5PdXQgPSBmdW5jdGlvbihjLCB0LCBkLCBiKSB7XG4gICAgdCAvPSBkIC8gMjtcbiAgICBpZiAodCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIChjLzIqdCp0ICsgYik7XG4gICAgfVxuICAgIHQtLTtcbiAgICByZXR1cm4gKC1jIC8gMiAqICh0ICogKHQgLSAyKSAtIDEpICsgYik7XG59OyIsInZhciBQYXJhZ3JhcGggPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdGhpcy5wYXJ0cyA9IFtdO1xuXG4gICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIltpXVwiLCBcIlsvaV1cIiwgXCJpdGFsaWNcIikpIHtcbiAgICAgICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIltiXVwiLCBcIlsvYl1cIiwgXCJib2xkXCIpKSB7XG4gICAgICAgICAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW3NpemU9XCIsIFwiWy9zaXplXVwiLCBcInNpemVcIikpIHtcbiAgICAgICAgICAgICAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW2ZvbnQ9XCIsIFwiWy9mb250XVwiLCBcImZvbnRcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIlthbGlnbj1cIiwgXCJbL2FsaWduXVwiLCBcImFsaWduXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZighdGhpcy5jaGVja0ZvclN0eWxlKHRleHQsIFwiW2NvbG9yPVwiLCBcIlsvY29sb3JdXCIsIFwiY29sb3JcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcnRzID0gW3RleHRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufTtcblxuUGFyYWdyYXBoLnByb3RvdHlwZS5nZXRGb250ID0gZnVuY3Rpb24oaXRhbGljLCBib2xkLCBzaXplLCBmb250KSB7XG4gICAgaWYodHlwZW9mIHRoaXMuaXRhbGljICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBpdGFsaWMgPSB0aGlzLml0YWxpYztcbiAgICB9XG4gICAgaWYodHlwZW9mIHRoaXMuYm9sZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgYm9sZCA9IHRoaXMuYm9sZDtcbiAgICB9XG4gICAgaWYodHlwZW9mIHRoaXMuc2l6ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc2l6ZSA9IHRoaXMuc2l6ZTtcbiAgICB9XG4gICAgaWYodHlwZW9mIHRoaXMuZm9udCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZm9udCA9IHRoaXMuZm9udDtcbiAgICB9XG4gICAgcmV0dXJuIFtpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnRdO1xufTtcblxuUGFyYWdyYXBoLnByb3RvdHlwZS5mb250VG9UZXh0ID0gZnVuY3Rpb24oaXRhbGljLCBib2xkLCBzaXplLCBmb250KSB7XG4gICAgdmFyIHQgPSBcIlwiO1xuICAgIGlmKGl0YWxpYykge1xuICAgICAgICB0ICs9IFwiaXRhbGljIFwiO1xuICAgIH1cbiAgICBpZihib2xkKSB7XG4gICAgICAgIHQgKz0gXCJib2xkIFwiO1xuICAgIH1cbiAgICB0ICs9IHNpemUgKyBcInB0IFwiICsgZm9udDtcbiAgICByZXR1cm4gdDtcbn07XG5cblBhcmFncmFwaC5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUsIGl0YWxpYywgYm9sZCwgc2l6ZSwgZm9udCwgYWxpZ24sIGNvbG9yLCBzY2FsaW5nLCBwb3MsIHdpZHRoKSB7XG4gICAgdmFyIGYgPSB0aGlzLmdldEZvbnQoaXRhbGljLCBib2xkLCBzaXplLCBmb250KTtcbiAgICB2YXIgeCA9IHBvcy54O1xuICAgIGlmKHR5cGVvZiB0aGlzLmFsaWduICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBhbGlnbiA9IHRoaXMuYWxpZ247XG4gICAgfVxuICAgIGlmKHR5cGVvZiB0aGlzLmNvbG9yICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBjb2xvciA9IHRoaXMuY29sb3I7XG4gICAgfVxuICAgIGlmKHRoaXMucGFydHMubGVuZ3RoID09PSAxICYmICEodGhpcy5wYXJ0c1swXSBpbnN0YW5jZW9mIFBhcmFncmFwaCkpIHtcbiAgICAgICAgaWYoIXNjYWxpbmcpIHtcbiAgICAgICAgICAgIGZbMl0gKj0gMSAvIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGlmKGFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgICBwb3MgPSBwb3MuYWRkVmVjdG9yKG5ldyBWZWN0b3IyRCh3aWR0aCwgMCkubXVsKC41KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYWxpZ24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgcG9zID0gcG9zLmFkZFZlY3RvcihuZXcgVmVjdG9yMkQod2lkdGgsIDApKTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFRvVGV4dChmWzBdLCBmWzFdLCBmWzJdLCBmWzNdKTtcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IGFsaWduO1xuICAgICAgICBjdHguZmlsbFN0eWxlID0gY29sb3I7XG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnBhcnRzWzBdLCBwb3MueCwgcG9zLnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5wYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLnBhcnRzW2ldLmRyYXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzW2ldLmRyYXcoY3R4LCBzY2FsZSwgZlswXSwgZlsxXSwgZlsyXSwgZlszXSwgYWxpZ24sIGNvbG9yLCBzY2FsaW5nLCBwb3MsIHdpZHRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRoaXMucGFydHNbaV0ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMucGFydHNbaV0ubWVhc3VyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcyA9IHRoaXMucGFydHNbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCBmWzBdLCBmWzFdLCBmWzJdLCBmWzNdLCBzY2FsaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcG9zLnggKz0gcy54O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3MueCA9IHg7XG4gICAgfVxufTtcblxuUGFyYWdyYXBoLnByb3RvdHlwZS5tZWFzdXJlID0gZnVuY3Rpb24oY3R4LCBzY2FsZSwgaXRhbGljLCBib2xkLCBzaXplLCBmb250LCBzY2FsaW5nKSB7XG4gICAgdmFyIHMgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdmFyIGYgPSB0aGlzLmdldEZvbnQoaXRhbGljLCBib2xkLCBzaXplLCBmb250KTtcbiAgICBpZih0aGlzLnBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBpZighc2NhbGluZykge1xuICAgICAgICAgICAgZlsyXSAqPSAxIC8gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRUb1RleHQoZlswXSwgZlsxXSwgZlsyXSwgZlszXSk7XG4gICAgICAgIHMueSA9IGZbMl07XG4gICAgICAgIHMueCA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLnBhcnRzWzBdKS53aWR0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMucGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5wYXJ0c1tpXS5tZWFzdXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRTaXplID0gdGhpcy5wYXJ0c1tpXS5tZWFzdXJlKGN0eCwgc2NhbGUsIGZbMF0sIGZbMV0sIGZbMl0sIGZbM10sIHNjYWxpbmcpO1xuICAgICAgICAgICAgICAgIGlmKHBhcnRTaXplLnkgPiBzLnkpIHtcbiAgICAgICAgICAgICAgICAgICAgcy55ID0gcGFydFNpemUueTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcy54ICs9IHBhcnRTaXplLng7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHM7XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLmNoZWNrRm9yU3R5bGUgPSBmdW5jdGlvbih0ZXh0LCBvcGVuaW5nLCBjbG9zaW5nLCBzdHlsZSkge1xuICAgIHZhciB0ZW1wID0gdGV4dC5zcGxpdChvcGVuaW5nKTtcbiAgICBpZih0ZW1wLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciB0ID0gdGVtcC5zaGlmdCgpO1xuICAgICAgICBpZih0Lmxlbmd0aCA+IDAgJiYgISh0IGluc3RhbmNlb2YgUGFyYWdyYXBoKSkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKG5ldyBQYXJhZ3JhcGgodCkpO1xuICAgICAgICB9IGVsc2UgaWYodCBpbnN0YW5jZW9mIFBhcmFncmFwaCkge1xuICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSB0ZW1wLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgdmFyIHAgPSB0ZW1wW2ldLnNwbGl0KGNsb3NpbmcpO1xuICAgICAgICAgICAgaWYob3BlbmluZy5pbmRleE9mKFwiPVwiKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgcFswXSA9IHBbMF0uc3BsaXQoXCJdXCIpO1xuICAgICAgICAgICAgICAgIHZhciB2ID0gcFswXS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHZhciBzcGxpdCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqID0gMCwgbSA9IHBbMF0ubGVuZ3RoOyBqIDwgbTsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHNwbGl0ICs9IHBbMF1bal07XG4gICAgICAgICAgICAgICAgICAgIGlmKGogPCBtIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaXQgKz0gXCJdXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcFswXSA9IHNwbGl0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHN0eWxlZCA9IG5ldyBQYXJhZ3JhcGgocFswXSk7XG5cbiAgICAgICAgICAgIGlmKHBbMV0ubGVuZ3RoID09PSAwICYmICEocFsxXSBpbnN0YW5jZW9mIFBhcmFncmFwaCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goc3R5bGVkKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZihwWzFdIGluc3RhbmNlb2YgUGFyYWdyYXBoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHN0eWxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHBbMV0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2goc3R5bGVkKTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2gobmV3IFBhcmFncmFwaChwWzFdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2goc3R5bGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiaXRhbGljXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5pdGFsaWMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYm9sZFwiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuYm9sZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzaXplXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5zaXplID0gdjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImZvbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVkLmZvbnQgPSB2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWxpZ25cIjpcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVkLmFsaWduID0gdjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNvbG9yXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5jb2xvciA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59OyIsInZhciBEcmF3YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICB0aGlzLmltZyA9IG51bGw7XG4gICAgdGhpcy5pbWdGaWxsID0gdHJ1ZTtcblxuICAgIHRoaXMuYm9yZGVyQ29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICB0aGlzLmJvcmRlcldpZHRoID0gMDtcbiAgICB0aGlzLmJvcmRlclNjYWxpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy50ZXh0ID0gW107XG4gICAgdGhpcy50ZXh0SXRhbGljID0gZmFsc2U7XG4gICAgdGhpcy50ZXh0Qm9sZCA9IGZhbHNlO1xuICAgIHRoaXMudGV4dFNpemUgPSAwO1xuICAgIHRoaXMudGV4dE1pblNpemUgPSA2O1xuICAgIHRoaXMudGV4dEZvbnQgPSBcIkFyaWFsXCI7XG4gICAgdGhpcy50ZXh0QWxpZ24gPSBcImxlZnRcIjtcbiAgICB0aGlzLnRleHRDb2xvciA9IFwiIzAwMDAwMFwiO1xuICAgIHRoaXMudGV4dFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnRleHRBbmNob3IgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy50ZXh0QmFja2dyb3VuZCA9IG51bGw7XG4gICAgdGhpcy50ZXh0UmVwbGFjZSA9IDIwO1xuICAgIHRoaXMudGV4dFJlcGxhY2VDb2xvciA9IG51bGw7XG4gICAgdGhpcy50ZXh0U3BhY2luZyA9IDEuMjtcbiAgICB0aGlzLnRleHRQYWRkaW5nID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMudGV4dFNjYWxpbmcgPSB0cnVlO1xuXG4gICAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5yYWRpdXMgPSAwO1xuICAgIHRoaXMuc2l6ZSA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcblxuICAgIHRoaXMuc2hvdyA9IHRydWU7XG4gICAgdGhpcy5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgdGhpcy5hbmltYXRpb25zID0gW107XG5cbiAgICB0aGlzLmRyYXdSZWN0YW5nbGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIHZhciBwID0gbmV3IFZlY3RvcjJEKDAsIDApLnN1YlZlY3Rvcih0aGlzLnNpemUuZGl2KDIpKTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHAueCwgcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgIH07XG4gICAgdGhpcy5kcmF3SW1hZ2UgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgaWYodGhpcy5pbWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSAwO1xuICAgICAgICAgICAgaWYodGhpcy5pbWdGaWxsKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pbWcud2lkdGggPiB0aGlzLmltZy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pbWcud2lkdGggPiB0aGlzLmltZy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbGlwID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLm11bFZlY3Rvcih0aGlzLnNpemUpLnN1YlZlY3Rvcih0aGlzLnNpemUpLm11bCgtLjUpO1xuICAgICAgICAgICAgdmFyIHAgPSBuZXcgVmVjdG9yMkQoMCwgMCkuc3ViVmVjdG9yKHRoaXMuc2l6ZS5kaXYoMikpO1xuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltZywgY2xpcC54LCBjbGlwLnksIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSwgcC54LCBwLnksIHRoaXMuc2l6ZS54LCB0aGlzLnNpemUueSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltEUkFXQUJMRV1bZHJhd0ltYWdlXTogQ291bGQgbm90IGRyYXcgaW1hZ2UgZm9yXCIsIHRoaXMsIFwic2luY2UgdGhpcy5pbWcgaXMgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kcmF3Qm9yZGVyID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLmJvcmRlckNvbG9yO1xuICAgICAgICB2YXIgYnJkdyA9IHRoaXMuYm9yZGVyV2lkdGg7XG4gICAgICAgIGlmKCF0aGlzLmJvcmRlclNjYWxpbmcpIHtcbiAgICAgICAgICAgIGJyZHcgKj0gMSAvIHNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIGN0eC5saW5lV2lkdGggPSBicmR3O1xuICAgICAgICB2YXIgcCA9IG5ldyBWZWN0b3IyRCgwLCAwKS5zdWJWZWN0b3IodGhpcy5zaXplLmRpdigyKSk7XG4gICAgICAgIGN0eC5zdHJva2VSZWN0KHAueCwgcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgIH07XG5cbiAgICB0aGlzLmRyYXdDaXJjbGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LmFyYygwLCAwLCB0aGlzLnJhZGl1cywgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBjdHguZmlsbCgpO1xuICAgIH07XG4gICAgdGhpcy5kcmF3SW1hZ2VJbkNpcmNsZSA9IGZ1bmN0aW9uKGN0eCkge1xuICAgICAgICBpZih0aGlzLmltZyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY3R4LnNhdmUoKTtcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5hcmMoMCwgMCwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgICAgIGN0eC5jbGlwKCk7XG4gICAgICAgICAgICB2YXIgZGl2ID0gMTtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFZlY3RvcjJEKDAsIDApLnN1Yih0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICB2YXIgcyA9IG5ldyBWZWN0b3IyRCh0aGlzLnJhZGl1cywgdGhpcy5yYWRpdXMpLm11bCgyKTtcbiAgICAgICAgICAgIHZhciBjbGlwID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgICAgICAgICAgaWYodGhpcy5pbWdGaWxsKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pbWcud2lkdGggPiB0aGlzLmltZy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjbGlwID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLnN1YigxKS5tdWwoZGl2KS5kaXYoMik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1nLndpZHRoID4gdGhpcy5pbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJhdGlvID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLnN1YigxKS5tdWwoLTEpO1xuICAgICAgICAgICAgICAgIGlmKHJhdGlvLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW8ueCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHJhdGlvLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW8ueSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMgPSBuZXcgVmVjdG9yMkQodGhpcy5pbWcud2lkdGgsIHRoaXMuaW1nLmhlaWdodCkuZGl2KGRpdikubXVsVmVjdG9yKHMpO1xuICAgICAgICAgICAgICAgIHAgPSBwLnN1YlZlY3RvcihyYXRpby5tdWxWZWN0b3IocykuZGl2KDIpKTtcbiAgICAgICAgICAgICAgICBwID0gcC5hZGRWZWN0b3IocmF0aW8ubXVsKHRoaXMucmFkaXVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1nLCBjbGlwLngsIGNsaXAueSwgdGhpcy5pbWcud2lkdGggLSAoY2xpcC54ICogMiksIHRoaXMuaW1nLmhlaWdodCAtIChjbGlwLnkgKiAyKSwgcC54LCBwLnksIHMueCwgcy55KTtcbiAgICAgICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltEUkFXQUJMRV1bZHJhd0ltYWdlSW5DaXJjbGVdOiBDb3VsZCBub3QgZHJhdyBpbWFnZSBmb3JcIiwgdGhpcywgXCJzaW5jZSB0aGlzLmltZyBpcyBudWxsXCIpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmRyYXdCb3JkZXJGb3JDaXJjbGUgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5ib3JkZXJDb2xvcjtcbiAgICAgICAgdmFyIGJyZHcgPSB0aGlzLmJvcmRlcldpZHRoO1xuICAgICAgICBpZighdGhpcy5ib3JkZXJTY2FsaW5nKSB7XG4gICAgICAgICAgICBicmR3ICo9IDEgLyBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJkdztcbiAgICAgICAgY3R4LmFyYygwLCAwLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIsIHRydWUpO1xuICAgICAgICBjdHguc3Ryb2tlKCk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3VGV4dCA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgaWYodGhpcy50ZXh0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFNpemUgPSB0aGlzLnRleHRTaXplO1xuICAgICAgICAgICAgaWYodGhpcy50ZXh0U2NhbGluZykge1xuICAgICAgICAgICAgICAgIHRleHRTaXplICo9IHNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGV4dFNpemUgPj0gdGhpcy50ZXh0TWluU2l6ZSkge1xuICAgICAgICAgICAgICAgIHZhciB3ID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgaCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHZhciBsID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgcGFyYWdyYXBoUG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgICAgICAgICAgICAgIGZvcihsID0gdGhpcy50ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFyYWdyYXBoU2l6ZSA9IHRoaXMudGV4dFtpXS5tZWFzdXJlKGN0eCwgc2NhbGUsIHRoaXMudGV4dEl0YWxpYywgdGhpcy50ZXh0Qm9sZCwgdGhpcy50ZXh0U2l6ZSwgdGhpcy50ZXh0Rm9udCwgdGhpcy50ZXh0U2NhbGluZyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXJhZ3JhcGhTaXplLnggPiB3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3ID0gcGFyYWdyYXBoU2l6ZS54O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGggKz0gcGFyYWdyYXBoU2l6ZS55O1xuICAgICAgICAgICAgICAgICAgICBpZiAobCAtIGkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BhY2luZyA9IHRoaXMudGV4dFNwYWNpbmcgKiB0aGlzLnRleHRTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnRleHRTY2FsaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2luZyAqPSAxIC8gc2NhbGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBoICs9IHNwYWNpbmc7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0QmFja2dyb3VuZCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50ZXh0QmFja2dyb3VuZDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0aGlzLnRleHRQYWRkaW5nO1xuICAgICAgICAgICAgICAgICAgICBpZighdGhpcy50ZXh0U2NhbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcubXVsKDEgLyBzY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrU2l6ZSA9IHBhZGRpbmcubXVsKDIpLmFkZFZlY3RvcihuZXcgVmVjdG9yMkQodywgaCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHh0UG9zID0gdGhpcy50ZXh0UG9zO1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJhZGl1cyAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHh0UG9zID0gdHh0UG9zLm11bCh0aGlzLnJhZGl1cyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaXplLmxlbmd0aCgpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eHRQb3MgPSB0eHRQb3MubXVsVmVjdG9yKHRoaXMuc2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIGJsb2NrUG9zID0gdHh0UG9zLnN1YlZlY3RvcihibG9ja1NpemUubXVsVmVjdG9yKHRoaXMudGV4dEFuY2hvcikpO1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QoYmxvY2tQb3MueCwgYmxvY2tQb3MueSwgYmxvY2tTaXplLngsIGJsb2NrU2l6ZS55KTtcbiAgICAgICAgICAgICAgICAgICAgcGFyYWdyYXBoUG9zID0gYmxvY2tQb3MuYWRkVmVjdG9yKHBhZGRpbmcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IoaSA9IDAsIGwgPSB0aGlzLnRleHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRleHRDb2xvcjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMudGV4dFtpXS5tZWFzdXJlKGN0eCwgc2NhbGUsIHRoaXMudGV4dEl0YWxpYywgdGhpcy50ZXh0Qm9sZCwgdGhpcy50ZXh0U2l6ZSwgdGhpcy50ZXh0Rm9udCwgdGhpcy50ZXh0U2NhbGluZykueTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNlID0gdGhpcy50ZXh0U3BhY2luZyAqIHRoaXMudGV4dFNpemU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZXh0U2NhbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BhY2UgKj0gMSAvIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSBzcGFjZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0W2ldLmRyYXcoY3R4LCBzY2FsZSwgdGhpcy50ZXh0SXRhbGljLCB0aGlzLnRleHRCb2xkLCB0aGlzLnRleHRTaXplLCB0aGlzLnRleHRGb250LCB0aGlzLnRleHRBbGlnbiwgdGhpcy50ZXh0Q29sb3IsIHRoaXMudGV4dFNjYWxpbmcsIHBhcmFncmFwaFBvcywgdyk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFBvcyA9IHBhcmFncmFwaFBvcy5hZGRWZWN0b3IobmV3IFZlY3RvcjJEKDAsIGhlaWdodCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0UmVwbGFjZUNvbG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnRleHRSZXBsYWNlQ29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXBsYWNlUG9zO1xuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnRleHRSZXBsYWNlIGluc3RhbmNlb2YgVmVjdG9yMkQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VQb3MgPSB0aGlzLnRleHRQb3MubXVsVmVjdG9yKHRoaXMuc2l6ZSkuc3ViVmVjdG9yKHRoaXMudGV4dFJlcGxhY2UubXVsVmVjdG9yKHRoaXMudGV4dEFuY2hvcikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHJlcGxhY2VQb3MueCwgcmVwbGFjZVBvcy55LCB0aGlzLnRleHRSZXBsYWNlLngsIHRoaXMudGV4dFJlcGxhY2UueSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZih0aGlzLnRleHRSZXBsYWNlID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZVBvcyA9IHRoaXMudGV4dFBvcy5tdWwodGhpcy5yYWRpdXMpLnN1YlZlY3Rvcih0aGlzLnRleHRBbmNob3Iuc3ViKDAuNSkubXVsKHRoaXMudGV4dFJlcGxhY2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hcmMocmVwbGFjZVBvcy54LCByZXBsYWNlUG9zLnksIHRoaXMudGV4dFJlcGxhY2UsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguZmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRFJBV0FCTEVdW2RyYXdUZXh0XTogQ291bGQgbm90IGRyYXcgdGV4dCBmb3JcIiwgdGhpcywgXCJzaW5jZSB0aGlzLnRleHQgaXMgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLmFuaW1hdGUgPSBmdW5jdGlvbihwcm9wZXJ0eSwgcmVzdWx0LCB0aW1lLCBlYXNpbmcsIGNiKSB7XG4gICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgQW5pbWF0aW9uKHRoaXMsIHRoaXNbcHJvcGVydHldLCByZXN1bHQsIHRpbWUsIGVhc2luZywgY2IpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltYXRpb24pO1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICBhbmltYXRpb24uc3RhcnQoZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICBtZVtwcm9wZXJ0eV0gPSB2YWw7XG4gICAgICAgICAgICBtZS5yZXF1ZXN0UmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBhbmltYXRpb247XG4gICAgfTtcbiAgICB0aGlzLmFuaW1hdGVWZWN0b3IgPSBmdW5jdGlvbihwcm9wZXJ0eSwgcmVzdWx0LCB0aW1lLCBlYXNpbmcsIGNiKSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHZhciBhbmltWCA9IG5ldyBBbmltYXRpb24odGhpcywgdGhpc1twcm9wZXJ0eV0ueCwgcmVzdWx0LngsIHRpbWUsIGVhc2luZywgY2IpO1xuICAgICAgICB2YXIgYW5pbVkgPSBuZXcgQW5pbWF0aW9uKHRoaXMsIHRoaXNbcHJvcGVydHldLnksIHJlc3VsdC55LCB0aW1lLCBlYXNpbmcsIGNiKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbVgpO1xuICAgICAgICB0aGlzLmFuaW1hdGlvbnMucHVzaChhbmltWSk7XG4gICAgICAgIGFuaW1YLnN0YXJ0KGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgbWVbcHJvcGVydHldLnggPSB2YWw7XG4gICAgICAgICAgICBtZS5yZXF1ZXN0UmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIGFuaW1ZLnN0YXJ0KGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgbWVbcHJvcGVydHldLnkgPSB2YWw7XG4gICAgICAgICAgICBtZS5yZXF1ZXN0UmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICB0aGlzLnN0b3BBbmltYXRpb24gPSBmdW5jdGlvbihhbmltYXRpb24pIHtcbiAgICAgICAgYW5pbWF0aW9uLnN0b3AoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5hbmltYXRpb25zLmluZGV4T2YoYW5pbWF0aW9uKTtcbiAgICAgICAgaWYoaW5kZXggPiAtMSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuc3RvcEFuaW1hdGluZyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5hbmltYXRpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbnNbaV0uc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFtdO1xuICAgIH07XG59O1xuXG5EcmF3YWJsZS5wcm90b3R5cGUuc2V0SW1hZ2UgPSBmdW5jdGlvbihpbWdTcmMsIGNiKSB7XG4gICAgdGhpcy5pbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICB0aGlzLmltZy5zcmMgPSBpbWdTcmM7XG4gICAgaWYodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nICYmIHRoaXMuc2hvdykge1xuICAgICAgICB0aGlzLmltZy5vbmxvYWQgPSBjYjtcbiAgICB9XG59O1xuRHJhd2FibGUucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbih0ZXh0KSB7XG4gICAgdmFyIHR4dCA9IHRleHQuc3BsaXQoJ1xcbicpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gdHh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLnRleHQucHVzaChuZXcgUGFyYWdyYXBoKHR4dFtpXSkpO1xuICAgIH1cbn07XG5cbkRyYXdhYmxlLnByb3RvdHlwZS5pbnRlcmFjdGlvbiA9IGZ1bmN0aW9uKG1vdXNlUG9zLCBzY2FsZSkge1xuICAgIHZhciBtb3VzZURpZmZlcmVuY2UgPSBtb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5wb3MubXVsKHNjYWxlKSk7XG4gICAgdmFyIGRpZmZlcmVuY2UgPSAwO1xuICAgIGlmKHRoaXMucmFkaXVzICE9PSAwKSB7XG4gICAgICAgIGRpZmZlcmVuY2UgPSB0aGlzLnJhZGl1cyAqIHNjYWxlO1xuICAgIH1cbiAgICBpZih0aGlzLnNpemUubGVuZ3RoKCkgIT09IDApIHtcbiAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMuc2l6ZS5sZW5ndGgoKSAqIHNjYWxlO1xuICAgIH1cbiAgICBpZiAobW91c2VEaWZmZXJlbmNlLmxlbmd0aCgpIDw9IGRpZmZlcmVuY2UgJiYgdGhpcy5zaG93KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59OyIsInZhciBDYW52YXMgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBlbGVtZW50SWQsIG9iamVjdHMpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5tYXJnaW4gPSBuZXcgVmVjdG9yMkQoeCwgeSk7XG4gICAgdGhpcy5jdHggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWQpLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICB0aGlzLmN0eC5jYW52YXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuXG4gICAgdGhpcy5jZW50ZXIgPSBuZXcgVmVjdG9yMkQod2lkdGggLyAyLCBoZWlnaHQgLyAyKTtcbiAgICB0aGlzLm9mZnNldCA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnNjYWxlID0gMTtcblxuICAgIHRoaXMub2JqZWN0cyA9IG9iamVjdHM7XG4gICAgdGhpcy5zZWxlY3RlZCA9IG51bGw7XG5cbiAgICB0aGlzLnN0YXJ0UG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMubW91c2VQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5mb2N1cyA9IG51bGw7XG5cbiAgICB0aGlzLm1vdmluZ0NhbnZhcyA9IG51bGw7XG5cbiAgICB2YXIgbWUgPSB0aGlzO1xuICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcmVkcmF3ID0gZmFsc2U7XG4gICAgICAgIGZvcih2YXIgaSA9IDAsIGwgPSBtZS5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodHlwZW9mIG1lLm9iamVjdHNbaV0ucmVxdWVzdFJlZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGlmKG1lLm9iamVjdHNbaV0ucmVxdWVzdFJlZHJhdygpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlZHJhdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZihtZS5vYmplY3RzW2ldLnJlcXVlc3RSZWRyYXcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgbWUub2JqZWN0c1tpXS5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKHJlZHJhdykge1xuICAgICAgICAgICAgbWUuZHJhdygpO1xuICAgICAgICB9XG4gICAgfSwgMTApO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihjYikge1xuICAgIHRoaXMuY2xlYXIoKTtcbiAgICB0aGlzLmN0eC5zYXZlKCk7XG4gICAgdGhpcy5jdHgudGV4dEJhc2VsaW5lID0gXCJoYW5naW5nXCI7XG4gICAgdmFyIGMgPSB0aGlzLmNlbnRlci5hZGRWZWN0b3IodGhpcy5vZmZzZXQpO1xuICAgIHRoaXMuY3R4LnNldFRyYW5zZm9ybSh0aGlzLnNjYWxlLCAwLCAwLCB0aGlzLnNjYWxlLCBjLngsIGMueSk7XG4gICAgdmFyIGksIGw7XG4gICAgZm9yKGkgPSAwLCBsID0gdGhpcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZih0eXBlb2YgdGhpcy5vYmplY3RzW2ldLnByZURyYXcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMub2JqZWN0c1tpXS5wcmVEcmF3KHRoaXMuY3R4LCB0aGlzLnNjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IoaSA9IDAsIGwgPSB0aGlzLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHRoaXMub2JqZWN0c1tpXS5kcmF3KHRoaXMuY3R4LCB0aGlzLnNjYWxlKTtcbiAgICB9XG4gICAgZm9yKGkgPSAwLCBsID0gdGhpcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICBpZih0eXBlb2YgdGhpcy5vYmplY3RzW2ldLnBvc3REcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdHNbaV0ucG9zdERyYXcodGhpcy5jdHgsIHRoaXMuc2NhbGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICBpZih0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59O1xuXG5DYW52YXMucHJvdG90eXBlLmZpbmRPYmplY3RPbkNhbnZhcyA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgZm9yKHZhciBpID0gdGhpcy5vYmplY3RzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIHZhciBvID0gdGhpcy5vYmplY3RzW2ldLmludGVyYWN0aW9uKHRoaXMubW91c2VQb3MsIHRoaXMuc2NhbGUpO1xuICAgICAgICBpZihvICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgY2Iobyk7XG4gICAgICAgICAgICBmb3VuZCA9IHRydWU7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZighZm91bmQpIHtcbiAgICAgICAgY2IobnVsbCk7XG4gICAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5tb3ZlVG9DZW50ZXIgPSBmdW5jdGlvbihjYikge1xuICAgIGlmKHRoaXMubW92aW5nQ2FudmFzID09PSBudWxsKSB7XG4gICAgICAgIHZhciBtZSA9IHRoaXM7XG4gICAgICAgIHRoaXMubW92aW5nQ2FudmFzID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihtZS5vZmZzZXQueCA9PT0gMCAmJiBtZS5vZmZzZXQueSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobWUubW92aW5nQ2FudmFzKTtcbiAgICAgICAgICAgICAgICBtZS5tb3ZpbmdDYW52YXMgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGQgPSBtZS5vZmZzZXQ7XG4gICAgICAgICAgICBkID0gZC5kaXYoMzApO1xuICAgICAgICAgICAgbWUub2Zmc2V0ID0gbWUub2Zmc2V0LnN1YlZlY3RvcihkKTtcbiAgICAgICAgICAgIGlmKE1hdGguYWJzKG1lLm9mZnNldC54KSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgbWUub2Zmc2V0LnggPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoTWF0aC5hYnMobWUub2Zmc2V0LnkpIDw9IDEpIHtcbiAgICAgICAgICAgICAgICBtZS5vZmZzZXQueSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZih0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWUuZHJhdygpO1xuICAgICAgICB9LCAxMCk7XG4gICAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5pbnRlcmFjdGlvblN0YXJ0ID0gZnVuY3Rpb24oZSwgY2IpIHtcbiAgICBjbGVhckludGVydmFsKHRoaXMubW92aW5nQ2FudmFzKTtcbiAgICB0aGlzLm1vdmluZ0NhbnZhcyA9IG51bGw7XG4gICAgdGhpcy5tb3VzZVBvcyA9IG5ldyBWZWN0b3IyRChlLnBhZ2VYLCBlLnBhZ2VZKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gdGhpcy5tb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5tYXJnaW4pO1xuICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLm1vdXNlUG9zLnN1YlZlY3Rvcih0aGlzLmNlbnRlcik7XG4gICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMubW91c2VQb3Muc3ViVmVjdG9yKHRoaXMub2Zmc2V0KTtcbiAgICB2YXIgbW91c2VQb3MgPSB0aGlzLm1vdXNlUG9zO1xuICAgIHZhciBvZmZzZXQgPSB0aGlzLm9mZnNldDtcbiAgICB0aGlzLmZpbmRPYmplY3RPbkNhbnZhcyhmdW5jdGlvbihmb3VuZCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBmb3VuZDtcbiAgICAgICAgaWYoc2VsZWN0ZWQgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkID0gXCJzZWxmXCI7XG4gICAgICAgICAgICBtb3VzZVBvcyA9IG1vdXNlUG9zLmFkZFZlY3RvcihvZmZzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2Ioc2VsZWN0ZWQsIG1vdXNlUG9zKTtcbiAgICAgICAgfVxuICAgIH0pO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5pbnRlcmFjdGlvbk1vdmUgPSBmdW5jdGlvbihlLCBjYikge1xuICAgIHZhciBuZXdQb3MgPSBuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSk7XG4gICAgbmV3UG9zID0gbmV3UG9zLnN1YlZlY3Rvcih0aGlzLm1hcmdpbik7XG4gICAgbmV3UG9zID0gbmV3UG9zLnN1YlZlY3Rvcih0aGlzLmNlbnRlcik7XG4gICAgdmFyIGRpZmZlcmVuY2UgPSBuZXdQb3Muc3ViVmVjdG9yKHRoaXMubW91c2VQb3MpO1xuICAgIHRoaXMubW91c2VQb3MgPSBuZXdQb3M7XG4gICAgaWYodGhpcy5zZWxlY3RlZCA9PT0gXCJzZWxmXCIpIHtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLm9mZnNldC5hZGRWZWN0b3IoZGlmZmVyZW5jZSk7XG4gICAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0gZWxzZSBpZih0aGlzLnNlbGVjdGVkICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb3MgPSB0aGlzLnN0YXJ0UG9zLmFkZFZlY3RvcihkaWZmZXJlbmNlKTtcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMubW91c2VQb3Muc3ViVmVjdG9yKHRoaXMub2Zmc2V0KTtcbiAgICAgICAgY2IodGhpcy5zZWxlY3RlZCwgdGhpcy5tb3VzZVBvcy5tdWwoMSAvIHRoaXMuc2NhbGUpKTtcbiAgICB9XG59O1xuXG5DYW52YXMucHJvdG90eXBlLmludGVyYWN0aW9uU3RvcCA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgaWYodGhpcy5zdGFydFBvcy5sZW5ndGgoKSA8PSAxMCkge1xuICAgICAgICBjYih0aGlzLnNlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjYihudWxsKTtcbiAgICB9XG4gICAgdGhpcy5zdGFydFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnNlbGVjdGVkID0gbnVsbDtcbiAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
