Math.square=function(t){return t*t},Math.toRadians=function(t){return t*Math.PI/180},Math.toDegrees=function(t){return 180*t/Math.PI};var Vector2D=function(t,i){this.x=t,this.y=i};Vector2D.prototype={length:function(){return Math.sqrt(Math.square(this.x)+Math.square(this.y))},dot:function(t){return this.x*t.x+this.y*t.y},normalize:function(){var t=this.length();this.x/=t,this.y/=t},add:function(t){return new Vector2D(this.x+t,this.y+t)},addVector:function(t){return new Vector2D(this.x+t.x,this.y+t.y)},sub:function(t){return new Vector2D(this.x-t,this.y-t)},subVector:function(t){return new Vector2D(this.x-t.x,this.y-t.y)},mul:function(t){return new Vector2D(this.x*t,this.y*t)},mulVector:function(t){return new Vector2D(this.x*t.x,this.y*t.y)},div:function(t){return new Vector2D(this.x/t,this.y/t)},divVector:function(t){return new Vector2D(this.x/t.x,this.y/t.y)},rotate:function(t){var i=Math.toRadians(t),e=Math.cos(i),s=Math.sin(i);return new Vector2D(this.x*e-this.y*s,this.x*s+this.y*e)}};var Animation=function(t,i,e,s,h,o){this.element=t,this.from=i,this.difference=e-i,this.easing=h,this.cb=o,this.pos=0,this.end=s/10,this.timer=null};Animation.prototype.start=function(t){var i=this;this.timer=setInterval(function(){i.pos++;var e=0;switch(i.easing){case"linear":e=i.linear(i.difference,i.pos,i.end,i.from);break;case"easeIn":e=i.easeIn(i.difference,i.pos,i.end,i.from);break;case"easeOut":e=i.easeOut(i.difference,i.pos,i.end,i.from);break;case"easeInOut":e=i.easeInOut(i.difference,i.pos,i.end,i.from)}t(e),i.pos>=i.end&&(clearInterval(i.timer),i.timer=null,i.pos=0,"function"==typeof i.cb&&i.cb(!0,i.element))},10)},Animation.prototype.stop=function(){clearInterval(this.timer),this.timer=null,"function"==typeof this.cb&&this.cb(!1,this.element)},Animation.prototype.linear=function(t,i,e,s){return t*i/e+s},Animation.prototype.easeIn=function(t,i,e,s){return i/=e,t*i*i+s},Animation.prototype.easeOut=function(t,i,e,s){return i/=e,-t*i*(i-2)+s},Animation.prototype.easeInOut=function(t,i,e,s){return i/=e/2,1>i?t/2*i*i+s:(i--,-t/2*(i*(i-2)-1)+s)};var Paragraph=function(t){this.parts=[],this.checkForStyle(t,"[i]","[/i]","italic")||this.checkForStyle(t,"[b]","[/b]","bold")||this.checkForStyle(t,"[size=","[/size]","size")||this.checkForStyle(t,"[font=","[/font]","font")||this.checkForStyle(t,"[align=","[/align]","align")||this.checkForStyle(t,"[color=","[/color]","color")||(this.parts=[t])};Paragraph.prototype.getFont=function(t,i,e,s){return"undefined"!=typeof this.italic&&(t=this.italic),"undefined"!=typeof this.bold&&(i=this.bold),"undefined"!=typeof this.size&&(e=this.size),"undefined"!=typeof this.font&&(s=this.font),[t,i,e,s]},Paragraph.prototype.fontToText=function(t,i,e,s){var h="";return t&&(h+="italic "),i&&(h+="bold "),h+=e+"pt "+s},Paragraph.prototype.draw=function(t,i,e,s,h,o,r,n,a,c,l,u){var f=this.getFont(e,s,h,o);if("undefined"!=typeof this.align&&(r=this.align),"undefined"!=typeof this.color&&(n=this.color),1!==this.parts.length||this.parts[0]instanceof Paragraph){for(var d=0,g=this.parts.length;g>d;d++)if("function"==typeof this.parts[d].draw&&this.parts[d].draw(t,i,f[0],f[1],f[2],f[3],r,n,a,c,l,u),1===this.parts[d].parts.length&&"function"==typeof this.parts[d].measure){var p=this.parts[d].measure(t,i,f[0],f[1],f[2],f[3],a);l+=p.x}}else a||(f[2]*=1/i),"center"===r&&(l=0,c=c.addVector(new Vector2D(u,0).mul(.5))),"right"===r&&(l=0,c=c.addVector(new Vector2D(u,0))),t.font=this.fontToText(f[0],f[1],f[2],f[3]),t.textAlign=r,t.fillStyle=n,t.fillText(this.parts[0],c.x+l,c.y)},Paragraph.prototype.measure=function(t,i,e,s,h,o,r){var n=new Vector2D(0,0),a=this.getFont(e,s,h,o);if(1===this.parts.length)r||(a[2]*=1/i),t.font=this.fontToText(a[0],a[1],a[2],a[3]),n.y=a[2],n.x=t.measureText(this.parts[0]).width;else for(var c=0,l=this.parts.length;l>c;c++)if("function"==typeof this.parts[c].measure){var u=this.parts[c].measure(t,i,a[0],a[1],a[2],a[3],r);u.y>n.y&&(n.y=u.y),n.x+=u.x}return n},Paragraph.prototype.checkForStyle=function(t,i,e,s){var h,o=t.split(i);if(o.length>=2){var r=o.shift();r.length>0&&!(r instanceof Paragraph)?this.parts.push(new Paragraph(r)):r instanceof Paragraph&&this.parts.push(r);for(var n=0,a=o.length;a>n;n++){var c=o[n].split(e);if(i.indexOf("=")>-1){c[0]=c[0].split("]"),h=c[0].shift();for(var l="",u=0,f=c[0].length;f>u;u++)l+=c[0][u],f-1>u&&(l+="]");c[0]=l}var d=new Paragraph(c[0]);switch(0!==c[1].length||c[1]instanceof Paragraph?c[1]instanceof Paragraph?(this.parts.push(d),this.parts.push(c[1])):(this.parts.push(d),this.parts.push(new Paragraph(c[1]))):this.parts.push(d),s){case"italic":d.italic=!0;break;case"bold":d.bold=!0;break;case"size":d.size=h;break;case"font":d.font=h;break;case"align":d.align=h;break;case"color":d.color=h}}return!0}return!1};var Drawable=function(){this.color="#000000",this.img=null,this.imgFill=!0,this.scale=!0,this.borderColor="#000000",this.borderWidth=0,this.borderScaling=!0,this.text=[],this.textItalic=!1,this.textBold=!1,this.textSize=0,this.textMinSize=6,this.textFont="Arial",this.textAlign="left",this.textColor="#000000",this.textPos=new Vector2D(0,0),this.textAnchor=new Vector2D(0,0),this.textBackground=null,this.textReplace=20,this.textReplaceColor=null,this.textSpacing=1.2,this.textPadding=new Vector2D(0,0),this.textScaling=!0,this.opacity=1,this.rotation=0,this.pos=new Vector2D(0,0),this.radius=0,this.size=new Vector2D(0,0),this.show=!0,this.requestRedraw=!1,this.animations=[],this.drawRectangle=function(t){t.fillStyle=this.color;var i=new Vector2D(0,0).subVector(this.size.div(2));t.fillRect(i.x,i.y,this.size.x,this.size.y)},this.drawImage=function(t){if(null!==this.img){var i=0;i=this.imgFill?this.img.width>this.img.height?this.img.height:this.img.width:this.img.width>this.img.height?this.img.width:this.img.height;var e=new Vector2D(this.img.width,this.img.height).div(i).mulVector(this.size).subVector(this.size).mul(-.5),s=new Vector2D(0,0).subVector(this.size.div(2));this.scale||e.mul(),t.drawImage(this.img,e.x,e.y,this.size.x,this.size.y,s.x,s.y,this.size.x,this.size.y)}else console.log("[DRAWABLE][drawImage]: Could not draw image for",this,"since this.img is null")},this.drawBorder=function(t,i){t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e;var s=new Vector2D(0,0).subVector(this.size.div(2));t.strokeRect(s.x,s.y,this.size.x,this.size.y)},this.drawCircle=function(t){t.fillStyle=this.color,t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},this.drawImageInCircle=function(t){if(null!==this.img){t.save(),t.beginPath(),t.arc(0,0,this.radius,0,2*Math.PI,!0),t.clip();var i=1,e=new Vector2D(0,0).sub(this.radius),s=new Vector2D(this.radius,this.radius).mul(2),h=new Vector2D(0,0);if(this.imgFill)i=this.img.width>this.img.height?this.img.height:this.img.width,h=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(i).div(2);else{i=this.img.width>this.img.height?this.img.width:this.img.height;var o=new Vector2D(this.img.width,this.img.height).div(i).sub(1).mul(-1);0!==o.x&&(o.x=1),0!==o.y&&(o.y=1),s=new Vector2D(this.img.width,this.img.height).div(i).mulVector(s),e=e.subVector(o.mulVector(s).div(2)),e=e.addVector(o.mul(this.radius))}t.drawImage(this.img,h.x,h.y,this.img.width-2*h.x,this.img.height-2*h.y,e.x,e.y,s.x,s.y),t.closePath(),t.restore()}else console.log("[DRAWABLE][drawImageInCircle]: Could not draw image for",this,"since this.img is null")},this.drawBorderForCircle=function(t,i){t.beginPath(),t.strokeStyle=this.borderColor;var e=this.borderWidth;this.borderScaling||(e*=1/i),t.lineWidth=e,t.arc(0,0,this.radius,0,2*Math.PI,!0),t.stroke(),t.closePath()},this.drawText=function(t,i){if(null!==this.text){var e=this.textSize;if(this.textScaling&&(e*=i),e>=this.textMinSize){var s=0,h=0,o=0,r=0,n=new Vector2D(0,0);for(r=this.text.length;r>o;o++){var a=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling);if(a.x>s&&(s=a.x),h+=a.y,r-o>1){var c=this.textSpacing*this.textSize;this.textScaling||(c*=1/i),h+=c}}if(null!==this.textBackground){t.fillStyle=this.textBackground;var l=this.textPadding;this.textScaling||(l=l.mul(1/i));var u=l.mul(2).addVector(new Vector2D(s,h)),f=this.textPos;0!==this.radius&&(f=f.mul(this.radius)),0!==this.size.length()&&(f=f.mulVector(this.size));var d=f.subVector(u.mulVector(this.textAnchor));t.fillRect(d.x,d.y,u.x,u.y),n=d.addVector(l)}for(o=0,r=this.text.length;r>o;o++){t.fillStyle=this.textColor;var g=this.text[o].measure(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textScaling).y,p=this.textSpacing*this.textSize;this.textScaling||(p*=1/i),g+=p,this.text[o].draw(t,i,this.textItalic,this.textBold,this.textSize,this.textFont,this.textAlign,this.textColor,this.textScaling,n,0,s),n=n.addVector(new Vector2D(0,g))}}else if(null!==this.textReplaceColor){t.fillStyle=this.textReplaceColor;var x;this.textReplace instanceof Vector2D?(x=this.textPos.mulVector(this.size).subVector(this.textReplace.mulVector(this.textAnchor)),t.fillRect(x.x,x.y,this.textReplace.x,this.textReplace.y)):this.textReplace>0&&(x=this.textPos.mul(this.radius).subVector(this.textAnchor.sub(.5).mul(this.textReplace)),t.beginPath(),t.arc(x.x,x.y,this.textReplace,0,2*Math.PI,!1),t.closePath(),t.fill())}}else console.log("[DRAWABLE][drawText]: Could not draw text for",this,"since this.text is null")},this.animate=function(t,i,e,s,h){var o=new Animation(this,this[t],i,e,s,h);this.animations.push(o);var r=this;return o.start(function(i){r[t]=i,r.requestRedraw=!0}),o},this.animateVector=function(t,i,e,s,h){var o=this,r=new Animation(this,this[t].x,i.x,e,s,h),n=new Animation(this,this[t].y,i.y,e,s,h);this.animations.push(r),this.animations.push(n),r.start(function(i){o[t].x=i,o.requestRedraw=!0}),n.start(function(i){o[t].y=i,o.requestRedraw=!0})},this.stopAnimation=function(t){t.stop();var i=this.animations.indexOf(t);i>-1&&this.animations.splice(i,1)},this.stopAnimating=function(){for(var t=this.animations.length-1;t>=0;t--)this.animations[t].stop();this.animations=[]}};Drawable.prototype.setImage=function(t,i){this.img=new Image,this.img.src=t,"function"==typeof i&&this.show&&(this.img.onload=i)},Drawable.prototype.setText=function(t){this.text=[];for(var i=t.split("\n"),e=0,s=i.length;s>e;e++)this.text.push(new Paragraph(i[e]))},Drawable.prototype.interaction=function(t,i){var e=t.subVector(this.pos.rotate(this.rotation).mul(i)),s=0;return 0!==this.radius&&(s=this.radius*i),0!==this.size.length()&&(s=this.size.length()*i),e.length()<=s&&this.show?this:!1};var Canvas=function(t,i,e,s,h,o){this.width=e,this.height=s,this.margin=new Vector2D(t,i),this.ctx=document.getElementById(h).getContext("2d"),this.ctx.canvas.width=e,this.ctx.canvas.height=s,this.center=new Vector2D(e/2,s/2),this.offset=new Vector2D(0,0),this.scale=1,this.objects=o,this.selected=null,this.startPos=new Vector2D(0,0),this.mousePos=new Vector2D(0,0),this.focus=null,this.movingCanvas=null,this.drawCallback=null;var r=this;setInterval(function(){var t=!1;r.ctx.save(),r.ctx.textBaseline="hanging";var i=r.center.addVector(r.offset);r.ctx.setTransform(r.scale,0,0,r.scale,i.x,i.y);for(var e=0,s=r.objects.length;s>e;e++)"function"==typeof r.objects[e].requestRedraw?r.objects[e].requestRedraw()&&(t=!0):r.objects[e].requestRedraw&&(t=!0,r.objects[e].requestRedraw=!1);r.ctx.restore(),t&&r.draw()},10)};Canvas.prototype.setSize=function(t,i){this.width=t,this.height=i,this.ctx.canvas.width=t,this.ctx.canvas.height=i,this.center=new Vector2D(t/2,i/2),this.draw()},Canvas.prototype.clear=function(){this.ctx.clearRect(0,0,this.width,this.height)},Canvas.prototype.draw=function(t){"function"==typeof this.drawCallback&&this.drawCallback(),this.clear(),this.ctx.save(),this.ctx.textBaseline="hanging";var i=this.center.addVector(this.offset);this.ctx.setTransform(this.scale,0,0,this.scale,i.x,i.y);var e,s;for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].preDraw&&this.objects[e].preDraw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)this.objects[e].draw(this.ctx,this.scale);for(e=0,s=this.objects.length;s>e;e++)"function"==typeof this.objects[e].postDraw&&this.objects[e].postDraw(this.ctx,this.scale);this.ctx.restore(),"function"==typeof t&&t()},Canvas.prototype.findObjectOnCanvas=function(t){for(var i=!1,e=this.objects.length-1;e>=0;e--){var s=this.objects[e].interaction(this.mousePos,this.scale);if(s!==!1){t(s),i=!0;break}}i||t(null)},Canvas.prototype.moveToCenter=function(t){if(null===this.movingCanvas){var i=this;this.movingCanvas=setInterval(function(){0===i.offset.x&&0===i.offset.y&&(clearInterval(i.movingCanvas),i.movingCanvas=null);var e=i.offset;e=e.div(30),i.offset=i.offset.subVector(e),Math.abs(i.offset.x)<=1&&(i.offset.x=0),Math.abs(i.offset.y)<=1&&(i.offset.y=0),"function"==typeof t&&t(),i.draw()},10)}},Canvas.prototype.interactionStart=function(t,i){clearInterval(this.movingCanvas),this.movingCanvas=null,this.mousePos=new Vector2D(t.pageX,t.pageY),this.mousePos=this.mousePos.subVector(this.margin),this.mousePos=this.mousePos.subVector(this.center),this.mousePos=this.mousePos.subVector(this.offset);var e=this.mousePos,s=this.offset;this.findObjectOnCanvas(function(t){var h=t;null===h&&(h="self",e=e.addVector(s)),"function"==typeof i&&i(h,e)})},Canvas.prototype.interactionMove=function(t,i){var e=new Vector2D(t.pageX,t.pageY);e=e.subVector(this.margin),e=e.subVector(this.center);var s=e.subVector(this.mousePos);this.mousePos=e,"self"===this.selected?(this.startPos=this.startPos.addVector(s),this.offset=this.offset.addVector(s),this.draw()):null!==this.selected&&(this.startPos=this.startPos.addVector(s),this.mousePos=this.mousePos.subVector(this.offset),i(this.selected,this.mousePos.mul(1/this.scale),s.subVector(this.offset)))},Canvas.prototype.interactionStop=function(t){this.startPos.length()<=10?t(!0,this.selected):t(!1,this.selected),this.startPos=new Vector2D(0,0),this.selected=null,this.mousePos=new Vector2D(0,0)};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGguanMiLCJhbmltYXRpb24uanMiLCJwYXJhZ3JhcGguanMiLCJkcmF3YWJsZS5qcyIsImNhbnZhcy5qcyJdLCJuYW1lcyI6WyJNYXRoIiwic3F1YXJlIiwieCIsInRvUmFkaWFucyIsIlBJIiwidG9EZWdyZWVzIiwiVmVjdG9yMkQiLCJ5IiwidGhpcyIsInByb3RvdHlwZSIsImxlbmd0aCIsInNxcnQiLCJkb3QiLCJ2MiIsIm5vcm1hbGl6ZSIsImwiLCJhZGQiLCJ6IiwiYWRkVmVjdG9yIiwic3ViIiwic3ViVmVjdG9yIiwibXVsIiwibXVsVmVjdG9yIiwiZGl2IiwiZGl2VmVjdG9yIiwicm90YXRlIiwiYW5nbGUiLCJyIiwiY29zIiwic2luIiwiQW5pbWF0aW9uIiwiZWxlbWVudCIsImZyb20iLCJnb2FsIiwidGltZSIsImVhc2luZyIsImNiIiwiZGlmZmVyZW5jZSIsInBvcyIsImVuZCIsInRpbWVyIiwic3RhcnQiLCJtZSIsInNldEludGVydmFsIiwidmFsIiwibGluZWFyIiwiZWFzZUluIiwiZWFzZU91dCIsImVhc2VJbk91dCIsImNsZWFySW50ZXJ2YWwiLCJzdG9wIiwiYyIsInQiLCJkIiwiYiIsIlBhcmFncmFwaCIsInRleHQiLCJwYXJ0cyIsImNoZWNrRm9yU3R5bGUiLCJnZXRGb250IiwiaXRhbGljIiwiYm9sZCIsInNpemUiLCJmb250IiwiZm9udFRvVGV4dCIsImRyYXciLCJjdHgiLCJzY2FsZSIsImFsaWduIiwiY29sb3IiLCJzY2FsaW5nIiwieEFkZCIsIndpZHRoIiwiZiIsImkiLCJtZWFzdXJlIiwicyIsInRleHRBbGlnbiIsImZpbGxTdHlsZSIsImZpbGxUZXh0IiwibWVhc3VyZVRleHQiLCJwYXJ0U2l6ZSIsIm9wZW5pbmciLCJjbG9zaW5nIiwic3R5bGUiLCJ2IiwidGVtcCIsInNwbGl0Iiwic2hpZnQiLCJwdXNoIiwicCIsImluZGV4T2YiLCJqIiwibSIsInN0eWxlZCIsIkRyYXdhYmxlIiwiaW1nIiwiaW1nRmlsbCIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJib3JkZXJTY2FsaW5nIiwidGV4dEl0YWxpYyIsInRleHRCb2xkIiwidGV4dFNpemUiLCJ0ZXh0TWluU2l6ZSIsInRleHRGb250IiwidGV4dENvbG9yIiwidGV4dFBvcyIsInRleHRBbmNob3IiLCJ0ZXh0QmFja2dyb3VuZCIsInRleHRSZXBsYWNlIiwidGV4dFJlcGxhY2VDb2xvciIsInRleHRTcGFjaW5nIiwidGV4dFBhZGRpbmciLCJ0ZXh0U2NhbGluZyIsIm9wYWNpdHkiLCJyb3RhdGlvbiIsInJhZGl1cyIsInNob3ciLCJyZXF1ZXN0UmVkcmF3IiwiYW5pbWF0aW9ucyIsImRyYXdSZWN0YW5nbGUiLCJmaWxsUmVjdCIsImRyYXdJbWFnZSIsImhlaWdodCIsImNsaXAiLCJjb25zb2xlIiwibG9nIiwiZHJhd0JvcmRlciIsInN0cm9rZVN0eWxlIiwiYnJkdyIsImxpbmVXaWR0aCIsInN0cm9rZVJlY3QiLCJkcmF3Q2lyY2xlIiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwiZmlsbCIsImRyYXdJbWFnZUluQ2lyY2xlIiwic2F2ZSIsInJhdGlvIiwicmVzdG9yZSIsImRyYXdCb3JkZXJGb3JDaXJjbGUiLCJzdHJva2UiLCJkcmF3VGV4dCIsInciLCJoIiwicGFyYWdyYXBoUG9zIiwicGFyYWdyYXBoU2l6ZSIsInNwYWNpbmciLCJwYWRkaW5nIiwiYmxvY2tTaXplIiwidHh0UG9zIiwiYmxvY2tQb3MiLCJzcGFjZSIsInJlcGxhY2VQb3MiLCJhbmltYXRlIiwicHJvcGVydHkiLCJyZXN1bHQiLCJhbmltYXRpb24iLCJhbmltYXRlVmVjdG9yIiwiYW5pbVgiLCJhbmltWSIsInN0b3BBbmltYXRpb24iLCJpbmRleCIsInNwbGljZSIsInN0b3BBbmltYXRpbmciLCJzZXRJbWFnZSIsImltZ1NyYyIsIkltYWdlIiwic3JjIiwib25sb2FkIiwic2V0VGV4dCIsInR4dCIsImludGVyYWN0aW9uIiwibW91c2VQb3MiLCJtb3VzZURpZmZlcmVuY2UiLCJDYW52YXMiLCJlbGVtZW50SWQiLCJvYmplY3RzIiwibWFyZ2luIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImdldENvbnRleHQiLCJjYW52YXMiLCJjZW50ZXIiLCJvZmZzZXQiLCJzZWxlY3RlZCIsInN0YXJ0UG9zIiwiZm9jdXMiLCJtb3ZpbmdDYW52YXMiLCJkcmF3Q2FsbGJhY2siLCJyZWRyYXciLCJ0ZXh0QmFzZWxpbmUiLCJzZXRUcmFuc2Zvcm0iLCJzZXRTaXplIiwiY2xlYXIiLCJjbGVhclJlY3QiLCJwcmVEcmF3IiwicG9zdERyYXciLCJmaW5kT2JqZWN0T25DYW52YXMiLCJmb3VuZCIsIm8iLCJtb3ZlVG9DZW50ZXIiLCJhYnMiLCJpbnRlcmFjdGlvblN0YXJ0IiwiZSIsInBhZ2VYIiwicGFnZVkiLCJpbnRlcmFjdGlvbk1vdmUiLCJuZXdQb3MiLCJpbnRlcmFjdGlvblN0b3AiXSwibWFwcGluZ3MiOiJBQUFBQSxLQUFBQyxPQUFBLFNBQUFDLEdBQ0EsTUFBQUEsR0FBQUEsR0FHQUYsS0FBQUcsVUFBQSxTQUFBRCxHQUNBLE1BQUFBLEdBQUFGLEtBQUFJLEdBQUEsS0FHQUosS0FBQUssVUFBQSxTQUFBSCxHQUNBLE1BQUEsS0FBQUEsRUFBQUYsS0FBQUksR0FHQSxJQUFBRSxVQUFBLFNBQUFKLEVBQUFLLEdBQ0FDLEtBQUFOLEVBQUFBLEVBQ0FNLEtBQUFELEVBQUFBLEVBR0FELFVBQUFHLFdBQ0FDLE9BQUEsV0FDQSxNQUFBVixNQUFBVyxLQUFBWCxLQUFBQyxPQUFBTyxLQUFBTixHQUFBRixLQUFBQyxPQUFBTyxLQUFBRCxLQUVBSyxJQUFBLFNBQUFDLEdBQ0EsTUFBQUwsTUFBQU4sRUFBQVcsRUFBQVgsRUFBQU0sS0FBQUQsRUFBQU0sRUFBQU4sR0FFQU8sVUFBQSxXQUNBLEdBQUFDLEdBQUFQLEtBQUFFLFFBQ0FGLE1BQUFOLEdBQUFhLEVBQ0FQLEtBQUFELEdBQUFRLEdBRUFDLElBQUEsU0FBQUMsR0FDQSxNQUFBLElBQUFYLFVBQUFFLEtBQUFOLEVBQUFlLEVBQUFULEtB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QUFuTCxLQUFBdUssU0FBQTFKLElBQUEsRUFBQWIsS0FBQTJELE9BQUE5QixFQUFBakIsVUFBQVosS0FBQWtMLFdBSUFULE9BQUF4SyxVQUFBME0sZ0JBQUEsU0FBQS9LLEdBQ0E1QixLQUFBb0wsU0FBQWxMLFVBQUEsR0FDQTBCLEdBQUEsRUFBQTVCLEtBQUFtTCxVQUVBdkosR0FBQSxFQUFBNUIsS0FBQW1MLFVBRUFuTCxLQUFBb0wsU0FBQSxHQUFBdEwsVUFBQSxFQUFBLEdBQ0FFLEtBQUFtTCxTQUFBLEtBQ0FuTCxLQUFBdUssU0FBQSxHQUFBekssVUFBQSxFQUFBIiwiZmlsZSI6ImNhbnZhcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJNYXRoLnNxdWFyZSA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4geCAqIHg7XG59O1xuXG5NYXRoLnRvUmFkaWFucyA9IGZ1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gKHggKiBNYXRoLlBJKSAvIDE4MDtcbn07XG5cbk1hdGgudG9EZWdyZWVzID0gZnVuY3Rpb24oeCkge1xuICAgIHJldHVybiAoeCAqIDE4MCkgLyBNYXRoLlBJO1xufTtcblxudmFyIFZlY3RvcjJEID0gZnVuY3Rpb24oeCwgeSkge1xuICAgIHRoaXMueCA9IHg7XG4gICAgdGhpcy55ID0geTtcbn07XG5cblZlY3RvcjJELnByb3RvdHlwZSA9IHtcbiAgICBsZW5ndGg6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gTWF0aC5zcXJ0KE1hdGguc3F1YXJlKHRoaXMueCkgKyBNYXRoLnNxdWFyZSh0aGlzLnkpKTtcbiAgICB9LFxuICAgIGRvdDogZnVuY3Rpb24odjIpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnggKiB2Mi54KSArICh0aGlzLnkgKiB2Mi55KTtcbiAgICB9LFxuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBsID0gdGhpcy5sZW5ndGgoKTtcbiAgICAgICAgdGhpcy54IC89IGw7XG4gICAgICAgIHRoaXMueSAvPSBsO1xuICAgIH0sXG4gICAgYWRkOiBmdW5jdGlvbih6KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICsgeiwgdGhpcy55ICsgeik7XG4gICAgfSxcbiAgICBhZGRWZWN0b3I6IGZ1bmN0aW9uKHYyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54ICsgdjIueCwgdGhpcy55ICsgdjIueSk7XG4gICAgfSxcbiAgICBzdWI6IGZ1bmN0aW9uKHopIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggLSB6LCB0aGlzLnkgLSB6KTtcbiAgICB9LFxuICAgIHN1YlZlY3RvcjogZnVuY3Rpb24odjIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCh0aGlzLnggLSB2Mi54LCB0aGlzLnkgLSB2Mi55KTtcbiAgICB9LFxuICAgIG11bDogZnVuY3Rpb24oeikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAqIHosIHRoaXMueSAqIHopO1xuICAgIH0sXG4gICAgbXVsVmVjdG9yOiBmdW5jdGlvbih2Mikge1xuICAgICAgICByZXR1cm4gbmV3IFZlY3RvcjJEKHRoaXMueCAqIHYyLngsIHRoaXMueSAqIHYyLnkpO1xuICAgIH0sXG4gICAgZGl2OiBmdW5jdGlvbih6KSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC8geiwgdGhpcy55IC8geik7XG4gICAgfSxcbiAgICBkaXZWZWN0b3I6IGZ1bmN0aW9uKHYyKSB7XG4gICAgICAgIHJldHVybiBuZXcgVmVjdG9yMkQodGhpcy54IC8gdjIueCwgdGhpcy55IC8gdjIueSk7XG4gICAgfSxcbiAgICByb3RhdGU6IGZ1bmN0aW9uKGFuZ2xlKSB7XG4gICAgICAgIHZhciByID0gTWF0aC50b1JhZGlhbnMoYW5nbGUpO1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocik7XG4gICAgICAgIHZhciBzaW4gPSBNYXRoLnNpbihyKTtcbiAgICAgICAgcmV0dXJuIG5ldyBWZWN0b3IyRCgodGhpcy54ICogY29zKSAtICh0aGlzLnkgKiBzaW4pLCAodGhpcy54ICogc2luKSArICh0aGlzLnkgKiBjb3MpKTtcbiAgICB9XG59OyIsInZhciBBbmltYXRpb24gPSBmdW5jdGlvbihlbGVtZW50LCBmcm9tLCBnb2FsLCB0aW1lLCBlYXNpbmcsIGNiKSB7XG4gICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICB0aGlzLmZyb20gPSBmcm9tO1xuICAgIHRoaXMuZGlmZmVyZW5jZSA9IGdvYWwgLSBmcm9tO1xuXG4gICAgdGhpcy5lYXNpbmcgPSBlYXNpbmc7XG4gICAgdGhpcy5jYiA9IGNiO1xuXG4gICAgdGhpcy5wb3MgPSAwO1xuICAgIHRoaXMuZW5kID0gdGltZSAvIDEwO1xuICAgIHRoaXMudGltZXIgPSBudWxsO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgdmFyIG1lID0gdGhpcztcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIG1lLnBvcysrO1xuICAgICAgICB2YXIgdmFsID0gMDtcbiAgICAgICAgc3dpdGNoKG1lLmVhc2luZykge1xuICAgICAgICAgICAgY2FzZSBcImxpbmVhclwiOlxuICAgICAgICAgICAgICAgIHZhbCA9IG1lLmxpbmVhcihtZS5kaWZmZXJlbmNlLCBtZS5wb3MsIG1lLmVuZCwgbWUuZnJvbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWFzZUluXCI6XG4gICAgICAgICAgICAgICAgdmFsID0gbWUuZWFzZUluKG1lLmRpZmZlcmVuY2UsIG1lLnBvcywgbWUuZW5kLCBtZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlYXNlT3V0XCI6XG4gICAgICAgICAgICAgICAgdmFsID0gbWUuZWFzZU91dChtZS5kaWZmZXJlbmNlLCBtZS5wb3MsIG1lLmVuZCwgbWUuZnJvbSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiZWFzZUluT3V0XCI6XG4gICAgICAgICAgICAgICAgdmFsID0gbWUuZWFzZUluT3V0KG1lLmRpZmZlcmVuY2UsIG1lLnBvcywgbWUuZW5kLCBtZS5mcm9tKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYih2YWwpO1xuICAgICAgICBpZihtZS5wb3MgPj0gbWUuZW5kKSB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKG1lLnRpbWVyKTtcbiAgICAgICAgICAgIG1lLnRpbWVyID0gbnVsbDtcbiAgICAgICAgICAgIG1lLnBvcyA9IDA7XG4gICAgICAgICAgICBpZih0eXBlb2YgbWUuY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBtZS5jYih0cnVlLCBtZS5lbGVtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIDEwKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgdGhpcy50aW1lciA9IG51bGw7XG4gICAgaWYodHlwZW9mIHRoaXMuY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5jYihmYWxzZSwgdGhpcy5lbGVtZW50KTtcbiAgICB9XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLmxpbmVhciA9IGZ1bmN0aW9uKGMsIHQsIGQsIGIpIHtcbiAgICByZXR1cm4gKGMgKiB0IC8gZCArIGIpO1xufTtcblxuQW5pbWF0aW9uLnByb3RvdHlwZS5lYXNlSW4gPSBmdW5jdGlvbihjLCB0LCBkLCBiKSB7XG4gICAgdCAvPSBkO1xuICAgIHJldHVybiAoYyAqIHQgKiB0ICsgYik7XG59O1xuXG5BbmltYXRpb24ucHJvdG90eXBlLmVhc2VPdXQgPSBmdW5jdGlvbihjLCB0LCBkLCBiKSB7XG4gICAgdCAvPSBkO1xuICAgIHJldHVybiAoLWMgKiB0ICogKHQtMikgKyBiKTtcbn07XG5cbkFuaW1hdGlvbi5wcm90b3R5cGUuZWFzZUluT3V0ID0gZnVuY3Rpb24oYywgdCwgZCwgYikge1xuICAgIHQgLz0gZCAvIDI7XG4gICAgaWYgKHQgPCAxKSB7XG4gICAgICAgIHJldHVybiAoYy8yKnQqdCArIGIpO1xuICAgIH1cbiAgICB0LS07XG4gICAgcmV0dXJuICgtYyAvIDIgKiAodCAqICh0IC0gMikgLSAxKSArIGIpO1xufTsiLCJ2YXIgUGFyYWdyYXBoID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMucGFydHMgPSBbXTtcblxuICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbaV1cIiwgXCJbL2ldXCIsIFwiaXRhbGljXCIpKSB7XG4gICAgICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbYl1cIiwgXCJbL2JdXCIsIFwiYm9sZFwiKSkge1xuICAgICAgICAgICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIltzaXplPVwiLCBcIlsvc2l6ZV1cIiwgXCJzaXplXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIltmb250PVwiLCBcIlsvZm9udF1cIiwgXCJmb250XCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmKCF0aGlzLmNoZWNrRm9yU3R5bGUodGV4dCwgXCJbYWxpZ249XCIsIFwiWy9hbGlnbl1cIiwgXCJhbGlnblwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMuY2hlY2tGb3JTdHlsZSh0ZXh0LCBcIltjb2xvcj1cIiwgXCJbL2NvbG9yXVwiLCBcImNvbG9yXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJ0cyA9IFt0ZXh0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn07XG5cblBhcmFncmFwaC5wcm90b3R5cGUuZ2V0Rm9udCA9IGZ1bmN0aW9uKGl0YWxpYywgYm9sZCwgc2l6ZSwgZm9udCkge1xuICAgIGlmKHR5cGVvZiB0aGlzLml0YWxpYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaXRhbGljID0gdGhpcy5pdGFsaWM7XG4gICAgfVxuICAgIGlmKHR5cGVvZiB0aGlzLmJvbGQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGJvbGQgPSB0aGlzLmJvbGQ7XG4gICAgfVxuICAgIGlmKHR5cGVvZiB0aGlzLnNpemUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHNpemUgPSB0aGlzLnNpemU7XG4gICAgfVxuICAgIGlmKHR5cGVvZiB0aGlzLmZvbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZvbnQgPSB0aGlzLmZvbnQ7XG4gICAgfVxuICAgIHJldHVybiBbaXRhbGljLCBib2xkLCBzaXplLCBmb250XTtcbn07XG5cblBhcmFncmFwaC5wcm90b3R5cGUuZm9udFRvVGV4dCA9IGZ1bmN0aW9uKGl0YWxpYywgYm9sZCwgc2l6ZSwgZm9udCkge1xuICAgIHZhciB0ID0gXCJcIjtcbiAgICBpZihpdGFsaWMpIHtcbiAgICAgICAgdCArPSBcIml0YWxpYyBcIjtcbiAgICB9XG4gICAgaWYoYm9sZCkge1xuICAgICAgICB0ICs9IFwiYm9sZCBcIjtcbiAgICB9XG4gICAgdCArPSBzaXplICsgXCJwdCBcIiArIGZvbnQ7XG4gICAgcmV0dXJuIHQ7XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihjdHgsIHNjYWxlLCBpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQsIGFsaWduLCBjb2xvciwgc2NhbGluZywgcG9zLCB4QWRkLCB3aWR0aCkge1xuICAgIHZhciBmID0gdGhpcy5nZXRGb250KGl0YWxpYywgYm9sZCwgc2l6ZSwgZm9udCk7XG4gICAgaWYodHlwZW9mIHRoaXMuYWxpZ24gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGFsaWduID0gdGhpcy5hbGlnbjtcbiAgICB9XG4gICAgaWYodHlwZW9mIHRoaXMuY29sb3IgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGNvbG9yID0gdGhpcy5jb2xvcjtcbiAgICB9XG4gICAgaWYodGhpcy5wYXJ0cy5sZW5ndGggPT09IDEgJiYgISh0aGlzLnBhcnRzWzBdIGluc3RhbmNlb2YgUGFyYWdyYXBoKSkge1xuICAgICAgICBpZighc2NhbGluZykge1xuICAgICAgICAgICAgZlsyXSAqPSAxIC8gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoYWxpZ24gPT09IFwiY2VudGVyXCIpIHtcbiAgICAgICAgICAgIHhBZGQgPSAwO1xuICAgICAgICAgICAgcG9zID0gcG9zLmFkZFZlY3RvcihuZXcgVmVjdG9yMkQod2lkdGgsIDApLm11bCgwLjUpKTtcbiAgICAgICAgfVxuICAgICAgICBpZihhbGlnbiA9PT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgICB4QWRkID0gMDtcbiAgICAgICAgICAgIHBvcyA9IHBvcy5hZGRWZWN0b3IobmV3IFZlY3RvcjJEKHdpZHRoLCAwKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLmZvbnRUb1RleHQoZlswXSwgZlsxXSwgZlsyXSwgZlszXSk7XG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBhbGlnbjtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICBjdHguZmlsbFRleHQodGhpcy5wYXJ0c1swXSwgcG9zLnggKyB4QWRkLCBwb3MueSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLnBhcnRzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYodHlwZW9mIHRoaXMucGFydHNbaV0uZHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydHNbaV0uZHJhdyhjdHgsIHNjYWxlLCBmWzBdLCBmWzFdLCBmWzJdLCBmWzNdLCBhbGlnbiwgY29sb3IsIHNjYWxpbmcsIHBvcywgeEFkZCwgd2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5wYXJ0c1tpXS5wYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YgdGhpcy5wYXJ0c1tpXS5tZWFzdXJlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzID0gdGhpcy5wYXJ0c1tpXS5tZWFzdXJlKGN0eCwgc2NhbGUsIGZbMF0sIGZbMV0sIGZbMl0sIGZbM10sIHNjYWxpbmcpO1xuICAgICAgICAgICAgICAgICAgICB4QWRkICs9IHMueDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5QYXJhZ3JhcGgucHJvdG90eXBlLm1lYXN1cmUgPSBmdW5jdGlvbihjdHgsIHNjYWxlLCBpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQsIHNjYWxpbmcpIHtcbiAgICB2YXIgcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB2YXIgZiA9IHRoaXMuZ2V0Rm9udChpdGFsaWMsIGJvbGQsIHNpemUsIGZvbnQpO1xuICAgIGlmKHRoaXMucGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmKCFzY2FsaW5nKSB7XG4gICAgICAgICAgICBmWzJdICo9IDEgLyBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBjdHguZm9udCA9IHRoaXMuZm9udFRvVGV4dChmWzBdLCBmWzFdLCBmWzJdLCBmWzNdKTtcbiAgICAgICAgcy55ID0gZlsyXTtcbiAgICAgICAgcy54ID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMucGFydHNbMF0pLndpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5wYXJ0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmKHR5cGVvZiB0aGlzLnBhcnRzW2ldLm1lYXN1cmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydFNpemUgPSB0aGlzLnBhcnRzW2ldLm1lYXN1cmUoY3R4LCBzY2FsZSwgZlswXSwgZlsxXSwgZlsyXSwgZlszXSwgc2NhbGluZyk7XG4gICAgICAgICAgICAgICAgaWYocGFydFNpemUueSA+IHMueSkge1xuICAgICAgICAgICAgICAgICAgICBzLnkgPSBwYXJ0U2l6ZS55O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLnggKz0gcGFydFNpemUueDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcztcbn07XG5cblBhcmFncmFwaC5wcm90b3R5cGUuY2hlY2tGb3JTdHlsZSA9IGZ1bmN0aW9uKHRleHQsIG9wZW5pbmcsIGNsb3NpbmcsIHN0eWxlKSB7XG4gICAgdmFyIHRlbXAgPSB0ZXh0LnNwbGl0KG9wZW5pbmcpO1xuICAgIHZhciB2O1xuICAgIGlmKHRlbXAubGVuZ3RoID49IDIpIHtcbiAgICAgICAgdmFyIHQgPSB0ZW1wLnNoaWZ0KCk7XG4gICAgICAgIGlmKHQubGVuZ3RoID4gMCAmJiAhKHQgaW5zdGFuY2VvZiBQYXJhZ3JhcGgpKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2gobmV3IFBhcmFncmFwaCh0KSk7XG4gICAgICAgIH0gZWxzZSBpZih0IGluc3RhbmNlb2YgUGFyYWdyYXBoKSB7XG4gICAgICAgICAgICB0aGlzLnBhcnRzLnB1c2godCk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IHRlbXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcCA9IHRlbXBbaV0uc3BsaXQoY2xvc2luZyk7XG4gICAgICAgICAgICBpZihvcGVuaW5nLmluZGV4T2YoXCI9XCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgICBwWzBdID0gcFswXS5zcGxpdChcIl1cIik7XG4gICAgICAgICAgICAgICAgdiA9IHBbMF0uc2hpZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc3BsaXQgPSBcIlwiO1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaiA9IDAsIG0gPSBwWzBdLmxlbmd0aDsgaiA8IG07IGorKykge1xuICAgICAgICAgICAgICAgICAgICBzcGxpdCArPSBwWzBdW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZihqIDwgbSAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGl0ICs9IFwiXVwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBbMF0gPSBzcGxpdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBzdHlsZWQgPSBuZXcgUGFyYWdyYXBoKHBbMF0pO1xuXG4gICAgICAgICAgICBpZihwWzFdLmxlbmd0aCA9PT0gMCAmJiAhKHBbMV0gaW5zdGFuY2VvZiBQYXJhZ3JhcGgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHN0eWxlZCk7XG4gICAgICAgICAgICB9IGVsc2UgaWYocFsxXSBpbnN0YW5jZW9mIFBhcmFncmFwaCkge1xuICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaChzdHlsZWQpO1xuICAgICAgICAgICAgICAgIHRoaXMucGFydHMucHVzaChwWzFdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKHN0eWxlZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5wYXJ0cy5wdXNoKG5ldyBQYXJhZ3JhcGgocFsxXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3dpdGNoKHN0eWxlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcIml0YWxpY1wiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuaXRhbGljID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImJvbGRcIjpcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVkLmJvbGQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic2l6ZVwiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuc2l6ZSA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmb250XCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5mb250ID0gdjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImFsaWduXCI6XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlZC5hbGlnbiA9IHY7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvclwiOlxuICAgICAgICAgICAgICAgICAgICBzdHlsZWQuY29sb3IgPSB2O1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTsiLCJ2YXIgRHJhd2FibGUgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgdGhpcy5pbWcgPSBudWxsO1xuICAgIHRoaXMuaW1nRmlsbCA9IHRydWU7XG4gICAgdGhpcy5zY2FsZSA9IHRydWU7XG5cbiAgICB0aGlzLmJvcmRlckNvbG9yID0gXCIjMDAwMDAwXCI7XG4gICAgdGhpcy5ib3JkZXJXaWR0aCA9IDA7XG4gICAgdGhpcy5ib3JkZXJTY2FsaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMudGV4dCA9IFtdO1xuICAgIHRoaXMudGV4dEl0YWxpYyA9IGZhbHNlO1xuICAgIHRoaXMudGV4dEJvbGQgPSBmYWxzZTtcbiAgICB0aGlzLnRleHRTaXplID0gMDtcbiAgICB0aGlzLnRleHRNaW5TaXplID0gNjtcbiAgICB0aGlzLnRleHRGb250ID0gXCJBcmlhbFwiO1xuICAgIHRoaXMudGV4dEFsaWduID0gXCJsZWZ0XCI7XG4gICAgdGhpcy50ZXh0Q29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICB0aGlzLnRleHRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy50ZXh0QW5jaG9yID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMudGV4dEJhY2tncm91bmQgPSBudWxsO1xuICAgIHRoaXMudGV4dFJlcGxhY2UgPSAyMDtcbiAgICB0aGlzLnRleHRSZXBsYWNlQ29sb3IgPSBudWxsO1xuICAgIHRoaXMudGV4dFNwYWNpbmcgPSAxLjI7XG4gICAgdGhpcy50ZXh0UGFkZGluZyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnRleHRTY2FsaW5nID0gdHJ1ZTtcblxuICAgIHRoaXMub3BhY2l0eSA9IDE7XG4gICAgdGhpcy5yb3RhdGlvbiA9IDA7XG4gICAgdGhpcy5wb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5yYWRpdXMgPSAwO1xuICAgIHRoaXMuc2l6ZSA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcblxuICAgIHRoaXMuc2hvdyA9IHRydWU7XG4gICAgdGhpcy5yZXF1ZXN0UmVkcmF3ID0gZmFsc2U7XG4gICAgdGhpcy5hbmltYXRpb25zID0gW107XG5cbiAgICB0aGlzLmRyYXdSZWN0YW5nbGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XG4gICAgICAgIHZhciBwID0gbmV3IFZlY3RvcjJEKDAsIDApLnN1YlZlY3Rvcih0aGlzLnNpemUuZGl2KDIpKTtcbiAgICAgICAgY3R4LmZpbGxSZWN0KHAueCwgcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgIH07XG4gICAgdGhpcy5kcmF3SW1hZ2UgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgaWYodGhpcy5pbWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBkaXYgPSAwO1xuICAgICAgICAgICAgaWYodGhpcy5pbWdGaWxsKSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pbWcud2lkdGggPiB0aGlzLmltZy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLndpZHRoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5pbWcud2lkdGggPiB0aGlzLmltZy5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcud2lkdGg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2ID0gdGhpcy5pbWcuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBjbGlwID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLm11bFZlY3Rvcih0aGlzLnNpemUpLnN1YlZlY3Rvcih0aGlzLnNpemUpLm11bCgtMC41KTtcbiAgICAgICAgICAgIHZhciBwID0gbmV3IFZlY3RvcjJEKDAsIDApLnN1YlZlY3Rvcih0aGlzLnNpemUuZGl2KDIpKTtcbiAgICAgICAgICAgIGlmKCF0aGlzLnNjYWxlKSB7XG4gICAgICAgICAgICAgICAgY2xpcC5tdWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWcsIGNsaXAueCwgY2xpcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnksIHAueCwgcC55LCB0aGlzLnNpemUueCwgdGhpcy5zaXplLnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRFJBV0FCTEVdW2RyYXdJbWFnZV06IENvdWxkIG5vdCBkcmF3IGltYWdlIGZvclwiLCB0aGlzLCBcInNpbmNlIHRoaXMuaW1nIGlzIG51bGxcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMuZHJhd0JvcmRlciA9IGZ1bmN0aW9uKGN0eCwgc2NhbGUpIHtcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5ib3JkZXJDb2xvcjtcbiAgICAgICAgdmFyIGJyZHcgPSB0aGlzLmJvcmRlcldpZHRoO1xuICAgICAgICBpZighdGhpcy5ib3JkZXJTY2FsaW5nKSB7XG4gICAgICAgICAgICBicmR3ICo9IDEgLyBzY2FsZTtcbiAgICAgICAgfVxuICAgICAgICBjdHgubGluZVdpZHRoID0gYnJkdztcbiAgICAgICAgdmFyIHAgPSBuZXcgVmVjdG9yMkQoMCwgMCkuc3ViVmVjdG9yKHRoaXMuc2l6ZS5kaXYoMikpO1xuICAgICAgICBjdHguc3Ryb2tlUmVjdChwLngsIHAueSwgdGhpcy5zaXplLngsIHRoaXMuc2l6ZS55KTtcbiAgICB9O1xuXG4gICAgdGhpcy5kcmF3Q2lyY2xlID0gZnVuY3Rpb24oY3R4KSB7XG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLmNvbG9yO1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5hcmMoMCwgMCwgdGhpcy5yYWRpdXMsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcbiAgICAgICAgY3R4LmZpbGwoKTtcbiAgICB9O1xuICAgIHRoaXMuZHJhd0ltYWdlSW5DaXJjbGUgPSBmdW5jdGlvbihjdHgpIHtcbiAgICAgICAgaWYodGhpcy5pbWcgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGN0eC5zYXZlKCk7XG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICBjdHguYXJjKDAsIDAsIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMiwgdHJ1ZSk7XG4gICAgICAgICAgICBjdHguY2xpcCgpO1xuICAgICAgICAgICAgdmFyIGRpdiA9IDE7XG4gICAgICAgICAgICB2YXIgcCA9IG5ldyBWZWN0b3IyRCgwLCAwKS5zdWIodGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgdmFyIHMgPSBuZXcgVmVjdG9yMkQodGhpcy5yYWRpdXMsIHRoaXMucmFkaXVzKS5tdWwoMik7XG4gICAgICAgICAgICB2YXIgY2xpcCA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICAgICAgICAgIGlmKHRoaXMuaW1nRmlsbCkge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMuaW1nLndpZHRoID4gdGhpcy5pbWcuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdiA9IHRoaXMuaW1nLmhlaWdodDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2xpcCA9IG5ldyBWZWN0b3IyRCh0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0KS5kaXYoZGl2KS5zdWIoMSkubXVsKGRpdikuZGl2KDIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLmltZy53aWR0aCA+IHRoaXMuaW1nLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy53aWR0aDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBkaXYgPSB0aGlzLmltZy5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByYXRpbyA9IG5ldyBWZWN0b3IyRCh0aGlzLmltZy53aWR0aCwgdGhpcy5pbWcuaGVpZ2h0KS5kaXYoZGl2KS5zdWIoMSkubXVsKC0xKTtcbiAgICAgICAgICAgICAgICBpZihyYXRpby54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGlvLnggPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZihyYXRpby55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhdGlvLnkgPSAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzID0gbmV3IFZlY3RvcjJEKHRoaXMuaW1nLndpZHRoLCB0aGlzLmltZy5oZWlnaHQpLmRpdihkaXYpLm11bFZlY3RvcihzKTtcbiAgICAgICAgICAgICAgICBwID0gcC5zdWJWZWN0b3IocmF0aW8ubXVsVmVjdG9yKHMpLmRpdigyKSk7XG4gICAgICAgICAgICAgICAgcCA9IHAuYWRkVmVjdG9yKHJhdGlvLm11bCh0aGlzLnJhZGl1cykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltZywgY2xpcC54LCBjbGlwLnksIHRoaXMuaW1nLndpZHRoIC0gKGNsaXAueCAqIDIpLCB0aGlzLmltZy5oZWlnaHQgLSAoY2xpcC55ICogMiksIHAueCwgcC55LCBzLngsIHMueSk7XG4gICAgICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRFJBV0FCTEVdW2RyYXdJbWFnZUluQ2lyY2xlXTogQ291bGQgbm90IGRyYXcgaW1hZ2UgZm9yXCIsIHRoaXMsIFwic2luY2UgdGhpcy5pbWcgaXMgbnVsbFwiKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdGhpcy5kcmF3Qm9yZGVyRm9yQ2lyY2xlID0gZnVuY3Rpb24oY3R4LCBzY2FsZSkge1xuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuYm9yZGVyQ29sb3I7XG4gICAgICAgIHZhciBicmR3ID0gdGhpcy5ib3JkZXJXaWR0aDtcbiAgICAgICAgaWYoIXRoaXMuYm9yZGVyU2NhbGluZykge1xuICAgICAgICAgICAgYnJkdyAqPSAxIC8gc2NhbGU7XG4gICAgICAgIH1cbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IGJyZHc7XG4gICAgICAgIGN0eC5hcmMoMCwgMCwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XG4gICAgfTtcblxuICAgIHRoaXMuZHJhd1RleHQgPSBmdW5jdGlvbihjdHgsIHNjYWxlKSB7XG4gICAgICAgIGlmKHRoaXMudGV4dCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHRleHRTaXplID0gdGhpcy50ZXh0U2l6ZTtcbiAgICAgICAgICAgIGlmKHRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZSAqPSBzY2FsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKHRleHRTaXplID49IHRoaXMudGV4dE1pblNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdyA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIGggPSAwO1xuICAgICAgICAgICAgICAgIHZhciBpID0gMDtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IDA7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICAgICAgICAgICAgICBmb3IobCA9IHRoaXMudGV4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcmFncmFwaFNpemUgPSB0aGlzLnRleHRbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCB0aGlzLnRleHRJdGFsaWMsIHRoaXMudGV4dEJvbGQsIHRoaXMudGV4dFNpemUsIHRoaXMudGV4dEZvbnQsIHRoaXMudGV4dFNjYWxpbmcpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFyYWdyYXBoU2l6ZS54ID4gdykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdyA9IHBhcmFncmFwaFNpemUueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoICs9IHBhcmFncmFwaFNpemUueTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGwgLSBpID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNwYWNpbmcgPSB0aGlzLnRleHRTcGFjaW5nICogdGhpcy50ZXh0U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZXh0U2NhbGluZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNpbmcgKj0gMSAvIHNjYWxlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaCArPSBzcGFjaW5nO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dEJhY2tncm91bmQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMudGV4dEJhY2tncm91bmQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdGhpcy50ZXh0UGFkZGluZztcbiAgICAgICAgICAgICAgICAgICAgaWYoIXRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmcgPSBwYWRkaW5nLm11bCgxIC8gc2NhbGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9ja1NpemUgPSBwYWRkaW5nLm11bCgyKS5hZGRWZWN0b3IobmV3IFZlY3RvcjJEKHcsIGgpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR4dFBvcyA9IHRoaXMudGV4dFBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5yYWRpdXMgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR4dFBvcyA9IHR4dFBvcy5tdWwodGhpcy5yYWRpdXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuc2l6ZS5sZW5ndGgoKSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHh0UG9zID0gdHh0UG9zLm11bFZlY3Rvcih0aGlzLnNpemUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBibG9ja1BvcyA9IHR4dFBvcy5zdWJWZWN0b3IoYmxvY2tTaXplLm11bFZlY3Rvcih0aGlzLnRleHRBbmNob3IpKTtcbiAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KGJsb2NrUG9zLngsIGJsb2NrUG9zLnksIGJsb2NrU2l6ZS54LCBibG9ja1NpemUueSk7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFncmFwaFBvcyA9IGJsb2NrUG9zLmFkZFZlY3RvcihwYWRkaW5nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yKGkgPSAwLCBsID0gdGhpcy50ZXh0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50ZXh0Q29sb3I7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLnRleHRbaV0ubWVhc3VyZShjdHgsIHNjYWxlLCB0aGlzLnRleHRJdGFsaWMsIHRoaXMudGV4dEJvbGQsIHRoaXMudGV4dFNpemUsIHRoaXMudGV4dEZvbnQsIHRoaXMudGV4dFNjYWxpbmcpLnk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGFjZSA9IHRoaXMudGV4dFNwYWNpbmcgKiB0aGlzLnRleHRTaXplO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMudGV4dFNjYWxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwYWNlICo9IDEgLyBzY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gc3BhY2U7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGV4dFtpXS5kcmF3KGN0eCwgc2NhbGUsIHRoaXMudGV4dEl0YWxpYywgdGhpcy50ZXh0Qm9sZCwgdGhpcy50ZXh0U2l6ZSwgdGhpcy50ZXh0Rm9udCwgdGhpcy50ZXh0QWxpZ24sIHRoaXMudGV4dENvbG9yLCB0aGlzLnRleHRTY2FsaW5nLCBwYXJhZ3JhcGhQb3MsIDAsIHcpO1xuICAgICAgICAgICAgICAgICAgICBwYXJhZ3JhcGhQb3MgPSBwYXJhZ3JhcGhQb3MuYWRkVmVjdG9yKG5ldyBWZWN0b3IyRCgwLCBoZWlnaHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmKHRoaXMudGV4dFJlcGxhY2VDb2xvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy50ZXh0UmVwbGFjZUNvbG9yO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbGFjZVBvcztcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy50ZXh0UmVwbGFjZSBpbnN0YW5jZW9mIFZlY3RvcjJEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlUG9zID0gdGhpcy50ZXh0UG9zLm11bFZlY3Rvcih0aGlzLnNpemUpLnN1YlZlY3Rvcih0aGlzLnRleHRSZXBsYWNlLm11bFZlY3Rvcih0aGlzLnRleHRBbmNob3IpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdChyZXBsYWNlUG9zLngsIHJlcGxhY2VQb3MueSwgdGhpcy50ZXh0UmVwbGFjZS54LCB0aGlzLnRleHRSZXBsYWNlLnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYodGhpcy50ZXh0UmVwbGFjZSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2VQb3MgPSB0aGlzLnRleHRQb3MubXVsKHRoaXMucmFkaXVzKS5zdWJWZWN0b3IodGhpcy50ZXh0QW5jaG9yLnN1YigwLjUpLm11bCh0aGlzLnRleHRSZXBsYWNlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdHguYXJjKHJlcGxhY2VQb3MueCwgcmVwbGFjZVBvcy55LCB0aGlzLnRleHRSZXBsYWNlLCAwLCAyICogTWF0aC5QSSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3R4LmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW0RSQVdBQkxFXVtkcmF3VGV4dF06IENvdWxkIG5vdCBkcmF3IHRleHQgZm9yXCIsIHRoaXMsIFwic2luY2UgdGhpcy50ZXh0IGlzIG51bGxcIik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5hbmltYXRlID0gZnVuY3Rpb24ocHJvcGVydHksIHJlc3VsdCwgdGltZSwgZWFzaW5nLCBjYikge1xuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEFuaW1hdGlvbih0aGlzLCB0aGlzW3Byb3BlcnR5XSwgcmVzdWx0LCB0aW1lLCBlYXNpbmcsIGNiKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbWF0aW9uKTtcbiAgICAgICAgdmFyIG1lID0gdGhpcztcbiAgICAgICAgYW5pbWF0aW9uLnN0YXJ0KGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgbWVbcHJvcGVydHldID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYW5pbWF0aW9uO1xuICAgIH07XG4gICAgdGhpcy5hbmltYXRlVmVjdG9yID0gZnVuY3Rpb24ocHJvcGVydHksIHJlc3VsdCwgdGltZSwgZWFzaW5nLCBjYikge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB2YXIgYW5pbVggPSBuZXcgQW5pbWF0aW9uKHRoaXMsIHRoaXNbcHJvcGVydHldLngsIHJlc3VsdC54LCB0aW1lLCBlYXNpbmcsIGNiKTtcbiAgICAgICAgdmFyIGFuaW1ZID0gbmV3IEFuaW1hdGlvbih0aGlzLCB0aGlzW3Byb3BlcnR5XS55LCByZXN1bHQueSwgdGltZSwgZWFzaW5nLCBjYik7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucy5wdXNoKGFuaW1YKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbVkpO1xuICAgICAgICBhbmltWC5zdGFydChmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIG1lW3Byb3BlcnR5XS54ID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBhbmltWS5zdGFydChmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgIG1lW3Byb3BlcnR5XS55ID0gdmFsO1xuICAgICAgICAgICAgbWUucmVxdWVzdFJlZHJhdyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uID0gZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgIGFuaW1hdGlvbi5zdG9wKCk7XG4gICAgICAgIHZhciBpbmRleCA9IHRoaXMuYW5pbWF0aW9ucy5pbmRleE9mKGFuaW1hdGlvbik7XG4gICAgICAgIGlmKGluZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLnN0b3BBbmltYXRpbmcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IHRoaXMuYW5pbWF0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zW2ldLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFuaW1hdGlvbnMgPSBbXTtcbiAgICB9O1xufTtcblxuRHJhd2FibGUucHJvdG90eXBlLnNldEltYWdlID0gZnVuY3Rpb24oaW1nU3JjLCBjYikge1xuICAgIHRoaXMuaW1nID0gbmV3IEltYWdlKCk7XG4gICAgdGhpcy5pbWcuc3JjID0gaW1nU3JjO1xuICAgIGlmKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJyAmJiB0aGlzLnNob3cpIHtcbiAgICAgICAgdGhpcy5pbWcub25sb2FkID0gY2I7XG4gICAgfVxufTtcbkRyYXdhYmxlLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24odGV4dCkge1xuICAgIHRoaXMudGV4dCA9IFtdO1xuICAgIHZhciB0eHQgPSB0ZXh0LnNwbGl0KCdcXG4nKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IHR4dC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgdGhpcy50ZXh0LnB1c2gobmV3IFBhcmFncmFwaCh0eHRbaV0pKTtcbiAgICB9XG59O1xuXG5EcmF3YWJsZS5wcm90b3R5cGUuaW50ZXJhY3Rpb24gPSBmdW5jdGlvbihtb3VzZVBvcywgc2NhbGUpIHtcbiAgICB2YXIgbW91c2VEaWZmZXJlbmNlID0gbW91c2VQb3Muc3ViVmVjdG9yKHRoaXMucG9zLnJvdGF0ZSh0aGlzLnJvdGF0aW9uKS5tdWwoc2NhbGUpKTtcbiAgICB2YXIgZGlmZmVyZW5jZSA9IDA7XG4gICAgaWYodGhpcy5yYWRpdXMgIT09IDApIHtcbiAgICAgICAgZGlmZmVyZW5jZSA9IHRoaXMucmFkaXVzICogc2NhbGU7XG4gICAgfVxuICAgIGlmKHRoaXMuc2l6ZS5sZW5ndGgoKSAhPT0gMCkge1xuICAgICAgICBkaWZmZXJlbmNlID0gdGhpcy5zaXplLmxlbmd0aCgpICogc2NhbGU7XG4gICAgfVxuICAgIGlmIChtb3VzZURpZmZlcmVuY2UubGVuZ3RoKCkgPD0gZGlmZmVyZW5jZSAmJiB0aGlzLnNob3cpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn07IiwidmFyIENhbnZhcyA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIGVsZW1lbnRJZCwgb2JqZWN0cykge1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLm1hcmdpbiA9IG5ldyBWZWN0b3IyRCh4LCB5KTtcbiAgICB0aGlzLmN0eCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZCkuZ2V0Q29udGV4dChcIjJkXCIpO1xuICAgIHRoaXMuY3R4LmNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgIHRoaXMuY3R4LmNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XG5cbiAgICB0aGlzLmNlbnRlciA9IG5ldyBWZWN0b3IyRCh3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgIHRoaXMub2Zmc2V0ID0gbmV3IFZlY3RvcjJEKDAsIDApO1xuICAgIHRoaXMuc2NhbGUgPSAxO1xuXG4gICAgdGhpcy5vYmplY3RzID0gb2JqZWN0cztcbiAgICB0aGlzLnNlbGVjdGVkID0gbnVsbDtcblxuICAgIHRoaXMuc3RhcnRQb3MgPSBuZXcgVmVjdG9yMkQoMCwgMCk7XG4gICAgdGhpcy5tb3VzZVBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLmZvY3VzID0gbnVsbDtcblxuICAgIHRoaXMubW92aW5nQ2FudmFzID0gbnVsbDtcblxuICAgIHRoaXMuZHJhd0NhbGxiYWNrID0gbnVsbDtcblxuICAgIHZhciBtZSA9IHRoaXM7XG4gICAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciByZWRyYXcgPSBmYWxzZTtcbiAgICAgICAgbWUuY3R4LnNhdmUoKTtcbiAgICAgICAgbWUuY3R4LnRleHRCYXNlbGluZSA9IFwiaGFuZ2luZ1wiO1xuICAgICAgICB2YXIgYyA9IG1lLmNlbnRlci5hZGRWZWN0b3IobWUub2Zmc2V0KTtcbiAgICAgICAgbWUuY3R4LnNldFRyYW5zZm9ybShtZS5zY2FsZSwgMCwgMCwgbWUuc2NhbGUsIGMueCwgYy55KTtcbiAgICAgICAgZm9yKHZhciBpID0gMCwgbCA9IG1lLm9iamVjdHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0eXBlb2YgbWUub2JqZWN0c1tpXS5yZXF1ZXN0UmVkcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgaWYobWUub2JqZWN0c1tpXS5yZXF1ZXN0UmVkcmF3KCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYobWUub2JqZWN0c1tpXS5yZXF1ZXN0UmVkcmF3KSB7XG4gICAgICAgICAgICAgICAgcmVkcmF3ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtZS5vYmplY3RzW2ldLnJlcXVlc3RSZWRyYXcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtZS5jdHgucmVzdG9yZSgpO1xuICAgICAgICBpZihyZWRyYXcpIHtcbiAgICAgICAgICAgIG1lLmRyYXcoKTtcbiAgICAgICAgfVxuICAgIH0sIDEwKTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuc2V0U2l6ZSA9IGZ1bmN0aW9uKHdpZHRoLCBoZWlnaHQpIHtcbiAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2lkdGg7XG4gICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IGhlaWdodDtcbiAgICB0aGlzLmNlbnRlciA9IG5ldyBWZWN0b3IyRCh3aWR0aCAvIDIsIGhlaWdodCAvIDIpO1xuICAgIHRoaXMuZHJhdygpO1xufTtcblxuQ2FudmFzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XG59O1xuXG5DYW52YXMucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbihjYikge1xuICAgIGlmKHR5cGVvZiB0aGlzLmRyYXdDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLmRyYXdDYWxsYmFjaygpO1xuICAgIH1cbiAgICB0aGlzLmNsZWFyKCk7XG4gICAgdGhpcy5jdHguc2F2ZSgpO1xuICAgIHRoaXMuY3R4LnRleHRCYXNlbGluZSA9IFwiaGFuZ2luZ1wiO1xuICAgIHZhciBjID0gdGhpcy5jZW50ZXIuYWRkVmVjdG9yKHRoaXMub2Zmc2V0KTtcbiAgICB0aGlzLmN0eC5zZXRUcmFuc2Zvcm0odGhpcy5zY2FsZSwgMCwgMCwgdGhpcy5zY2FsZSwgYy54LCBjLnkpO1xuICAgIHZhciBpLCBsO1xuICAgIGZvcihpID0gMCwgbCA9IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMub2JqZWN0c1tpXS5wcmVEcmF3ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aGlzLm9iamVjdHNbaV0ucHJlRHJhdyh0aGlzLmN0eCwgdGhpcy5zY2FsZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZm9yKGkgPSAwLCBsID0gdGhpcy5vYmplY3RzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICB0aGlzLm9iamVjdHNbaV0uZHJhdyh0aGlzLmN0eCwgdGhpcy5zY2FsZSk7XG4gICAgfVxuICAgIGZvcihpID0gMCwgbCA9IHRoaXMub2JqZWN0cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgaWYodHlwZW9mIHRoaXMub2JqZWN0c1tpXS5wb3N0RHJhdyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhpcy5vYmplY3RzW2ldLnBvc3REcmF3KHRoaXMuY3R4LCB0aGlzLnNjYWxlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XG4gICAgaWYodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiKCk7XG4gICAgfVxufTtcblxuQ2FudmFzLnByb3RvdHlwZS5maW5kT2JqZWN0T25DYW52YXMgPSBmdW5jdGlvbihjYikge1xuICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgIGZvcih2YXIgaSA9IHRoaXMub2JqZWN0cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICB2YXIgbyA9IHRoaXMub2JqZWN0c1tpXS5pbnRlcmFjdGlvbih0aGlzLm1vdXNlUG9zLCB0aGlzLnNjYWxlKTtcbiAgICAgICAgaWYobyAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGNiKG8pO1xuICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYoIWZvdW5kKSB7XG4gICAgICAgIGNiKG51bGwpO1xuICAgIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUubW92ZVRvQ2VudGVyID0gZnVuY3Rpb24oY2IpIHtcbiAgICBpZih0aGlzLm1vdmluZ0NhbnZhcyA9PT0gbnVsbCkge1xuICAgICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vdmluZ0NhbnZhcyA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYobWUub2Zmc2V0LnggPT09IDAgJiYgbWUub2Zmc2V0LnkgPT09IDApIHtcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG1lLm1vdmluZ0NhbnZhcyk7XG4gICAgICAgICAgICAgICAgbWUubW92aW5nQ2FudmFzID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkID0gbWUub2Zmc2V0O1xuICAgICAgICAgICAgZCA9IGQuZGl2KDMwKTtcbiAgICAgICAgICAgIG1lLm9mZnNldCA9IG1lLm9mZnNldC5zdWJWZWN0b3IoZCk7XG4gICAgICAgICAgICBpZihNYXRoLmFicyhtZS5vZmZzZXQueCkgPD0gMSkge1xuICAgICAgICAgICAgICAgIG1lLm9mZnNldC54ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKE1hdGguYWJzKG1lLm9mZnNldC55KSA8PSAxKSB7XG4gICAgICAgICAgICAgICAgbWUub2Zmc2V0LnkgPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1lLmRyYXcoKTtcbiAgICAgICAgfSwgMTApO1xuICAgIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuaW50ZXJhY3Rpb25TdGFydCA9IGZ1bmN0aW9uKGUsIGNiKSB7XG4gICAgY2xlYXJJbnRlcnZhbCh0aGlzLm1vdmluZ0NhbnZhcyk7XG4gICAgdGhpcy5tb3ZpbmdDYW52YXMgPSBudWxsO1xuICAgIHRoaXMubW91c2VQb3MgPSBuZXcgVmVjdG9yMkQoZS5wYWdlWCwgZS5wYWdlWSk7XG4gICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMubW91c2VQb3Muc3ViVmVjdG9yKHRoaXMubWFyZ2luKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gdGhpcy5tb3VzZVBvcy5zdWJWZWN0b3IodGhpcy5jZW50ZXIpO1xuICAgIHRoaXMubW91c2VQb3MgPSB0aGlzLm1vdXNlUG9zLnN1YlZlY3Rvcih0aGlzLm9mZnNldCk7XG4gICAgdmFyIG1vdXNlUG9zID0gdGhpcy5tb3VzZVBvcztcbiAgICB2YXIgb2Zmc2V0ID0gdGhpcy5vZmZzZXQ7XG4gICAgdGhpcy5maW5kT2JqZWN0T25DYW52YXMoZnVuY3Rpb24oZm91bmQpIHtcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gZm91bmQ7XG4gICAgICAgIGlmKHNlbGVjdGVkID09PSBudWxsKSB7XG4gICAgICAgICAgICBzZWxlY3RlZCA9IFwic2VsZlwiO1xuICAgICAgICAgICAgbW91c2VQb3MgPSBtb3VzZVBvcy5hZGRWZWN0b3Iob2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgICBpZih0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNiKHNlbGVjdGVkLCBtb3VzZVBvcyk7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuaW50ZXJhY3Rpb25Nb3ZlID0gZnVuY3Rpb24oZSwgY2IpIHtcbiAgICB2YXIgbmV3UG9zID0gbmV3IFZlY3RvcjJEKGUucGFnZVgsIGUucGFnZVkpO1xuICAgIG5ld1BvcyA9IG5ld1Bvcy5zdWJWZWN0b3IodGhpcy5tYXJnaW4pO1xuICAgIG5ld1BvcyA9IG5ld1Bvcy5zdWJWZWN0b3IodGhpcy5jZW50ZXIpO1xuICAgIHZhciBkaWZmZXJlbmNlID0gbmV3UG9zLnN1YlZlY3Rvcih0aGlzLm1vdXNlUG9zKTtcbiAgICB0aGlzLm1vdXNlUG9zID0gbmV3UG9zO1xuICAgIGlmKHRoaXMuc2VsZWN0ZWQgPT09IFwic2VsZlwiKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb3MgPSB0aGlzLnN0YXJ0UG9zLmFkZFZlY3RvcihkaWZmZXJlbmNlKTtcbiAgICAgICAgdGhpcy5vZmZzZXQgPSB0aGlzLm9mZnNldC5hZGRWZWN0b3IoZGlmZmVyZW5jZSk7XG4gICAgICAgIHRoaXMuZHJhdygpO1xuICAgIH0gZWxzZSBpZih0aGlzLnNlbGVjdGVkICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQb3MgPSB0aGlzLnN0YXJ0UG9zLmFkZFZlY3RvcihkaWZmZXJlbmNlKTtcbiAgICAgICAgdGhpcy5tb3VzZVBvcyA9IHRoaXMubW91c2VQb3Muc3ViVmVjdG9yKHRoaXMub2Zmc2V0KTtcbiAgICAgICAgY2IodGhpcy5zZWxlY3RlZCwgdGhpcy5tb3VzZVBvcy5tdWwoMSAvIHRoaXMuc2NhbGUpLCBkaWZmZXJlbmNlLnN1YlZlY3Rvcih0aGlzLm9mZnNldCkpO1xuICAgIH1cbn07XG5cbkNhbnZhcy5wcm90b3R5cGUuaW50ZXJhY3Rpb25TdG9wID0gZnVuY3Rpb24oY2IpIHtcbiAgICBpZih0aGlzLnN0YXJ0UG9zLmxlbmd0aCgpIDw9IDEwKSB7XG4gICAgICAgIGNiKHRydWUsIHRoaXMuc2VsZWN0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNiKGZhbHNlLCB0aGlzLnNlbGVjdGVkKTtcbiAgICB9XG4gICAgdGhpcy5zdGFydFBvcyA9IG5ldyBWZWN0b3IyRCgwLCAwKTtcbiAgICB0aGlzLnNlbGVjdGVkID0gbnVsbDtcbiAgICB0aGlzLm1vdXNlUG9zID0gbmV3IFZlY3RvcjJEKDAsIDApO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
